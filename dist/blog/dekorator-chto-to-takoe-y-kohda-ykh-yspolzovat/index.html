<!DOCTYPE html><html lang="ru"> <head><title>Декораторы - что это такое и когда их использовать | Игорь Горлов - Fullstack Developer</title><link rel="canonical" href="https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat"><meta name="description" content="В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию деко"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Декораторы - что это такое и когда их использовать </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/es6" data-astro-cid-axzg2cw6> Es6 </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/javascript" data-astro-cid-axzg2cw6> JavaScript </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat-Dec-18-2023.Cj4n7UV5_1yIGaJ.avif" type="image/avif"><source srcset="/_astro/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat-Dec-18-2023.Cj4n7UV5_Z1ICMaV.webp" type="image/webp"> <img src="/_astro/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat-Dec-18-2023.Cj4n7UV5_Z2uubS8.png" alt="Декораторы - что это такое и когда их использовать" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Декораторы - что это такое и когда их использовать&#38;url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat&#38;title=Декораторы - что это такое и когда их использовать&#38;summary=В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию деко&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat&#38;media=&#38;description=В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию деко" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#что-такое-декораторы-в-javascript">Что такое декораторы в JavaScript?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#декоративная-композиция">Декоративная композиция</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#пример-композиции-декораторов">Пример композиции декораторов</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#декораторы-параметров">Декораторы параметров</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#пример-декоратора-параметров">Пример декоратора параметров</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#асинхронные-декораторы">Асинхронные декораторы</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#пример-асинхронного-декоратора">Пример асинхронного декоратора</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#создание-пользовательских-декораторов">Создание пользовательских декораторов</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#примеры-пользовательских-декораторов">Примеры пользовательских декораторов</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#примеры-использования-функций-пользовательских-декораторов">Примеры использования функций пользовательских декораторов</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#декораторы-в-различных-фреймворках">Декораторы в различных фреймворках</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#angular-широкое-использование-декораторов">Angular: широкое использование декораторов</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#react-компоненты-высшего-порядка">React: компоненты высшего порядка</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#vuejs-параметры-компонентов-с-помощью-декораторов">Vue.js: параметры компонентов с помощью декораторов</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#фабрики-декораторов">Фабрики декораторов</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#практические-примеры-использования-фабрик-декораторов">Практические примеры использования фабрик декораторов</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#преимущества-фабрик-декораторов">Преимущества фабрик-декораторов</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#к-числу-преимуществ-фабрик-декораторов-относятся">К числу преимуществ фабрик-декораторов относятся:</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#плюсы-и-минусы-декораторов-в-javascript">Плюсы и минусы декораторов в JavaScript</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#плюсы-оптимизации-декораторов-javascript">Плюсы оптимизации декораторов JavaScript</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#минусы-оптимизации-декораторов-javascript">Минусы оптимизации декораторов JavaScript</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details open><p>В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию декораторов, декораторы параметров, асинхронные декораторы, создание пользовательских декораторов, использование декораторов в различных фреймворках, фабрики декораторов, а также плюсы и минусы декораторов JavaScript.</p>
<h2 id="что-такое-декораторы-в-javascript">Что такое декораторы в JavaScript?<a aria-hidden="true" tabindex="-1" href="#что-такое-декораторы-в-javascript"><span class="icon icon-link"></span></a></h2>
<p>Декоратор - это функция, которая добавляет некоторые дополнительные возможности к существующему методу. Она позволяет изменять поведение объекта, не меняя его исходный код, но расширяя его функциональность.</p>
<figure class="igorlov-figure"><img  src="/_astro/1697945751js-decorators.Bsa2vUUw_1SvrEk.webp" alt="Диаграмма, показывающая функцию, к декоратору, к декорированной функции" width="1000" height="463" loading="lazy" decoding="async"><figcaption>Диаграмма, показывающая функцию, к декоратору, к декорированной функции</figcaption></figure>
<p>Декораторы отлично подходят для повышения читаемости, удобства сопровождения и повторного использования кода. В JavaScript декораторы - это функции, которые могут изменять классы, методы, свойства или даже параметры. Они позволяют добавить поведение или метаданные в различные части кода, не изменяя исходный код.</p>
<p>Декораторы обычно используются с классами и имеют префикс в виде символа <code>@</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">	console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">Logging </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> function</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Example</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FB">log</span></span>
<span class="line"><span style="color:#ADD7FF">	greet</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Hello, world!</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> example</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Example</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">example</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">greet</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>Приведенный выше код демонстрирует, как декоратор может изменять поведение метода класса, регистрируя сообщение перед выполнением метода.</p>
<h2 id="декоративная-композиция">Декоративная композиция<a aria-hidden="true" tabindex="-1" href="#декоративная-композиция"><span class="icon icon-link"></span></a></h2>
<p>Декораторы обладают такими мощными свойствами, как компоновка и вложенность. Это означает, что мы можем применить несколько декораторов к одному и тому же фрагменту кода, и они будут выполняться в определенном порядке. Это помогает создавать сложные и модульные приложения.</p>
<h3 id="пример-композиции-декораторов">Пример композиции декораторов<a aria-hidden="true" tabindex="-1" href="#пример-композиции-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Давайте рассмотрим случай, когда несколько декораторов применяются к одному и тому же коду. Рассмотрим веб-приложение, в котором мы хотим ограничить доступ к определенным маршрутам на основе уровней аутентификации и авторизации пользователей. Мы можем добиться этого, комбинируя декораторы следующим образом:</p>
<p><code>@requireAuth @requireAdmin class AdminDashboard { }</code></p>
<p>Здесь <code>requireAuth</code> и <code>requireAdmin</code> являются декораторами, которые обеспечивают аутентификацию пользователя и наличие у него привилегий администратора перед доступом к <code>AdminDashboard</code>.</p>
<h2 id="декораторы-параметров">Декораторы параметров<a aria-hidden="true" tabindex="-1" href="#декораторы-параметров"><span class="icon icon-link"></span></a></h2>
<p>Декораторы параметров позволяют изменять параметры методов. Они встречаются реже, чем другие типы декораторов, но могут быть полезны в определенных ситуациях, например при проверке или преобразовании аргументов функции.</p>
<h3 id="пример-декоратора-параметров">Пример декоратора параметров<a aria-hidden="true" tabindex="-1" href="#пример-декоратора-параметров"><span class="icon icon-link"></span></a></h3>
<p>Вот пример декоратора параметров, который гарантирует, что параметр функции находится в заданном диапазоне:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> validateParam</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">min</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">max</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">index</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> target</span><span style="color:#A6ACCD">[</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">];</span></span>
<span class="line"><span style="color:#E4F0FB">		target</span><span style="color:#A6ACCD">[</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#E4F0FB"> arg</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> args</span><span style="color:#A6ACCD">[</span><span style="color:#E4F0FB">index</span><span style="color:#A6ACCD">];</span></span>
<span class="line"><span style="color:#A6ACCD">			if (</span><span style="color:#E4F0FB">arg</span><span style="color:#91B4D5"> &#x3C;</span><span style="color:#E4F0FB"> min</span><span style="color:#91B4D5"> ||</span><span style="color:#E4F0FB"> arg</span><span style="color:#91B4D5"> ></span><span style="color:#E4F0FB"> max</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#D0679D">				throw</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">Argument at index </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">index</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> is out of range.</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">			}</span></span>
<span class="line"><span style="color:#5DE4C7C0">			return</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		};</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> MathOperations</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">validateParam</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">10</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	multiply</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">a</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">b</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FB"> a</span><span style="color:#91B4D5"> *</span><span style="color:#E4F0FB"> b</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> math</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> MathOperations</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">math</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">multiply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">5</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">12</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>Код определяет декоратор с именем <code>validateParam</code>, применяемый к методу <code>multiply</code> в классе <code>MathOperations</code>. Декоратор <code>validateParam</code> проверяет, попадают ли параметры метода multiply в указанный диапазон (от 0 до 10). Когда метод multiply вызывается с аргументами <code>5</code> и <code>12</code>, декоратор обнаруживает, что <code>12</code> выходит за пределы диапазона, и выбрасывает ошибку.</p>
<h2 id="асинхронные-декораторы">Асинхронные декораторы<a aria-hidden="true" tabindex="-1" href="#асинхронные-декораторы"><span class="icon icon-link"></span></a></h2>
<p>Асинхронные декораторы обрабатывают асинхронные операции в современных приложениях JavaScript. Они полезны при работе с async/await и обещаниями.</p>
<h3 id="пример-асинхронного-декоратора">Пример асинхронного декоратора<a aria-hidden="true" tabindex="-1" href="#пример-асинхронного-декоратора"><span class="icon icon-link"></span></a></h3>
<p>Рассмотрим сценарий, в котором мы хотим ограничить частоту вызовов определенного метода. Мы можем создать декоратор <code>@throttle</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> throttle</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">delay</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">	let</span><span style="color:#E4F0FB"> lastExecution</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">		descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">value</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#E4F0FB"> now</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> Date</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">now</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">			if (</span><span style="color:#E4F0FB">now</span><span style="color:#91B4D5"> -</span><span style="color:#E4F0FB"> lastExecution</span><span style="color:#91B4D5"> >=</span><span style="color:#E4F0FB"> delay</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">				lastExecution</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> now</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">				return</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">			} else {</span></span>
<span class="line"><span style="color:#E4F0FB">				console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">Method </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> throttled.</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">			}</span></span>
<span class="line"><span style="color:#A6ACCD">		};</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> DataService</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">throttle</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1000</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#5DE4C7">	async</span><span style="color:#ADD7FF"> fetchData</span><span style="color:#A6ACCD">() {}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> dataService</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> DataService</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">dataService</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">fetchData</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>Здесь определенный декоратор <code>throttle</code> применяется к методу <code>fetchData</code> в классе <code>DataService</code>. Декоратор throttle гарантирует, что метод <code>fetchData</code> будет выполняться только один раз в секунду. Если он вызывается чаще, декоратор регистрирует сообщение о том, что метод был дросселирован.</p>
<p>Этот код демонстрирует, как декораторы могут контролировать скорость вызова метода, что может быть полезно в таких сценариях, как ограничение скорости запросов API.</p>
<h2 id="создание-пользовательских-декораторов">Создание пользовательских декораторов<a aria-hidden="true" tabindex="-1" href="#создание-пользовательских-декораторов"><span class="icon icon-link"></span></a></h2>
<p>Хотя JavaScript предоставляет некоторые встроенные декораторы, такие как <code>@deprecated</code> или <code>@readonly</code>, бывают случаи, когда нам необходимо создать собственные декораторы, отвечающие требованиям конкретного проекта.</p>
<p>Пользовательские декораторы - это определяемые пользователем функции, которые изменяют поведение или свойства классов, методов, свойств или параметров в коде JavaScript. Эти декораторы инкапсулируют и повторно используют определенную функциональность или обеспечивают соблюдение определенных соглашений в нашей кодовой базе.</p>
<h3 id="примеры-пользовательских-декораторов">Примеры пользовательских декораторов<a aria-hidden="true" tabindex="-1" href="#примеры-пользовательских-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Декораторы обозначаются символом <code>@</code>. Давайте создадим пользовательский декоратор, который будет записывать в журнал сообщение до и после выполнения метода. Этот декоратор поможет проиллюстрировать базовую структуру пользовательских декораторов:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> logMethod</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">	descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">value</span><span style="color:#91B4D5"> =</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">Before </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> is called</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> result</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">After </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> is called</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FB"> result</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Example</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FB">logMethod</span></span>
<span class="line"><span style="color:#ADD7FF">	greet</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Hello, world!</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> example</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Example</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">example</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">greet</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>В этом примере мы определили декоратор <code>logMethod</code>, который оборачивает метод greet класса <code>Example</code>. Декоратор записывает в журнал сообщение до и после выполнения метода, улучшая поведение метода greet без изменения его исходного кода.</p>
<p>Рассмотрим другой пример - пользовательский декоратор <code>@measureTime</code>, который регистрирует время выполнения метода:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> measureTime</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">	descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">value</span><span style="color:#91B4D5"> =</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> start</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> performance</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">now</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> result</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> end</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> performance</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">now</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">Execution time for </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">: </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">end</span><span style="color:#91B4D5"> -</span><span style="color:#E4F0FB"> start</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> milliseconds</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FB"> result</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Timer</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FB">measureTime</span></span>
<span class="line"><span style="color:#ADD7FF">	heavyComputation</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#A6ACCD">		for (</span><span style="color:#91B4D5">let</span><span style="color:#E4F0FB"> i</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">; </span><span style="color:#E4F0FB">i</span><span style="color:#91B4D5"> &#x3C;</span><span style="color:#5DE4C7"> 1000000000</span><span style="color:#A6ACCD">; </span><span style="color:#E4F0FB">i</span><span style="color:#91B4D5">++</span><span style="color:#A6ACCD">) {}</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> timer</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Timer</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">timer</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">heavyComputation</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>Приведенный выше код определяет пользовательский декоратор <code>measureTime</code> и применяет его к методу класса <code>Timer</code>. Этот декоратор измеряет время выполнения декорированного метода. Когда мы вызываем метод <code>heavyComputation</code>, декоратор фиксирует время начала, запускает вычисления, фиксирует время окончания, вычисляет прошедшее время и записывает его в консоль.</p>
<p>Этот код демонстрирует, как декораторы добавляют в методы функции мониторинга производительности и синхронизации, которые могут быть полезны для оптимизации кода и выявления узких мест.</p>
<h3 id="примеры-использования-функций-пользовательских-декораторов">Примеры использования функций пользовательских декораторов<a aria-hidden="true" tabindex="-1" href="#примеры-использования-функций-пользовательских-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Пользовательские декораторы могут предоставлять различные функциональные возможности, такие как проверка, аутентификация, ведение журнала или измерение производительности. Вот некоторые примеры использования:</p>
<ul>
<li>Валидация. Мы можем создавать декораторы для проверки аргументов метода на соответствие определенным критериям, как это было показано в предыдущем примере с проверкой параметров. - Аутентификация и авторизация. Декораторы можно использовать для применения правил контроля доступа и авторизации, что позволяет нам защитить маршруты или методы.</li>
<li>Кэширование. Декораторы могут реализовать механизмы кэширования для эффективного хранения и получения данных, сокращая ненужные вычисления.</li>
<li>Ведение журнала. Декораторы могут записывать в журнал вызовы методов, показатели производительности или ошибки, помогая отладке и мониторингу.</li>
<li>Мемоизация. Декораторы Memoization могут кэшировать результаты функций для определенных входов, повышая производительность повторяющихся вычислений.</li>
<li>Механизм повтора. Мы можем создавать декораторы, которые автоматически повторяют метод определенное количество раз в случае сбоев.</li>
<li>Обработка событий. Декораторы могут вызывать события до и после выполнения метода, что позволяет создавать архитектуры, управляемые событиями.</li>
</ul>
<h2 id="декораторы-в-различных-фреймворках">Декораторы в различных фреймворках<a aria-hidden="true" tabindex="-1" href="#декораторы-в-различных-фреймворках"><span class="icon icon-link"></span></a></h2>
<p>Фреймворки и библиотеки JavaScript, такие как Angular, React и Vue.js, имеют свои соглашения по использованию декораторов. Понимание того, как декораторы работают в этих фреймворках, помогает нам создавать лучшие приложения.</p>
<h3 id="angular-широкое-использование-декораторов">Angular: широкое использование декораторов<a aria-hidden="true" tabindex="-1" href="#angular-широкое-использование-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Angular, комплексный фронтенд-фреймворк, в значительной степени опирается на декораторы для определения различных областей компонентов, сервисов и прочего. Вот некоторые декораторы в Angular:</p>
<p><code>@Component</code>. Используется для определения компонента, указывая метаданные, такие как селектор, шаблон и стили компонента:</p>
<p><code>@Component({ selector: "app-example", template: "Example component", }) class ExampleComponent {}</code></p>
<p><code>@Injectable</code>. Помечает класс как сервис, который можно инжектировать в другие компоненты и сервисы:</p>
<p><code>@Injectable() class ExampleService {}</code></p>
<p><code>@Input</code> и <code>@Output</code>. Эти декораторы позволяют нам определять входные и выходные свойства компонентов, облегчая взаимодействие между родительскими и дочерними компонентами:</p>
<p><code>@Input() title: string; @Output() notify: EventEmitter&#x3C;string> = new EventEmitter();</code></p>
<p>Декораторы Angular улучшают организацию кода, облегчая создание сложных приложений с четкой и структурированной архитектурой.</p>
<h3 id="react-компоненты-высшего-порядка">React: компоненты высшего порядка<a aria-hidden="true" tabindex="-1" href="#react-компоненты-высшего-порядка"><span class="icon icon-link"></span></a></h3>
<p>React - популярная библиотека JavaScript. В ней нет встроенных декораторов, как в Angular. Однако в React появилась концепция, известная как компоненты высшего порядка (HOC), которые выступают в качестве разновидности декораторов. HOCs - это функции, которые берут компонент и возвращают новый улучшенный компонент. Они позволяют повторно использовать код, абстрагировать состояние и манипулировать реквизитами.</p>
<p>Вот пример HOC, который ведет журнал при рендеринге компонента:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> withLogger</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">WrappedComponent</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> class</span><span style="color:#5DE4C7"> extends</span><span style="color:#A6ACCDC0"> React</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">Component</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">		render</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#E4F0FB">			console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Rendering</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">WrappedComponent</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">name</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">			return</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">WrappedComponent</span><span style="color:#E4F0FB"> {</span><span style="color:#91B4D5">...</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">props} /></span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> EnhancedComponent</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> withLogger</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">MyComponent</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>В данном примере <code>withLogger</code> - это компонент высшего порядка, который ведет журнал рендеринга любого компонента, который он оборачивает. Это способ расширить компоненты дополнительным поведением, не изменяя их исходный код.</p>
<h3 id="vuejs-параметры-компонентов-с-помощью-декораторов">Vue.js: параметры компонентов с помощью декораторов<a aria-hidden="true" tabindex="-1" href="#vuejs-параметры-компонентов-с-помощью-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Vue.js - еще один популярный JavaScript-фреймворк для создания пользовательских интерфейсов. Хотя Vue.js не поддерживает декораторы, некоторые проекты и библиотеки позволяют нам использовать декораторы для определения параметров компонентов.</p>
<p>Вот пример определения компонента Vue с помощью библиотеки <code>vue-class-component</code> с декораторами:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> Component</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> Prop</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> Vue</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">vue-class-component</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD">@</span><span style="color:#E4F0FB">Component</span></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> MyComponent</span><span style="color:#5DE4C7"> extends</span><span style="color:#ADD7FF"> Vue</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">  @</span><span style="color:#E4F0FBD0">Prop</span><span style="color:#A6ACCD">() title</span><span style="color:#91B4D5">:</span><span style="color:#A6ACCDC0"> string</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">  data</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">      message</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">Hello, world!</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#A6ACCD">    };</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>В этом примере декоратор <code>@Component</code> используется для определения компонента Vue, а декоратор <code>@Prop</code> - для создания реквизита компонента.</p>
<h2 id="фабрики-декораторов">Фабрики декораторов<a aria-hidden="true" tabindex="-1" href="#фабрики-декораторов"><span class="icon icon-link"></span></a></h2>
<p>Фабрики декораторов - это функции, которые возвращают функции декораторов. Вместо того чтобы определять декоратор напрямую, мы создаем функцию, которая генерирует декораторы на основе переданных аргументов. Это позволяет настраивать поведение декораторов, делая их очень универсальными и многократно используемыми.</p>
<p>Общая структура фабрики декораторов выглядит следующим образом:</p>
<p><code>function decoratorFactory(config) { return function decorator(target, key, descriptor) { }; }</code></p>
<p>Здесь <code>decoratorFactory</code> - это функция фабрики декораторов, принимающая аргумент <code>config</code>. Она возвращает функцию декоратора, которая может изменять цель, ключ или дескриптор на основе предоставленной конфигурации.</p>
<p>Попробуем другой пример - фабрику-декоратор, которая регистрирует сообщения с разными уровнями серьезности:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">severity</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">		descriptor</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">value</span><span style="color:#91B4D5"> =</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">			console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">[</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">severity</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">] </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> called</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">			return</span><span style="color:#E4F0FB"> originalMethod</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		};</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Logger</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">INFO</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	info</span><span style="color:#A6ACCD">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">ERROR</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	error</span><span style="color:#A6ACCD">() {}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> logger</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Logger</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">logger</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">info</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">logger</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">error</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде пользовательские декораторы используются для улучшения методов в классе <code>Logger</code>. Эти декораторы создаются фабрикой декораторов под названием <code>logWithSeverity</code>. Применяясь к методам, они регистрируют сообщения с определенным уровнем серьезности перед выполнением исходного метода. В данном случае методы <code>info</code> и <code>error</code> класса <code>Logger</code> декорируются для регистрации сообщений с уровнями серьезности <code>INFO</code> и <code>ERROR</code> соответственно. Когда мы вызываем эти методы, декоратор регистрирует сообщения, указывающие на вызов метода и их уровень серьезности.</p>
<p>Этот код демонстрирует, как фабрики декораторов позволяют создавать настраиваемые декораторы для добавления поведения в методы, например, ведения журнала, без внесения изменений в исходный код.</p>
<h3 id="практические-примеры-использования-фабрик-декораторов">Практические примеры использования фабрик декораторов<a aria-hidden="true" tabindex="-1" href="#практические-примеры-использования-фабрик-декораторов"><span class="icon icon-link"></span></a></h3>
<p>Фабрики декораторов особенно полезны для создания декораторов с различными настройками, условиями или поведением. Вот несколько практических примеров использования фабрик декораторов:</p>
<p>Декораторы проверки. Мы можем создать фабрику декораторов проверки, чтобы генерировать декораторы, которые проверяют определенные условия для параметров метода. Например, фабрика декораторов <code>@validateParam</code> может применять различные правила для разных параметров, например, минимальные и максимальные значения:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> validateParam</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">min</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">max</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> MathOperations</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">validateParam</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">10</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	multiply</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">a</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">b</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FB"> a</span><span style="color:#91B4D5"> *</span><span style="color:#E4F0FB"> b</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Декораторы протоколирования. Фабрики-декораторы могут генерировать декораторы протоколирования с различными уровнями регистрации или назначениями. Например, мы можем создать фабрику декораторов <code>@logWithSeverity</code>, которая регистрирует сообщения с разным уровнем серьезности:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">severity</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Logger</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">INFO</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	info</span><span style="color:#A6ACCD">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">logWithSeverity</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">ERROR</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	error</span><span style="color:#A6ACCD">() {}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Условные декораторы. Фабрики декораторов позволяют нам создавать условные декораторы, которые применяют декорированное поведение только при определенных обстоятельствах. Например, мы можем создать фабрику декораторов <code>@conditionallyExecute</code>, которая проверяет условие перед выполнением метода:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> conditionallyExecute</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">shouldExecute</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#91B4D5"> function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">key</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">descriptor</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">shouldExecute</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">			// do something</span></span>
<span class="line"><span style="color:#A6ACCD">		} else {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">			// do something else</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> Example</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	@</span><span style="color:#E4F0FBD0">conditionallyExecute</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">false</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">	someMethod</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">		// method body</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<h2 id="преимущества-фабрик-декораторов">Преимущества фабрик-декораторов<a aria-hidden="true" tabindex="-1" href="#преимущества-фабрик-декораторов"><span class="icon icon-link"></span></a></h2>
<h3 id="к-числу-преимуществ-фабрик-декораторов-относятся">К числу преимуществ фабрик-декораторов относятся:<a aria-hidden="true" tabindex="-1" href="#к-числу-преимуществ-фабрик-декораторов-относятся"><span class="icon icon-link"></span></a></h3>
<ul>
<li>Конфигурируемость. Фабрики декораторов позволяют нам определять декораторы с различными конфигурациями, адаптируя их к различным случаям использования. Возможность повторного использования. Создав фабрику декораторов, мы можем повторно использовать ее во всей нашей кодовой базе, создавая согласованное поведение.</li>
<li>Чистый код. Фабрики декораторов помогают поддерживать чистоту кода, инкапсулируя специфическое поведение и способствуя созданию более модульной структуры.</li>
<li>Динамичность. Динамическая природа фабрик-декораторов позволяет адаптировать их к сложным приложениям с изменяющимися требованиями.</li>
</ul>
<h2 id="плюсы-и-минусы-декораторов-в-javascript">Плюсы и минусы декораторов в JavaScript<a aria-hidden="true" tabindex="-1" href="#плюсы-и-минусы-декораторов-в-javascript"><span class="icon icon-link"></span></a></h2>
<p>Декораторы JavaScript, хотя и являются мощными, имеют свой собственный набор плюсов и минусов оптимизации, о которых разработчики должны знать.</p>
<h3 id="плюсы-оптимизации-декораторов-javascript">Плюсы оптимизации декораторов JavaScript<a aria-hidden="true" tabindex="-1" href="#плюсы-оптимизации-декораторов-javascript"><span class="icon icon-link"></span></a></h3>
<p>Возможность повторного использования кода. Декораторы способствуют повторному использованию кода для решения общих сквозных задач. Вместо того чтобы писать одну и ту же логику в нескольких местах, мы можем инкапсулировать ее в декораторе и применять везде, где это необходимо. Это уменьшает дублирование кода, упрощая сопровождение и обновление. Читабельность. Декораторы могут улучшить читаемость кода за счет разделения проблем. Когда декораторы используются для управления логированием, валидацией или другой неосновной функциональностью, становится проще сосредоточиться на основной логике класса или метода. Модульность. Декораторы способствуют модульности нашей кодовой базы. Мы легко создаем и независимо поддерживаем декораторы и можем добавлять или удалять функциональность, не затрагивая основную реализацию. Оптимизация производительности. Декораторы могут оптимизировать производительность, позволяя нам кэшировать вызовы дорогих функций, как это видно на примере декораторов мемоизации. Это может значительно сократить время выполнения, когда одни и те же входные данные приводят к одним и тем же выходным. Тестирование и отладка. Декораторы могут быть полезны для тестирования и отладки. Мы можем создавать декораторы, которые записывают в журнал вызовы методов и их аргументы, что помогает выявлять и исправлять проблемы во время разработки и устранять неполадки в производстве.</p>
<h3 id="минусы-оптимизации-декораторов-javascript">Минусы оптимизации декораторов JavaScript<a aria-hidden="true" tabindex="-1" href="#минусы-оптимизации-декораторов-javascript"><span class="icon icon-link"></span></a></h3>
<p>Накладные расходы. Использование декораторов может привнести накладные расходы в нашу кодовую базу, если мы применяем несколько декораторов к одной и той же функции или классу. Каждый декоратор может принести дополнительный код, который выполняется до или после исходной функции. Это может повлиять на производительность, особенно в приложениях, критичных к времени. Сложность. По мере роста кодовой базы использование декораторов может усложнить работу. Декораторы часто включают в себя цепочку из нескольких функций, и понимание порядка их выполнения может стать сложной задачей. Отладка такого кода также может стать более сложной. Обслуживание. Хотя декораторы могут способствовать многократному использованию кода, их чрезмерное применение может усложнить сопровождение кодовой базы. Разработчики должны быть осторожны, чтобы не создавать чрезмерное количество декораторов, что может привести к путанице и сложностям с отслеживанием изменений поведения. Ограниченная поддержка браузеров. Декораторы JavaScript все еще являются предложением и не полностью поддерживаются во всех браузерах. Чтобы использовать декораторы в производстве, нам, возможно, придется полагаться на транспиляторы вроде Babel, которые могут добавить дополнительные сложности в процесс сборки.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>В этой статье мы подробно рассмотрели декораторы в JavaScript. Декораторы - это функции, которые улучшают поведение существующих методов, классов, свойств или параметров чистым/модульным способом. Они используются для добавления функциональности или метаданных в код без изменения его исходного текста.</p>
<p>Благодаря полученным здесь знаниям, используйте декораторы в разработке JavaScript с умом.</p>
<p>Вы можете узнать больше о текущей разработке декораторов в JavaScript, прочитав TC39 Decorators Proposal на GitHub.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Декораторы - что это такое и когда их использовать&#38;url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat&#38;title=Декораторы - что это такое и когда их использовать&#38;summary=В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию деко&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/dekorator-chto-to-takoe-y-kohda-ykh-yspolzovat&#38;media=&#38;description=В этой статье мы рассмотрим декораторы в JavaScript: что это такое, как они работают, для чего они полезны и как их использовать. Мы рассмотрим композицию деко" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/chto-novoho-v-node-js-v20-test-runner-permission-model-sea-v8-js-engine-11-3" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Что нового в Node.js v20 (Test Runner, Permission Model, SEA, V8 JS Engine 11.3) </a> <a href="/blog/chto-to-za-fyhnia" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> ActiveRecord Pluck. Что это за фигня? </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>