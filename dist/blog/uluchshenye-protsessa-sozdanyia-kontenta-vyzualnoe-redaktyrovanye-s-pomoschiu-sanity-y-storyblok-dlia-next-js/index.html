<!DOCTYPE html><html lang="ru"> <head><title>Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js"><meta name="description" content="Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их разв"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.10.0"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.Dg72Zwgc.css">
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#0d52a1;color:rgba(13,82,161,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw)}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.container[data-astro-cid-vcbh62el]{padding:min(2rem,1.2125rem + 1.05vw)}.list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.link[data-astro-cid-vcbh62el]{font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;padding:.125rem .75rem;font-size:min(1.5rem,1.1625rem + .45vw);line-height:var(--tw-lh)}
</style>
<link rel="stylesheet" href="/_astro/_single_.CzD8Xhhr.css">
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#27292d;border-color:rgba(39,41,45,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-f9c4118f]{margin:auto;margin-top:1.25rem;width:100%;--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.comments:where([class=dark][data-v-f9c4118f],[class=dark] *[data-v-f9c4118f]){--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.giscus-frame[data-v-f9c4118f]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-f9c4118f],[class=dark] *[data-v-f9c4118f]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.CUFolni_.js"></script><style>[data-astro-transition-scope="astro-xdjatz7t-1"] { view-transition-name: blog-image-uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-16 font-inter text-blue fluid:text-lg lg:pt-24 dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-blue dark:text-white" aria-label="logo" data-astro-cid-ijoll5s5> <svg width="1.44em" height="1em" viewBox="0 0 5660 3931" class="icon" data-astro-cid-ijoll5s5 data-icon="logo-one">  <symbol id="ai:local:logo-one"><g fill="currentColor"><path d="M1198.57 596.749c0 329.575-267.171 596.751-596.747 596.751-329.575 0-596.749-267.176-596.749-596.751S272.248 0 601.823 0c329.576 0 596.747 267.174 596.747 596.749Z"/><circle cx="3035.75" cy="617.751" r="596.749" transform="rotate(-90 3035.75 617.751)"/><path d="M3035.75 2736.81c329.57 0 596.75 267.18 596.75 596.75 0 329.58-267.18 596.75-596.75 596.75-329.58 0-596.75-267.17-596.75-596.75 0-329.57 267.17-596.75 596.75-596.75Z"/><circle cx="596.749" cy="1964.8" r="596.749"/><path d="M1193.5 3332.87c0 329.57-267.176 596.75-596.751 596.75S0 3662.44 0 3332.87c0-329.58 267.174-596.75 596.749-596.75 329.575 0 596.751 267.17 596.751 596.75Z"/><circle cx="5062.46" cy="617.751" r="596.749" transform="rotate(-90 5062.46 617.751)"/><circle cx="5062.46" cy="3333.56" r="596.749" transform="rotate(-90 5062.46 3333.56)"/></g></symbol><use xlink:href="#ai:local:logo-one"></use>  </svg>  </a> <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> Меню</button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> Закрыть</button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты </a> </li> </ul> </nav> </div>   <!-- <ThemeToggle client:only /> --> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <div class="container" data-astro-cid-vcbh62el> <ol class="list" role="list" data-astro-cid-vcbh62el> <li class="item" role="listitem" data-astro-cid-vcbh62el> <a class="link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="item" role="listitem" data-astro-cid-vcbh62el> <a class="link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </div> </nav>  <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <article data-astro-cid-axzg2cw6> <figure class="article__image" data-astro-cid-axzg2cw6> <picture data-astro-cid-axzg2cw6> <source srcset="/_astro/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js-Dec-21-2023.c3b96dop_ZTTqOk.avif" type="image/avif"><source srcset="/_astro/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js-Dec-21-2023.c3b96dop_Z18Ck4h.webp" type="image/webp"> <img src="/_astro/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js-Dec-21-2023.c3b96dop_ZcJqJ7.png" alt="Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js" class="aspect-video h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-xdjatz7t-1" width="1120" height="580" decoding="async"> </picture> </figure> </article> <div class="container" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/nextjs" data-astro-cid-axzg2cw6> Next.js </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/storyblok" data-astro-cid-axzg2cw6> Storyblok </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 21 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div> <div class="article__content prose prose-zinc max-w-full break-words text-blue dark:prose-invert prose-headings:text-blue prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <!-- <TextAds /> --> <!-- <AdfoxTocAds blockId="adfox_17062261612859555" /> --> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js&url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js&title=Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js&summary=Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их разв&source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js&media=&description=Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их разв" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc border-b border-blue text-blue fluid:p-8 overflow-auto cursor-pointer bg-box"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#что-такое-визуальное-редактирование">Что такое визуальное редактирование?</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#пользовательский-интерфейс-и-навигация">Пользовательский интерфейс и навигация</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#функциональность-перетаскивания-и-копирования">Функциональность перетаскивания и копирования</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#предварительный-просмотр-для-разных-видовых-экранов">Предварительный просмотр для разных видовых экранов</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#сотрудничество-и-общение">Сотрудничество и общение</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#состав-компонентов">Состав компонентов</a></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#реализация-и-настройка">Реализация и настройка</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="text-blue text-blue-h3" href="#для-здравомыслия">Для здравомыслия</a></li><li class="toc-item toc-item-h3"><a class="text-blue text-blue-h3" href="#для-storyblok">Для Storyblok</a></li></ol></li><li class="toc-item toc-item-h2"><a class="text-blue text-blue-h2" href="#заключение">Заключение</a></li></ol></details open><p>Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их развитием. Но чаще всего мы выбираем те CMS, которые имеют интеграцию с таким фреймворком, как Next.js. Если hCMS позволяет разделить контент и работать с ним независимо, то Next.js помогает добиться максимальной производительности, используя встроенные механизмы и возможности фреймворка.</p>
<p>Звучит здорово, правда?</p>
<p>Если говорить конкретно, то здесь можно выделить двух игроков: Sanity и Storyblok.</p>
<p>Еще одна причина выбрать Sanity или Storyblok заключается в том, что они предлагают функции визуального редактирования. Давайте окунемся в эту тему и рассмотрим некоторые из основных возможностей, которые они предлагают.</p>
<h2 id="что-такое-визуальное-редактирование">Что такое визуальное редактирование?<a aria-hidden="true" tabindex="-1" href="#что-такое-визуальное-редактирование"><span class="icon icon-link"></span></a></h2>
<p>Визуальное редактирование - это удобный метод создания и изменения цифрового контента с помощью графических интерфейсов. Он позволяет пользователям, независимо от их технических знаний, напрямую взаимодействовать с контентом и манипулировать им. В отличие от традиционного текстового редактирования, визуальное редактирование обеспечивает предварительный просмотр в реальном времени того, как контент будет отображаться на странице, что повышает эффективность и сотрудничество между командами инженеров и разработчиков контента.</p>
<h2 id="пользовательский-интерфейс-и-навигация">Пользовательский интерфейс и навигация<a aria-hidden="true" tabindex="-1" href="#пользовательский-интерфейс-и-навигация"><span class="icon icon-link"></span></a></h2>
<p>И Storyblok, и Sanity имеют довольно схожий пользовательский интерфейс в отношении визуального редактирования: вы найдете URL страницы, предварительный просмотр страницы и список блоков, используемых на странице. Это важно, потому что это один из шагов к стандартизации, пусть и неофициальной.</p>
<figure class="igorlov-figure"><img  src="/_astro/6300c9df28121bb832407a94e50734c2f1cf0d46-1336x1366.CPtU5rxT_Z1ptnQ6.webp" alt="6300c9df28121bb832407a94e50734c2f1cf0d46-1336x1366.png" width="800" height="818" loading="lazy" decoding="async"><figcaption>6300c9df28121bb832407a94e50734c2f1cf0d46-1336x1366.png</figcaption></figure>
<p>Визуальные редакторы обеих платформ позволяют щелкнуть на любом компоненте и открыть его в колонке контента в правой части страницы. Вот как это выглядит:</p>
<figure class="igorlov-figure"><img  src="/_astro/35f7d73dcb02973b0764295f3e8a7eb241899bb0-800x500._gOn7QCx_ZD67Ja.webp" alt="35f7d73dcb02973b0764295f3e8a7eb241899bb0-800x500.gif" width="800" height="500" loading="lazy" decoding="async"><figcaption>35f7d73dcb02973b0764295f3e8a7eb241899bb0-800x500.gif</figcaption></figure>
<figure class="igorlov-figure"><img  src="/_astro/37956c55f91c8badf1c3402e1a9615b92a0b1765-600x424.CTWEqkAq_1CocT9.webp" alt="37956c55f91c8badf1c3402e1a9615b92a0b1765-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>37956c55f91c8badf1c3402e1a9615b92a0b1765-600x424.gif</figcaption></figure>
<p>Эта функция экономит время и ускоряет процесс редактирования, особенно при работе со сложными компонентами, состоящими из множества вложенных компонентов.</p>
<p>Обе платформы открывают поля верхнего уровня, а также вложенные дочерние компоненты. Глубина не имеет значения.</p>
<p>Более того, в случае со Storyblok вы увидите иерархию вложенности, так называемые хлебные крошки. Они кликабельны, что дает дополнительное удобство при редактировании/переходе между вложенными компонентами. В Sanity этого нет.</p>
<p>Однако есть несколько различий между двумя платформами в области применения этой функции.</p>
<p>Допустим, у вас есть ссылка, и вы хотите перейти на другую страницу, щелкнув по ней. Это не сработает, потому что вместо перехода на другую страницу вы откроете щелкнутый компонент в колонке содержимого.</p>
<p>Sanity предлагает тумблер ”Редактировать”, который отключает эту функцию и позволяет вам взаимодействовать со страницей.</p>
<figure class="igorlov-figure"><img  src="/_astro/0a0d522353c681c9ba34dfb9909f058c45ff77c2-600x424.DS2X4Gth_TzrYY.webp" alt="0a0d522353c681c9ba34dfb9909f058c45ff77c2-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>0a0d522353c681c9ba34dfb9909f058c45ff77c2-600x424.gif</figcaption></figure>
<p>Эта функция особенно полезна, когда вы хотите предварительно просмотреть и протестировать конечный результат, включая переходы по ссылкам.</p>
<p>К сожалению, в Storyblok такой возможности нет. Но, по крайней мере, вы можете кое-что сделать. В частности, вы можете предотвратить события iframe, такие как нажатие на ссылку. Для этого можно использовать свойство preventClicks экземпляра StoryblokBridge (см. официальную документацию). Но это скорее техническое изменение, которое должно быть сделано в коде, а не в UI. Поэтому команда разработчиков контента не сможет использовать его самостоятельно.</p>
<p>В некоторых случаях это может расстраивать, особенно когда вы разрабатываете новую функциональность, связанную с поведением ссылок.</p>
<p>Предварительный просмотр в режиме реального времени и мгновенная обратная связь</p>
<p>И Storyblok, и Sanity обеспечивают мгновенный предварительный просмотр при изменении контента. Это означает, что любые изменения, внесенные в компоненты, отражаются в режиме реального времени без каких-либо задержек. Эта функция позволяет создателям контента увидеть, как именно их изменения повлияют на конечный вид страницы, что способствует быстрой итерации и корректировке.</p>
<p>Важность этой функции элегантно описана в блоге Sanity: ”Что вы видите, то и редактируете”. Обе hCMS хорошо играют в этой важной области.</p>
<p>Давайте посмотрим, как это выглядит:</p>
<figure class="igorlov-figure"><img  src="/_astro/5721a02b1d0fe2c4ddc7ff977f1857993dee4d01-600x386.D8YAggIh_1nOPBN.webp" alt="5721a02b1d0fe2c4ddc7ff977f1857993dee4d01-600x386.gif" width="600" height="386" loading="lazy" decoding="async"><figcaption>5721a02b1d0fe2c4ddc7ff977f1857993dee4d01-600x386.gif</figcaption></figure>
<figure class="igorlov-figure"><img  src="/_astro/77b44c8ed0e853aa913016d595f6acd07870e0f4-600x424.Coc-PyPi_137h35.webp" alt="77b44c8ed0e853aa913016d595f6acd07870e0f4-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>77b44c8ed0e853aa913016d595f6acd07870e0f4-600x424.gif</figcaption></figure>
<p>Они быстры и удобны в использовании.</p>
<p>Но как насчет сохранения изменений?</p>
<p>Sanity сохраняет все изменения со статусом черновика, так что если вы перезагрузите страницу, изменения будут там. Это может быть удобно, когда вы работаете над контентом и не хотите потерять изменения, но может раздражать при разработке/отладке.</p>
<p>Storyblok, в свою очередь, показывает все примененные изменения, но не сохраняет их, пока вы не нажмете кнопку ”Сохранить”.</p>
<p>Стоит упомянуть, что Sanity дает возможность редактировать любой отдельный компонент, например, нижний и верхний колонтитулы, и видеть мгновенную обратную связь. Поведение такое же, как и у остальных полей.</p>
<p>В случае со Storyblok механизм немного другой. Давайте рассмотрим добавление многократно используемого компонента заголовка которые вы будете распределять между страницами. Вы создаете ”историю” (набор полей) с информацией о заголовке и добавляете поле истории на страницу. Затем вы должны выбрать одну из существующих историй заголовка в качестве значения. И последняя часть - добавление реализации заголовка в код, чтобы он работал на всех страницах (например, использовался в макете, который разделяется между страницами).</p>
<p>Это нелегко и не совсем просто. Такой подход ограничивает возможности предварительного просмотра и редактирования в реальном времени для общих компонентов, а это не то, чего вы хотите.</p>
<h2 id="функциональность-перетаскивания-и-копирования">Функциональность перетаскивания и копирования<a aria-hidden="true" tabindex="-1" href="#функциональность-перетаскивания-и-копирования"><span class="icon icon-link"></span></a></h2>
<p>Функции перетаскивания - обязательное условие для любого визуального редактора, и Storyblok и Sanity предлагают эту возможность из коробки. Она позволяет пользователям легко изменять состав компонента и экспериментировать с различными макетами и дизайнами. Этот интуитивно понятный и удобный способ редактирования повышает удобство работы и ускоряет процесс создания контента.</p>
<figure class="igorlov-figure"><img  src="/_astro/032e8208c7b277e5ea3289ccb671b9b83fa61441-600x386.Dmx-lr0r_1qJYhn.webp" alt="032e8208c7b277e5ea3289ccb671b9b83fa61441-600x386.gif" width="600" height="386" loading="lazy" decoding="async"><figcaption>032e8208c7b277e5ea3289ccb671b9b83fa61441-600x386.gif</figcaption></figure>
<figure class="igorlov-figure"><img  src="/_astro/ec990ffe5e90e877c8c7665e72f07c891a8246ec-600x424.DvoDGDRf_Z1JBBNI.webp" alt="ec990ffe5e90e877c8c7665e72f07c891a8246ec-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>ec990ffe5e90e877c8c7665e72f07c891a8246ec-600x424.gif</figcaption></figure>
<p>Однако эффективность создания контента еще больше повышается благодаря возможности копирования.</p>
<p>В Storyblok есть удобный механизм копирования и вставки компонентов через буфер обмена. Он позволяет копировать-вставлять компоненты между проектами/страницами/вложенными объектами. Это означает, что вы можете скопировать компонент и вставить его на другую страницу и даже в другой проект. С другой стороны, Sanity выбирает более целенаправленный подход, предлагая функциональность дублирования. Это означает, что вы можете создать копию компонента, которая будет добавлена прямо рядом с оригинальным компонентом.</p>
<p>Давайте посмотрим, в чем разница:</p>
<figure class="igorlov-figure"><img  src="/_astro/9d815fd2eaa70f752af4235e48c9cfb6edacb09f-600x386.Bl6M5HFn_1RVB0L.webp" alt="9d815fd2eaa70f752af4235e48c9cfb6edacb09f-600x386.gif" width="600" height="386" loading="lazy" decoding="async"><figcaption>9d815fd2eaa70f752af4235e48c9cfb6edacb09f-600x386.gif</figcaption></figure>
<figure class="igorlov-figure"><img  src="/_astro/b427a42e72cc84829a9042029ba6cde84f05dd6a-600x424.DGTDliRH_mQvkj.webp" alt="b427a42e72cc84829a9042029ba6cde84f05dd6a-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>b427a42e72cc84829a9042029ba6cde84f05dd6a-600x424.gif</figcaption></figure>
<p>На мой взгляд, в Storyblok есть более удобный способ сделать это. Потому что вы можете выбрать, какие компоненты копировать (да, вы можете выбрать несколько компонентов и скопировать их так же, как и один) и куда их вставить.</p>
<p>Sanity же ограничивается копированием только в пределах массива и по одному компоненту за раз, что может вызвать некоторые неудобства в определенных случаях.</p>
<h2 id="предварительный-просмотр-для-разных-видовых-экранов">Предварительный просмотр для разных видовых экранов<a aria-hidden="true" tabindex="-1" href="#предварительный-просмотр-для-разных-видовых-экранов"><span class="icon icon-link"></span></a></h2>
<p>Еще одна важная особенность инструментов визуального редактирования - возможность предварительного просмотра контента для разных видовых экранов. На данный момент Sanity предлагает два варианта: для рабочего стола и для мобильных устройств. Хотя это обеспечивает некоторую гибкость, она ограничена по сравнению со Storyblok. Storyblok позволяет пользователям просматривать контент в мобильных, планшетных и настольных видовых экранах. Кроме того, Storyblok позволяет пользователям просматривать контент любой ширины, аналогично расширению окна браузера. Такой уровень настройки гарантирует, что создатели контента смогут точно просматривать его на различных устройствах и при разных размерах экрана.</p>
<figure class="igorlov-figure"><img  src="/_astro/f7996b07875143cbf537d65c1082679b191f264e-600x386.DMF5oI8u_Zyq1zz.webp" alt="f7996b07875143cbf537d65c1082679b191f264e-600x386.gif" width="600" height="386" loading="lazy" decoding="async"><figcaption>f7996b07875143cbf537d65c1082679b191f264e-600x386.gif</figcaption></figure>
<figure class="igorlov-figure"><img  src="/_astro/e5e7f104bb0ee8782c81d36ca7dbcfe657665e5e-600x424.ClI-XMEB_JeekP.webp" alt="e5e7f104bb0ee8782c81d36ca7dbcfe657665e5e-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>e5e7f104bb0ee8782c81d36ca7dbcfe657665e5e-600x424.gif</figcaption></figure>
<h2 id="сотрудничество-и-общение">Сотрудничество и общение<a aria-hidden="true" tabindex="-1" href="#сотрудничество-и-общение"><span class="icon icon-link"></span></a></h2>
<p>Сотрудничество - ключевой момент в любом процессе создания контента, а Sanity делает еще один шаг вперед. В Sanity пользователи могут работать вместе с коллегами, не опасаясь перезаписи, блокировки друг друга или неожиданных правок. Поля независимы, поэтому несколько пользователей могут редактировать разные части одной и той же страницы без конфликтов. Более того, Sanity показывает, кто редактирует документ, в режиме реального времени, а также работает с живым предварительным просмотром. (Вау!)</p>
<p>Обычная, но обязательная функция, интегрированная в Sanity, - это история документа. Она отслеживает все изменения, и вы всегда можете восстановить определенную версию любого контента.</p>
<figure class="igorlov-figure"><img  src="/_astro/1d82bf6c1004f0f9dced4ba3feb0452c0964dde6-600x795.mqnCslqg_Z1GlEYr.webp" alt="1d82bf6c1004f0f9dced4ba3feb0452c0964dde6-600x795.gif" width="600" height="794" loading="lazy" decoding="async"><figcaption>1d82bf6c1004f0f9dced4ba3feb0452c0964dde6-600x795.gif</figcaption></figure>
<p>Storyblok также предлагает некоторые из этих возможностей. Он поддерживает ту же функцию истории с возможностью восстановления определенных версий страниц. Однако несколько пользователей не могут редактировать одну и ту же страницу одновременно, поскольку возникнут конфликты. Это существенное ограничение для команды разработчиков контента.</p>
<figure class="igorlov-figure"><img  src="/_astro/90b2f9c2a30fb8d47882a37cc031066ef5c3cc99-600x424.BeD8tUZP_Z4iqCY.webp" alt="90b2f9c2a30fb8d47882a37cc031066ef5c3cc99-600x424.gif" width="600" height="424" loading="lazy" decoding="async"><figcaption>90b2f9c2a30fb8d47882a37cc031066ef5c3cc99-600x424.gif</figcaption></figure>
<p>Еще одна замечательная особенность обеих платформ - вы можете оставлять комментарии к любым полям компонентов, отмечать членов команды, задавать вопросы и оставлять отзывы прямо в редакторе. Отмеченные члены команды получают уведомления, что избавляет от необходимости переключаться между платформами обмена сообщениями, такими как Slack. Это очень удобно, потому что иногда не хочется переключаться между контекстами и отвлекаться.</p>
<h2 id="состав-компонентов">Состав компонентов<a aria-hidden="true" tabindex="-1" href="#состав-компонентов"><span class="icon icon-link"></span></a></h2>
<p>И Storyblok, и Sanity позволяют контент-командам создавать множество страниц из существующих компонентов. Такая гибкость позволяет эффективно создавать контент и способствует согласованности на сайте или в приложении.</p>
<p>Однако важно отметить, что чем больше у вас страниц, тем больше сложностей ложится на плечи контент-команды. Изменение компонентов для одной страницы может потенциально повлиять на другие страницы.</p>
<p>Sanity решила эту проблему следующим образомподавать в суд, предоставляя четкий обзор того, какие страницы используют контент и как изменения будут каскадироваться. Эта функция позволяет нам проверить результаты на страницах, прежде чем обнародовать любые изменения.</p>
<figure class="igorlov-figure"><img  src="/_astro/7fcf69dce67da919815fde639c0b33701a2e656e-1765x1250.CijKkC2U_1LSTsj.webp" alt="7fcf69dce67da919815fde639c0b33701a2e656e-1765x1250.png" width="800" height="567" loading="lazy" decoding="async"><figcaption>7fcf69dce67da919815fde639c0b33701a2e656e-1765x1250.png</figcaption></figure>
<p>К сожалению, Storyblok не предлагает такой возможности, что может быть недостатком при работе с большим проектом. Это то, чего мне очень не хватает в Storyblok.</p>
<h2 id="реализация-и-настройка">Реализация и настройка<a aria-hidden="true" tabindex="-1" href="#реализация-и-настройка"><span class="icon icon-link"></span></a></h2>
<p>Реализация и настройка Реализация визуального редактирования в Sanity предполагает использование нового веб-стандарта под названием Content source map и пакета @vercel/stega для кодирования и декодирования содержимого страниц. Другие hCMS также используют этот подход для реализации визуального редактирования.</p>
<p>Аналогично, Storyblok имеет собственную реализацию, требующую ручного добавления специальных свойств к каждому редактируемому блоку с помощью специальной вспомогательной функции.</p>
<p>Обе платформы используют iframe в своей реализации, что делает шаги по настройке довольно похожими. Вот разбивка шагов для каждой платформы:</p>
<h3 id="для-здравомыслия">Для здравомыслия<a aria-hidden="true" tabindex="-1" href="#для-здравомыслия"><span class="icon icon-link"></span></a></h3>
<p>Добавьте presentationTool в проект. Добавьте API-маршрут для управления черновиками/опубликованными документами. Подключите ваше фронтенд-приложение к Sanity Studio.</p>
<p>Для более подробного руководства и анализа вы можете обратиться к нашей статье: Глубокое погружение в инструмент визуального редактирования и презентации Sanity: Взгляд разработчика.</p>
<h3 id="для-storyblok">Для Storyblok<a aria-hidden="true" tabindex="-1" href="#для-storyblok"><span class="icon icon-link"></span></a></h3>
<p>Добавьте API-маршрут для управления черновиками/опубликованными страницами. Добавьте URL-адрес предварительного просмотра в Storyblok. Настройте токены.</p>
<p>Для получения дополнительных рекомендаций следуйте официальной документации.</p>
<p>В целом, общий процесс включает в себя настройку маршрута для обработки входящих запросов и конфигурирование инструментов, предлагаемых Sanity или Storyblok.</p>
<p>Интересно отметить, что оба продукта придерживаются схожего подхода. Это не только подтверждает идею, но и устанавливает шаблон, что полезно для разработчиков и пользователей сообщества. Паттерны - это всегда положительный аспект!</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>Для безголовых CMS инструменты визуального редактирования играют важнейшую роль в упрощении создания контента, разработке новых функций и тестировании результатов.</p>
<p>И Storyblok, и Sanity предлагают мощные и интуитивно понятные визуальные редакторы, которые расширяют возможности контент- и инженерных команд. В то время как Storyblok был пионером в предоставлении визуального редактирования из коробки, Sanity вышел на сцену со своим собственным набором впечатляющих функций.</p>
<p>Хотя оба инструмента визуального редактирования очень похожи, вы не можете решить, какую CMS выбрать, основываясь только на этом наборе функций. Прежде чем сделать окончательный выбор, следует принять во внимание множество аспектов: технологический стек, размер и опыт команды, бюджет, уровень коммуникации между командами, необходимость кастомизации, качество документации, потенциальные риски и многое другое.</p>
<p>Ознакомьтесь с соответствующими статьями, которые могут помочь вам принять окончательное решение:</p>
<p>Но, как всегда, выбор зависит от вашего конкретного случая использования. Вы должны глубоко понимать свою систему и бизнес, чтобы принять правильное решение.</p>
<p>Если у вас есть вопросы, свяжитесь с нами, экспертами по безголовым CMS, и мы поможем вам сделать этот выбор проще.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js&url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js&title=Улучшение процесса создания контента: Визуальное редактирование с помощью Sanity и Storyblok для Next.js&summary=Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их разв&source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/uluchshenye-protsessa-sozdanyia-kontenta-vyzualnoe-redaktyrovanye-s-pomoschiu-sanity-y-storyblok-dlia-next-js&media=&description=Как эксперты по безголовым CMS (hCMS) и производительности в FocusReactive, мы работаем со многими продуктами из этого сегмента и внимательно следим за их разв" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/falb-ky-dlia-yzobrazhenyi-http-404-v-html-y-javascript" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Фалбэки для изображений HTTP 404 в HTML и JavaScript </a> <a href="/blog/razrabotka-dyzain-system-s-pomoschiu-veb-komponentov" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Разработка дизайн системы с помощью веб-компонентов </a> </nav>  </div> </div> </article> <div class="container" data-astro-cid-axzg2cw6> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.D-6fTqBY.js" component-export="default" renderer-url="/_astro/client.Bd2Qst3j.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> </div> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="Z1U3gfI" component-url="/_astro/CommentBlock.ChJFdf82.js" component-export="default" renderer-url="/_astro/client.44T8euMP.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-blue dark:text-white" aria-label="logo" data-astro-cid-ijoll5s5> <svg width="1.44em" height="1em" viewBox="0 0 5660 3931" class="icon" data-astro-cid-ijoll5s5 data-icon="logo-one">  <use xlink:href="#ai:local:logo-one"></use>  </svg>  </a> <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>