<!DOCTYPE html><html lang="ru"> <head><title>Расшифровка Загадки DNS: Восхитительная Одиссея Внедрения...
</title><link rel="canonical" href="https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititel%D1%8Cnaya-odisseya-vnedreniya-ruby"><meta name="description" content="Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его...
"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.9.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.sihbnQqJ.css">
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#0d52a1;color:rgba(13,82,161,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw)}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.container[data-astro-cid-vcbh62el]{padding:min(2rem,1.2125rem + 1.05vw)}.list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.link[data-astro-cid-vcbh62el]{font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;padding:.125rem .75rem;font-size:min(1.5rem,1.1625rem + .45vw);line-height:var(--tw-lh)}
</style>
<link rel="stylesheet" href="/_astro/_single_.CpmbJtnn.css">
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#27292d;border-color:rgba(39,41,45,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-f9c4118f]{margin:auto;margin-top:1.25rem;width:100%;--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.comments:where([class=dark][data-v-f9c4118f],[class=dark] *[data-v-f9c4118f]){--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.giscus-frame[data-v-f9c4118f]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#27292d;color:rgba(39,41,45,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-f9c4118f],[class=dark] *[data-v-f9c4118f]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.CUFolni_.js"></script><style>[data-astro-transition-scope="astro-xdjatz7t-1"] { view-transition-name: blog-image-rasshifrovka-zagadki-dns-voshititel\44Cnaya-odisseya-vnedreniya-ruby; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-16 font-inter text-blue fluid:text-lg lg:pt-24 dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-blue dark:text-white" aria-label="logo" data-astro-cid-ijoll5s5> <svg width="1.44em" height="1em" viewBox="0 0 5660 3931" class="icon" data-astro-cid-ijoll5s5 data-icon="logo-one">  <symbol id="ai:local:logo-one"><g fill="currentColor"><path d="M1198.57 596.749c0 329.575-267.171 596.751-596.747 596.751-329.575 0-596.749-267.176-596.749-596.751S272.248 0 601.823 0c329.576 0 596.747 267.174 596.747 596.749Z"/><circle cx="3035.75" cy="617.751" r="596.749" transform="rotate(-90 3035.75 617.751)"/><path d="M3035.75 2736.81c329.57 0 596.75 267.18 596.75 596.75 0 329.58-267.18 596.75-596.75 596.75-329.58 0-596.75-267.17-596.75-596.75 0-329.57 267.17-596.75 596.75-596.75Z"/><circle cx="596.749" cy="1964.8" r="596.749"/><path d="M1193.5 3332.87c0 329.57-267.176 596.75-596.751 596.75S0 3662.44 0 3332.87c0-329.58 267.174-596.75 596.749-596.75 329.575 0 596.751 267.17 596.751 596.75Z"/><circle cx="5062.46" cy="617.751" r="596.749" transform="rotate(-90 5062.46 617.751)"/><circle cx="5062.46" cy="3333.56" r="596.749" transform="rotate(-90 5062.46 3333.56)"/></g></symbol><use xlink:href="#ai:local:logo-one"></use>  </svg>  </a> <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> Меню</button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> Закрыть</button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты </a> </li> </ul> </nav> </div>   <!-- <ThemeToggle client:only /> --> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <div class="container" data-astro-cid-vcbh62el> <ol class="list" role="list" data-astro-cid-vcbh62el> <li class="item" role="listitem" data-astro-cid-vcbh62el> <a class="link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="item" role="listitem" data-astro-cid-vcbh62el> <a class="link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </div> </nav>  <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <article data-astro-cid-axzg2cw6> <figure class="article__image" data-astro-cid-axzg2cw6> <picture data-astro-cid-axzg2cw6> <source srcset="/_astro/rasshifrovka-zagadki-dns-voshititel%D1%8Cnaya-odisseya-vnedreniya-ruby-Oct-18-2023.C_YSa-41_2kYCgD.avif" type="image/avif"><source srcset="/_astro/rasshifrovka-zagadki-dns-voshititel%D1%8Cnaya-odisseya-vnedreniya-ruby-Oct-18-2023.C_YSa-41_sLt89.webp" type="image/webp"> <img src="/_astro/rasshifrovka-zagadki-dns-voshititel%D1%8Cnaya-odisseya-vnedreniya-ruby-Oct-18-2023.C_YSa-41_Gknbm.png" alt="Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby" class="aspect-video h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-xdjatz7t-1" width="1120" height="580" decoding="async"> </picture> </figure> </article> <div class="container" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <!-- <ul class="article__categories categories">
				{
					categories.map((category: string, index: number) => (
						<li class="categories__item">
							<a href={`/category/${slugify(category)}`} class="categories__link">
								{humanize(category)}
								{index !== categories.length - 1 && ','}
							</a>
						</li>
					))
				}
			</ul> --> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby </h1> <!-- <ul class="article__tags tags">
				{
					tags.map((tag: string) => (
						<li class="tags__item">
							<a class="tags__link" href={`/tag/${slugify(tag)}`}>
								{humanize(tag)}
							</a>
						</li>
					))
				}
			</ul> --> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 окт., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div> <div class="article__content prose prose-zinc max-w-full break-words text-blue dark:prose-invert prose-headings:text-blue prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div class="flex flex-col border-b border-blue bg-box font-bold transition-colors text-xs fluid:py-5 lg:text-lg" data-astro-cid-2umh5aky> <span class="title" data-astro-cid-2umh5aky>Задонатить на пиво</span> <ul class="list" data-astro-cid-2umh5aky> <li class="item" data-astro-cid-2umh5aky>usdt trc20 (tron): TCgbLvPt8fe8n4jqbTjVNkzyPTqhEWxW3k</li><li class="item" data-astro-cid-2umh5aky>btc: bc1qslfl8efv733sgr489yxmf9hduw6ptjvvlq2mwx</li><li class="item" data-astro-cid-2umh5aky>eth: 0x316577c4071a5738DD5C0242A97C44bdd3CD6304</li> </ul> </div>  <!-- <AdfoxTocAds blockId="adfox_17062261612859555" /> --> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby&url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby&title=Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby&summary=Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его...
&source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby&media=&description=Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его...
" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <p>Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его тайны. В этом увлекательном путешествии мы раскроем секреты DNS и покажем чудеса ее реализации на языке Ruby. Подобно древней карте, DNS ведет нас по лабиринту Интернета, переводя удобные для человека доменные имена в загадочные IP-адреса.</p>
<p>Представьте, что вы сидите перед компьютером, готовые к цифровым приключениям. Вы набираете знакомое доменное имя, нажимаете “Enter”, и, как по волшебству, на экране появляется сайт. Но что за волшебство скрывается под поверхностью? Как Интернет создает эти чудеса? Вот тут-то и приходит на помощь DNS!</p>
<!-- wp:rank-math/toc-block {"title":"Оглавление","headings":[{"key":"75ea9c34-6df5-419e-b823-40e338ddc87a","content":"Раскрытие загадки DNS","level":2,"link":"#раскрытие-загадки-dns","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"8dcf6e18-abac-403a-ab92-5a9e0d910b60","content":"Произнесение рубинового заклинания","level":2,"link":"#произнесение-рубинового-заклинания","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"a16485fe-5f80-4294-a23c-048626fdbf57","content":"DNS и космический балет","level":2,"link":"#dns-и-космический-балет","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"0baf8e0a-27fd-4ed8-a755-351695b62df1","content":"Гобелен веселья","level":2,"link":"#гобелен-веселья","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"d13ef48b-2af8-4092-b27d-5e239a9f0914","content":"Составление карты созвездия DNS","level":2,"link":"#составление-карты-созвездия-dns","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"b0372fd2-c645-43fc-af84-9c6f5c9f5ead","content":"DNS-кэш на языке Ruby","level":2,"link":"#dns-кэш-на-языке-ruby","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"1205045a-f7c7-467e-949f-be0b9fa892d2","content":"Юмористический кодекс","level":2,"link":"#юмористический-кодекс","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"fa039596-5468-4753-9115-2abe046c09dc","content":"Эпическое завершение","level":2,"link":"#эпическое-завершение","disable":false,"isUpdated":false,"isGeneratedLink":true}],"listStyle":"ul"} -->
<div class="wp-block-rank-math-toc-block" id="rank-math-toc"><h2>Оглавление</h2><nav><ul><li class=""><a href="#раскрытие-загадки-dns">Раскрытие загадки DNS</a></li><li class=""><a href="#произнесение-рубинового-заклинания">Произнесение рубинового заклинания</a></li><li class=""><a href="#dns-и-космический-балет">DNS и космический балет</a></li><li class=""><a href="#гобелен-веселья">Гобелен веселья</a></li><li class=""><a href="#составление-карты-созвездия-dns">Составление карты созвездия DNS</a></li><li class=""><a href="#dns-кэш-на-языке-ruby">DNS-кэш на языке Ruby</a></li><li class=""><a href="#юмористический-кодекс">Юмористический кодекс</a></li><li class=""><a href="#эпическое-завершение">Эпическое завершение</a></li></ul></nav></div>
<!-- /wp:rank-math/toc-block -->
<h2 class="wp-block-heading" id="раскрытие-загадки-dns">Раскрытие загадки DNS</h2>
<p>Система доменных имен, которую часто ласково называют DNS, играет роль прозорливого цифрового оракула, неустанно прокладывающего путь по запутанным лабиринтам Интернета. Обладая метафизическими способностями, DNS выполняет сложную задачу трансмутации, превращая, казалось бы, обычные и удобные для человека доменные имена, такие как “<a href="http://www.example.com%E2%80%9D" rel="noopener noreferrer nofollow" target="_blank">www.example.com”</a>, в загадочный и таинственный лексикон IP-адресов - истинных координат Интернета.</p>
<p>Чтобы понять глубокое значение этой трансформации, представьте себе DNS в виде опытного картографа, расшифровывающего тщательно составленную карту сокровищ. Подобно тому, как древняя карта открывает загадочные символы и запутанные пути, ведущие к тайникам с драгоценными артефактами, DNS разворачивает свой мистический свиток, открывая скрытые сокровища онлайнового мира. Он служит путеводной звездой, если хотите, Северной звездой в огромном цифровом космосе, гарантируя, что вы, бесстрашный исследователь Интернета, пройдете лабиринт с предельной точностью и в конце концов прибудете к желаемому месту назначения.</p>
<h2 class="wp-block-heading" id="произнесение-рубинового-заклинания">Произнесение рубинового заклинания</h2>
<p>А теперь давайте наполним это путешествие чарами Рубина! Мы приступим к созданию простейшего DNS-резольвера на мистическом языке Ruby. Держитесь крепче, приключения начинаются!</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">require 'socket'

class DNSResolver
  def initialize
    @resolver = Resolv::DNS.new
  end

  def resolve(domain)
    begin
      ip = @resolver.getaddress(domain)
      puts "#{domain} resolves to #{ip}"
    rescue Resolv::ResolvError
      puts "Alas! #{domain} eludes our grasp."
    end
  end
end

# Let us set forth on this magical voyage!
resolver = DNSResolver.new
resolver.resolve('www.example.com')
</code></pre>
<!-- /wp:code -->
<p>В этом заклинании мы наблюдаем за появлением простого DNS-резольвера, созданного на основе библиотеки ‘resolv’ языка Ruby. Он отправляется на поиски заданного домена, обнаруживает его скрытый IP-адрес и с блеском его выдает. Вот оно, волшебство!</p>
<h2 class="wp-block-heading" id="dns-и-космический-балет">DNS и космический балет</h2>
<p>Представляете ли вы себе, что DNS может управлять темпом вашего веб-серфинга? Это сродни космическому балету! Когда ваш компьютер ищет местоположение домена, он обращается к удаленным DNS-серверам, где скорость света может помешать его продвижению. Чтобы решить эту проблему, можно создать локальный DNS-кэш на языке Ruby, в котором будут храниться ранее найденные адреса. Вуаля! Быстрый веб-серфинг, словно телепортация!</p>
<h2 class="wp-block-heading" id="гобелен-веселья">Гобелен веселья</h2>
<p>А теперь давайте для поддержания бодрости духа переплетем наше волшебное путешествие нитями юмора:</p>
<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>Почему из DNS-серверов получаются ужасные комики? Потому что у них всегда возникают проблемы с фразами!</li>
<!-- /wp:list-item -->
<!-- wp:list-item -->
<li>Вы слышали о техническом специалисте DNS, который таинственно исчез? Должно быть, он срезал путь через туннель DNS!</li>
<!-- /wp:list-item -->
<!-- wp:list-item -->
<li>DNS сродни главному библиотекарю Интернета, который всегда поможет вам найти нужную книгу (сайт) в лабиринте электронной библиотеки!</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->
<h2 class="wp-block-heading" id="составление-карты-созвездия-dns">Составление карты созвездия DNS</h2>
<p>Давайте отправимся в глубокое и захватывающее исследование сложной работы системы доменных имен (DNS), которое откроет нам глубокие тонкости и метафоры, определяющие этот фундаментальный столп Интернета.</p>
<p>Рассматривайте DNS не просто как единое целое, а как разветвленную и сложно взаимосвязанную систему, подобную огромному и внушающему благоговение космическому созвездию. В этой небесной конфигурации разворачивается сложный танец - космический балет, если хотите, в котором множество серверов и кэшей работают в изысканной гармонии. Главная цель этого космического балета заключается в том, чтобы каждое доменное имя, введенное в цифровое пространство, служило порталом, безошибочно приводящим вас к точному IP-адресу, соответствующему вашему назначению. Эта задача решается беспрепятственно, независимо от вашего физического местонахождения в нашем глобализированном мире.</p>
<p>Чтобы понять масштабность этой небесной функции, представьте себе DNS в виде разросшегося межгалактического почтового отделения. Однако это почтовое отделение выходит за пределы пространства и времени, имея бесчисленное множество филиалов и отделений, разбросанных по всему космическому пространству. В этой метафоре ваш выход в цифровой космос начинается с того, что вы, бесстрашный исследователь Интернета, ищете доступ к какому-либо сайту. Для этого необходимо набрать в браузере удобное для пользователя доменное имя, например “<a href="http://www.example.com%E2%80%9D" rel="noopener noreferrer nofollow" target="_blank">www.example.com”</a>.</p>
<p>В ответ на вашу цифровую экспедицию на сцену выходит ваш надежный локальный DNS-сервер, подобно надежному менеджеру соседнего почтового отделения. Этот опытный сервер уже не раз выполнял подобные запросы. Первым делом он обращается к своему кэшу - хранилищу, наполненному воспоминаниями о прошлых разрешениях, - чтобы определить, есть ли у него ключ для разблокировки IP-адреса, соответствующего введенному вами домену. Этот момент напоминает работу начальника местного почтового отделения, просматривающего коллекцию открыток и писем на предмет распознавания адреса.</p>
<p>Однако если по космической случайности ваш локальный DNS-сервер не содержит в своем кэше нужного IP-адреса, он не отступает и не прекращает поиски. Вместо этого он отправляется в путешествие, похожее на отправку письма, посылая запрос в высшую космическую инстанцию, известную как корневой DNS-сервер. Представьте себе корневой DNS-сервер как верховного космического почтмейстера, почтенную и всезнающую фигуру, обладающую знаниями о местонахождении каждого цифрового адресата на просторах Интернет-вселенной.</p>
<p>Роль корневого DNS-сервера заключается не в том, чтобы хранить все ответы, а в том, чтобы служить космическим проводником, подобно оракулу, который направляет ваш запрос к авторитетному DNS-серверу, отвечающему за конкретный домен, который вы ищете. Этот авторитетный сервер является надежным хранителем знаний, подобно библиотекарю, который знает точное местонахождение каждой книги в обширной библиотеке.</p>
<p>Благодаря этому небесному руководству ваш запрос отправляется в путешествие, напоминающее космическое паломничество, преодолевая сложную паутину взаимосвязанных DNS-серверов. Эти серверы, подобно небесным телам, собранным в созвездие, старательно направляют ваш запрос все ближе к цели. Каждый сервер в этой космической цепочке служит шлюзом, звездными вратами, облегчающими прохождение запроса по этой запутанной межзвездной сети.</p>
<p>В конце концов, запрос попадает на авторитетный DNS-сервер, отвечающий за нужный домен. Этот сервер, подобно хранителю спрятанных сокровищ, открывает заветный IP-адрес. Теперь ваш запрос, обогащенный этим шифром, повторяет свой путь по той же сети космических связей, подобно бесстрашному космонавту, вернувшемуся из межзвездного путешествия.</p>
<p>В конечном итоге, получив правильный IP-адрес, ваш локальный DNS-сервер сохраняет его в своем кэше, гарантируя, что последующие обращения к тому же домену будут выполнены с быстротой и точностью. Вы словно выгравировали в своей памяти небесную карту, безошибочно направляющую вас к заветному небесному телу.</p>
<p>В общем, система доменных имен - это небесный шедевр, сложный гобелен, сотканный множеством серверов и кэшей, которые работают синхронно, чтобы каждое введенное доменное имя стало трансцендентным заклинанием, безошибочно ведущим вас к месту назначения, независимо от того, где вы находитесь в космических просторах киберпространства. Эта система представляет собой глубокую и благоговейную симфонию технологий, служащую космическим почтовым отделением, доставляющим цифровые послания по всей Вселенной и соединяющим нас с безграничными чудесами Интернета.</p>
<h2 class="wp-block-heading" id="dns-кэш-на-языке-ruby">DNS-кэш на языке Ruby</h2>
<p>Опираясь на навыки работы с Ruby, давайте создадим DNS-кэш для ускорения наших цифровых поисков. Этот кэш хранит ранее разрешенные сопоставления доменов и IP-адресов, выступая в роли кладезя знаний. Для создания кэша мы будем использовать Hash языка Ruby:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">class DNSCache
  def initialize
    @cache = {}
  end

  def resolve(domain)
    if @cache.key?(domain)
      ip = @cache[domain]
      puts "#{domain} found in cache: #{ip}"
    else
      ip = DNSResolver.new.resolve(domain)
      @cache[domain] = ip
    end
    ip
  end
end

# Create a cache and try it out!
cache = DNSCache.new
cache.resolve('www.example.com')
cache.resolve('www.openai.com')
</code></pre>
<!-- /wp:code -->
<p>Благодаря этому волшебному кэшу наш DNSResolver теперь сначала проверяет, есть ли домен в кэше, прежде чем отправиться в космическое путешествие к DNS-серверам. Это ускорит наши заклинания, и мы сразу почувствуем себя цифровыми волшебниками.</p>
<h2 class="wp-block-heading" id="юмористический-кодекс">Юмористический кодекс</h2>
<p>Продолжая наше легкомысленное путешествие, приведем еще несколько анекдотов для поддержания очарования:</p>
<p>Что говорят волшебники DNS, когда совершают ошибку? ”Упс, я неправильно набрал заклинание! Давайте я попробую еще раз набрать ‘<a href="http://www.magicalspell.com%E2%80%99%E2%80%9D.%D0%92%D1%8B" rel="noopener noreferrer nofollow" target="_blank">www.magicalspell.com’”.Вы</a> слышали о вечеринке DNS? Она была легендарной, но всем потребовалась целая вечность, чтобы найти нужный IP-адрес.DNS - это искусство превращения мистических заклинаний (доменных имен) в заклинания (IP-адреса), которые вызывают чары Интернета.</p>
<h2 class="wp-block-heading" id="эпическое-завершение">Эпическое завершение</h2>
<p>В этой эпической одиссее мы разобрались в тонкостях работы DNS и произнесли заклинания Ruby для создания DNS-кэша, улучшив наши цифровые возможности. DNS остается невоспетым героем цифрового мира, обеспечивая нам бесперебойную работу в Интернете.</p>
<p>Продолжая свой путь по постоянно меняющемуся цифровому ландшафту, помните, что понимание магии, скрытой под поверхностью, позволяет формировать цифровой космос по своему усмотрению. Счастливого кодирования, и пусть ваши решения DNS всегда будут быстрыми, а цифровые приключения - безграничными!</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby&url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby&title=Расшифровка загадки DNS: Восхитительная одиссея внедрения Ruby&summary=Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его...
&source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/rasshifrovka-zagadki-dns-voshititelьnaya-odisseya-vnedreniya-ruby&media=&description=Приветствую вас, начинающие техномаги! Приготовьтесь к захватывающему путешествию в волшебное царство DNS (Domain Name System), где мы погрузимся в его...
" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/shpargalka-po-angular" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Шпаргалка по Angular </a> <a href="/blog/raskrytie-vozmozhnostej-struktur-dannyh-leetcode-706-proektirovanie-hashmap" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Раскрытие возможностей структур данных: Leetcode 706 - проектирование HashMap </a> </nav>  </div> </div> </article> <div class="container" data-astro-cid-axzg2cw6> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.D-6fTqBY.js" component-export="default" renderer-url="/_astro/client.Bd2Qst3j.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> </div> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.ChJFdf82.js" component-export="default" renderer-url="/_astro/client.44T8euMP.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-blue dark:text-white" aria-label="logo" data-astro-cid-ijoll5s5> <svg width="1.44em" height="1em" viewBox="0 0 5660 3931" class="icon" data-astro-cid-ijoll5s5 data-icon="logo-one">  <use xlink:href="#ai:local:logo-one"></use>  </svg>  </a> <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>