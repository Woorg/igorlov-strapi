<!DOCTYPE html><html lang="ru"> <head><title>Руководство по включению частичного предварительного рендеринга в Next.js | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js"><meta name="description" content="В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролиров"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Руководство по включению частичного предварительного рендеринга в Next.js </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/nextjs" data-astro-cid-axzg2cw6> Next.js </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 09 фев., 2024 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 30 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js-Feb-09-2024.DqC1cRbN_1VXlss.avif" type="image/avif"><source srcset="/_astro/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js-Feb-09-2024.DqC1cRbN_Z1crcnJ.webp" type="image/webp"> <img src="/_astro/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js-Feb-09-2024.DqC1cRbN_Zng2I.png" alt="Руководство по включению частичного предварительного рендеринга в Next.js" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Руководство по включению частичного предварительного рендеринга в Next.js&#38;url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js&#38;title=Руководство по включению частичного предварительного рендеринга в Next.js&#38;summary=В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролиров&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js&#38;media=&#38;description=В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролиров" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="title">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-работает-частичный-предварительный-рендеринг">Как работает частичный предварительный рендеринг?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-использовать-частичный-предрендеринг">Как использовать частичный предрендеринг</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#случай-использования-частичного-предварительного-рендеринга">Случай использования частичного предварительного рендеринга</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#частичный-предварительный-рендеринг-страницы-блога">Частичный предварительный рендеринг страницы блога</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#преимущества-частичного-пререндеринга">Преимущества частичного пререндеринга</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details><p>В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролировать, какая часть страницы будет предварительно рендериться или рендериться первой. Она использует React Suspense API, поэтому ее будет легко понять и использовать, если вы уже пользовались React.</p>
<p>Частичный предварительный рендеринг использует комбинацию статической обработки, в частности инкрементную статическую регенерацию (ISR) и полную обработку на стороне сервера (SSR). С помощью ISR Next.js обеспечивает предварительный рендеринг страниц, содержащих динамические данные, во время сборки. Впоследствии эти страницы при необходимости инкрементально перерисовываются в фоновом режиме, обеспечивая эффективную и динамичную работу пользователей.</p>
<p>В этой статье мы рассмотрим, как работает функция частичного предварительного рендеринга и как ее можно использовать в приложениях Next.js. Помните, что эта функция все еще находится в экспериментальной стадии и поэтому пока не рекомендуется для использования в производственной среде.</p>
<h2 id="как-работает-частичный-предварительный-рендеринг"><a href="#how-does-partial-prerendering-work"></a>Как работает частичный предварительный рендеринг?<a aria-hidden="true" tabindex="-1" href="#как-работает-частичный-предварительный-рендеринг"><span class="icon icon-link"></span></a></h2>
<p>Частичный предрендеринг в Next.js 14 позволяет разработчикам указывать, какие части или разделы страницы должны быть предрендерены, что дает разработчикам больше контроля над процессом оптимизации. Функция частичного предрендеринга использует Concurrent API и Suspense в React для ”приостановки” или ”паузы” рендеринга до тех пор, пока данные не будут готовы и доступны, что приводит к более быстрой и оптимизированной работе.</p>
<p><a href="https://blog.logrocket.com/async-rendering-react-suspense-hooks-other-methods/" rel="noopener noreferrer nofollow" target="_blank">React Suspense API</a> позволяет компонентам приостанавливать или приостанавливать рендеринг в ожидании данных, обычно во время <a href="https://blog.logrocket.com/data-fetching-react-suspense/" rel="noopener noreferrer nofollow" target="_blank">асинхронной выборки данных</a>.</p>
<p>Suspense API предоставляет резервный пользовательский интерфейс, который появляется во время загрузки данных. Этот резервный пользовательский интерфейс загружается вместе с другим статическим содержимым страницы. Это означает, что при загрузке страницы резервный пользовательский интерфейс отображается вместе с другим содержимым, которое не генерируется динамически. Резервный пользовательский интерфейс остается видимым до завершения асинхронной выборки данных. Как только данные готовы, резервный пользовательский интерфейс заменяется данными.</p>
<p>Резервный пользовательский интерфейс обычно представляет собой загрузчик, который мы хотим показать нашим пользователям, чтобы они знали, что содержимое загружается, и могли продолжать просматривать другие части страницы, которые уже загружены или предварительно отображены.</p>
<p>Чтобы использовать частичный предрендеринг, сначала определите разделы или части вашего приложения, где происходят асинхронные операции. Это идеальное место, к которому вы хотите применить Suspense API. Например, компонент, который асинхронно получает данные, можно обернуть компонентом <code>&#x3C;Suspense></code>, указывающим, что выполнение этой части должно быть приостановлено или отложено до тех пор, пока данные не будут готовы и доступны.</p>
<p>Давайте рассмотрим приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Suspense</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Suspense</span><span style="color:#91B4D5;font-style:italic"> fallback</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{&#x3C;</span><span style="color:#5DE4C7">Loader</span><span style="color:#E4F0FB"> />}>.... ваш компонент&#x3C;/</span><span style="color:#5DE4C7">Suspense</span><span style="color:#E4F0FB">></span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Компоненты, обернутые внутри компонента <code>Suspense</code> или находящиеся внутри него, будут приостановлены. Вам не нужно менять код для использования частичного предварительного рендеринга - достаточно обернуть раздел или страницу компонентом <code>Suspense</code>, и Next.js сам поймет, какие части рендерить статично, а какие динамично.</p>
<h2 id="как-использовать-частичный-предрендеринг"><a href="#how-to-use-partial-prerendering"></a>Как использовать частичный предрендеринг<a aria-hidden="true" tabindex="-1" href="#как-использовать-частичный-предрендеринг"><span class="icon icon-link"></span></a></h2>
<p>Чтобы использовать функцию частичного предрендеринга в Next.js, установите последнюю версию Canary, используя любую из команд ниже:</p>
<p><code>/* с помощью npm */ npm install next@canary /* с помощью yarn */ yarn add next@canary</code>.</p>
<p>Далее в файле <code>next.config.js</code> добавьте следующую конфигурацию:</p>
<p><code>experimental: { ppr: true, },</code>.</p>
<p>Ваш файл <code>next.config.js</code> должен выглядеть следующим образом:</p>
<p><code>/** @type {import('next').NextConfig} */ const nextConfig = { experimental: { ppr: true, }, } module.exports = nextConfig</code></p>
<p>Теперь мы можем использовать Suspense API. Давайте посмотрим на пример кода ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> Posts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> data</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetch</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">https://jsonplaceholder.typicode.com/posts</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">, {</span></span>
<span class="line"><span style="color:#ADD7FF">		cache</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">no-store</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">	});</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">json</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">>All Posts&#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			{posts</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">slice</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">,</span><span style="color:#5DE4C7"> 7</span><span style="color:#A6ACCD">).</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">post</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">>Title: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">title}&#x3C;/</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					Содержание: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body}</span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">			))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> Home</span><span style="color:#A6ACCD">()</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">main</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">flex min-h-screen flex-col items-center justify-between p-24</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">>Частичный предрендер&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis. Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis.</span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">Posts</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">main</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде мы имеем простую страницу, получающую и отображающую несколько постов. С помощью частичного предварительного рендеринга мы можем отложить содержимое постов до тех пор, пока данные не будут доступны. Во время выборки указанный нами fallback будет отображаться вместе с остальным статическим содержимым:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Suspense</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> LoadingPosts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> shimmer</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> `</span><span style="color:#5DE4C7">relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">col-span-4 mt-20 min-h-screen w-full space-y-4 lg:col-span-1</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">bg-gray-900 relative h-[167px] rounded-xl </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">shimmer</span><span style="color:#A6ACCD">}`</span><span style="color:#E4F0FB">} /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-6 w-1/3 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-4/6 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> Posts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> data</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetch</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">https://jsonplaceholder.typicode.com/posts</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">, {</span></span>
<span class="line"><span style="color:#ADD7FF">		cache</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">no-store</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">	});</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">json</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">>All Posts&#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			{posts</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">slice</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">,</span><span style="color:#5DE4C7"> 7</span><span style="color:#A6ACCD">).</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">post</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">>Title: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">title}&#x3C;/</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					Содержание: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body}</span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">			))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> Home</span><span style="color:#A6ACCD">()</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">main</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">flex min-h-screen flex-col items-center justify-between p-24</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">>Частичный предрендер&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis. Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis.</span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">Suspense</span><span style="color:#91B4D5;font-style:italic"> fallback</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{&#x3C;</span><span style="color:#5DE4C7">LoadingPosts</span><span style="color:#E4F0FB"> />}></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Posts</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">Suspense</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">main</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Мы обернули компонент <code>Posts</code> с помощью Suspense API, который мы импортировали из React, и добавили вспомогательный пользовательский интерфейс компонента <code>LoadingPosts</code>.</p>
<p>Компонент <code>LoadingPosts</code> представляет собой скелет загрузки постов. Он включает в себя эффект мерцания (обычно используемый в качестве анимации загрузки) и стилизован так, чтобы дать пользователям визуальную обратную связь о том, что контент загружается. Если вы перезагрузите страницу, вы увидите загружающийся скелет в течение минуты, прежде чем содержимое постов будет отображено:</p>
<h2 id="случай-использования-частичного-предварительного-рендеринга"><a href="#use-case-for-partial-prerendering"></a>Случай использования частичного предварительного рендеринга<a aria-hidden="true" tabindex="-1" href="#случай-использования-частичного-предварительного-рендеринга"><span class="icon icon-link"></span></a></h2>
<p>Как мы уже говорили, страницы с динамической загрузкой данных являются лучшим вариантом использования частичного предрендеринга, поскольку данные подхватываются асинхронно. Давайте рассмотрим хороший пример, в котором мы можем использовать функцию частичного предрендеринга.</p>
<h3 id="частичный-предварительный-рендеринг-страницы-блога"><a href="#partial-prerendering-of-a-blog-page"></a>Частичный предварительный рендеринг страницы блога<a aria-hidden="true" tabindex="-1" href="#частичный-предварительный-рендеринг-страницы-блога"><span class="icon icon-link"></span></a></h3>
<p>На каждом блог-сайте у нас есть список блогов, которые мы получаем с нашего сервера. С помощью PPR мы можем отображать загрузчик по мере получения записей из блога и впоследствии заменять их, когда данные будут готовы.</p>
<p>Обернув асинхронную выборку данных в <code>Suspense</code>, вы приостанавливаете рендеринг компонента до тех пор, пока данные не будут доступны. Такой подход позволяет оптимизировать эффективность начальной загрузки страницы за счет предварительного рендеринга статического контента, включая fallback, а динамические данные подхватываются и рендерятся только при необходимости.</p>
<p>Давайте рассмотрим пример ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">/* pages.js */</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">Home</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">./components/Home</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> Page</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">main</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">flex min-h-screen flex-col justify-between p-12</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">header</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-12 text-center</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-6 font-bold text-3xl</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Блог Мезиева&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">header</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">Home</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">footer</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mt-24 text-center</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">> ©MezieIV 2023 &#x3C;/</span><span style="color:#5DE4C7">footer</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;/</span><span style="color:#5DE4C7">main</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">Page</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>В этом уроке мы используем маршрутизатор <code>App</code>. В приведенном выше коде у нас есть верхний, нижний и нижний колонтитулы в нашем макете страницы. Мы импортируем компонент <code>Home</code>, который будет содержать нашу запись в блоге.</p>
<p>В компонент <code>Home</code> скопируйте и вставьте приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">/* /components/Home.js */</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Suspense</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> LoadingPosts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> shimmer</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> `</span><span style="color:#5DE4C7">relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">col-span-4 mt-20 min-h-screen w-full space-y-4 lg:col-span-1</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">bg-gray-900 relative h-[167px] rounded-xl </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">shimmer</span><span style="color:#A6ACCD">}`</span><span style="color:#E4F0FB">} /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-6 w-1/3 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-4/6 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> Posts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> data</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetch</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">https://jsonplaceholder.typicode.com/posts</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">, {</span></span>
<span class="line"><span style="color:#ADD7FF">		cache</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">no-store</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">	});</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">json</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-3 mt-8 font-bold text-2xl</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Все посты&#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			{posts</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">slice</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">,</span><span style="color:#5DE4C7"> 7</span><span style="color:#A6ACCD">).</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">post</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id} </span><span style="color:#91B4D5;font-style:italic">className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-5</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">h4</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">text-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Заголовок: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">title}&#x3C;/</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">p</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">text-sm</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Содержание: {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body}&#x3C;/</span><span style="color:#5DE4C7">p</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">			))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> Home</span><span style="color:#A6ACCD">()</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-3 font-bold text-2xl</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">> Partial Pre-Rendering &#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis. Morbi eu ullamcorper urna, a condimentum massa. In fermentum ante non turpis cursus fringilla.</span></span>
<span class="line"><span style="color:#E4F0FB">				Praesent neque eros, gravida vel ante sed, vehicula elementum orci. Sed eu ipsum eget enim mattis</span></span>
<span class="line"><span style="color:#E4F0FB">				mollis.</span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">Suspense</span><span style="color:#91B4D5;font-style:italic"> fallback</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{&#x3C;</span><span style="color:#5DE4C7">LoadingPosts</span><span style="color:#E4F0FB"> />}></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Posts</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">Suspense</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<figure class="igorlov-figure"><img  src="/_astro/partial-prerendering-blog-posts.CLM4ZowW_1ICmc3.webp" alt="partial-prerendering-blog-posts.gif" width="600" height="274" loading="lazy" decoding="async"><figcaption>partial-prerendering-blog-posts.gif</figcaption></figure>
<p>После того как пользователь нажимает на блог, он переходит на страницу блога, чтобы продолжить чтение записи. На странице блога мы хотим, чтобы пользователю была доступна сама статья, а также список похожих блогов или недавних записей в блоге. Это хороший пользовательский опыт в реальном мире, чтобы пользователю не нужно было возвращаться назад, чтобы найти другую запись для чтения.</p>
<p>Поскольку и основной блог, и посты в других блогах извлекаются динамически, мы можем использовать API Suspense для обоих разделов.</p>
<p>Внутри компонента <code>Home</code> вы можете скопировать и заменить его на код, приведенный ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">/* /components/Home.js */</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> Suspense</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> LoadingPosts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> shimmer</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> `</span></span>
<span class="line"><span style="color:#5DE4C7">    relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent</span></span>
<span class="line"><span style="color:#A6ACCD">  `</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">col-span-4 mt-20 w-full space-y-4 lg:col-span-1</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">bg-gray-900 relative h-[167px] rounded-xl </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">shimmer</span><span style="color:#A6ACCD">}`</span><span style="color:#E4F0FB">} /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-6 w-1/3 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-full rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-gray-900 h-4 w-4/6 rounded-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> fetchPosts</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#5DE4C7"> new</span><span style="color:#ADD7FF"> Promise</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">resolve</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setTimeout</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#E4F0FB"> data</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetch</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span><span style="color:#5DE4C7">https://jsonplaceholder.typicode.com/posts</span><span style="color:#A6ACCD">`</span><span style="color:#A6ACCD">, {</span></span>
<span class="line"><span style="color:#ADD7FF">				cache</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">no-store</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">			});</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">json</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FBD0">			resolve</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">posts</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		}, </span><span style="color:#5DE4C7">2000</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	});</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> BlogPost</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetchPosts</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> post</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> posts</span><span style="color:#A6ACCD">[</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">];</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">w-full</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h4</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-2 text-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Заголовок - {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">title}&#x3C;/</span><span style="color:#5DE4C7">h4</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">p</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">text-sm leading-6</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body}{</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD"> '</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">				{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body} {post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body}</span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">p</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">async</span><span style="color:#91B4D5"> function</span><span style="color:#ADD7FF"> Aside</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> posts</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FBD0"> fetchPosts</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">aside</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">w-full</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				{posts</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">slice</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">,</span><span style="color:#5DE4C7"> 5</span><span style="color:#A6ACCD">).</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">post</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">ol</span><span style="color:#91B4D5;font-style:italic"> key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id} </span><span style="color:#91B4D5;font-style:italic">style</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> listStyle</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">inside</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD"> }</span><span style="color:#E4F0FB">}></span></span>
<span class="line"><span style="color:#E4F0FB">						&#x3C;</span><span style="color:#5DE4C7">li</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">w-full text-lg</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">							&#x3C;</span><span style="color:#5DE4C7">a</span><span style="color:#91B4D5;font-style:italic"> href</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">#</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>{post</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">title}&#x3C;/</span><span style="color:#5DE4C7">a</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">						&#x3C;/</span><span style="color:#5DE4C7">li</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;/</span><span style="color:#5DE4C7">ol</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">				))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">aside</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> Home</span><span style="color:#A6ACCD">()</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">flex justify-between pl-12 pr-12</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">w-[70%]</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-.6 text-2xl</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Основной блог&#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Suspense</span><span style="color:#91B4D5;font-style:italic"> fallback</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{&#x3C;</span><span style="color:#5DE4C7">LoadingPosts</span><span style="color:#E4F0FB"> />}></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">BlogPost</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">Suspense</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">w-[25%] pl-10</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">h2</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">mb-12 text-2xl</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Последние записи блога&#x3C;/</span><span style="color:#5DE4C7">h2</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Suspense</span><span style="color:#91B4D5;font-style:italic"> fallback</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{&#x3C;</span><span style="color:#5DE4C7">LoadingPosts</span><span style="color:#E4F0FB"> />}></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">Aside</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">Suspense</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Как видите, мы обернули компоненты <code>BlogPost</code> и <code>Aside</code> двумя отдельными Suspense API. Мы используем один и тот же скелет загрузчика для обоих, но вы можете создать свой, основываясь на том, как устроен ваш пользовательский интерфейс, чтобы он выглядел гораздо более совместимым и эстетичным.</p>
<p>Другим примером использования PPR является приборная панель администратора. Приборные панели имеют различные разделы, состоящие из графиков, столбчатых и круговых диаграмм, списков информации и так далее. В таких случаях вы можете использовать возможность частичного предварительного рендеринга для секций, получаемых асинхронно. Аналогичным образом, разделы, которыекоторые не извлекаются асинхронно, будут пререндерены статически во время сборки.</p>
<h2 id="преимущества-частичного-пререндеринга"><a href="#benefits-of-partial-prerendering"></a>Преимущества частичного пререндеринга<a aria-hidden="true" tabindex="-1" href="#преимущества-частичного-пререндеринга"><span class="icon icon-link"></span></a></h2>
<p>Из того, что мы узнали в этом уроке, мы можем сделать вывод, что частичный предрендеринг имеет следующие преимущества:</p>
<ul>
<li><strong>Быстрее начальная загрузка страницы</strong>: Поскольку статическое содержимое отображается сразу же после загрузки страницы, пользователям не нужно ждать, пока загрузится все содержимое, включая динамическое. Это приводит к ускорению загрузки страницы - пользователи могут продолжать работать со статическими частями страницы, пока динамическое содержимое загружается в фоновом режиме</li>
<li><strong>Улучшение пользовательского опыта</strong>: Динамическое содержимое загружается плавно, когда оно готово. В это время пользователям показывается загрузчик, означающий, что данные находятся в процессе загрузки. Это повышает интерактивность сайта для пользователей</li>
<li><strong>Снижение нагрузки на сервер</strong>: PPR снижает нагрузку на сервер. Это происходит потому, что сервер отображает только динамические разделы страницы, поскольку PPR предварительно отображает статическое содержимое во время сборки и затем из кэша.</li>
<li><strong>Использование ресурсов</strong>: PPR сочетает в себе возможности статического (ISR) и динамического рендеринга (SSR). Таким образом, вы можете выбрать, какие части страницы будут статическими и предварительно отрендеренными, а какие - динамическими</li>
</ul>
<h2 id="заключение"><a href="#%D0%B7%D0%B0%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5"></a>Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>В этой статье мы рассмотрели частичный предрендеринг и то, как он работает в приложении Next.js.</p>
<p>Частичный предрендеринг полезен в сценариях, когда части вашего сайта отображаются динамически или когда данные получаются асинхронно. Используя PPR, вы выбираете, какие части страницы должны быть предварительно отрендерены, а какие - загружены по требованию. Это позволяет ускорить первоначальную загрузку страницы, поскольку пользователи сразу видят статичный или предварительно отрендеренный контент, а динамический контент загружается по мере необходимости или готовности.</p>
<p>Несмотря на то, что эта технология находится на начальной и экспериментальной стадии, и ее не рекомендуется использовать в производстве, вы всегда можете попробовать ее, чтобы получить представление о том, как будет выглядеть стабильная версия.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Руководство по включению частичного предварительного рендеринга в Next.js&#38;url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js&#38;title=Руководство по включению частичного предварительного рендеринга в Next.js&#38;summary=В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролиров&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/rukovodstvo-po-vkliuchenyiu-chastychnoho-predvarytelnoho-renderynha-v-next-js&#38;media=&#38;description=В Next.js 14 появилась новая функция, называемая частичным предварительным рендерингом. Частичное предварительное рендеринг позволяет разработчикам контролиров" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/angular-signals-vs-observables-kak-y-kohda-yspolzovat-kazhd-i-yz-nykh" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Angular signals vs. observables: Как и когда использовать каждый из них </a> <a href="/blog/sozdanye-prylozhenyia-dlia-kontrolnoi-panely-s-pomoschiu-sql-node-js-django-y-next-js" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Создание приложения для контрольной панели с помощью SQL, Node.js, Django и Next.js </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>