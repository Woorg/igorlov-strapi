<!DOCTYPE html><html lang="ru"> <head><title>4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov"><meta name="description" content="За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступаю"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.DbkvWnAm.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.BCoIA8H8.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> 4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/микросервисы" data-astro-cid-axzg2cw6> Микросервисы </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/паттерны" data-astro-cid-axzg2cw6> Паттерны </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov-Dec-18-2023.7NT-tnrm_1wueqE.avif" type="image/avif"><source srcset="/_astro/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov-Dec-18-2023.7NT-tnrm_ZIyIiL.webp" type="image/webp"> <img src="/_astro/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov-Dec-18-2023.7NT-tnrm_2cYhfO.png" alt="4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full break-words dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов&#38;url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov&#38;title=4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов&#38;summary=За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступаю&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov&#38;media=&#38;description=За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступаю" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#паттерн-cqrs-с-использованием-источников-событий">Паттерн CQRS с использованием источников событий</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#паттерн-strangler">Паттерн Strangler</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#издатель--подписчик">Издатель / Подписчик</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#паттерн-saga">Паттерн Saga</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details open><p>За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступают на путь микросервисов, понимание общих архитектурных паттернов приобретает первостепенное значение при разработке масштабного программного обеспечения.</p>
<p>Обещание оркестровки микросервисов обеспечить адаптивность, надежность и масштабируемость не должно стоить интеграции большей сложности или ощущения ”проприетарной системы” у команд разработчиков. Напротив, такая платформа, как Orkes Conductor, помогает разработчикам внедрять проверенные лучшие практики архитектуры микросервисов с использованием паттернов, сохраняя при этом свободу использования предпочтительных языков программирования.</p>
<p>В этом блоге представлен краткий обзор четырех значимых паттернов микросервисов, которые могут быть реализованы с помощью Orkes Conductor.</p>
<h2 id="паттерн-cqrs-с-использованием-источников-событий">Паттерн CQRS с использованием источников событий<a aria-hidden="true" tabindex="-1" href="#паттерн-cqrs-с-использованием-источников-событий"><span class="icon icon-link"></span></a></h2>
<p>Command and Query Response Segregation (CQRS) - это паттерн проектирования микросервисов, который разделяет операции чтения и записи в приложении. Система CQRS состоит из 2 компонентов:</p>
<p>Команда - операция записи, которая изменяет внутреннее состояние объекта, но не возвращает ничего или только метаданные.</p>
<p>Запрос - операция чтения, которая возвращает информацию, но не изменяет внутреннее состояние.</p>
<p>С другой стороны, событийный сорсинг - это паттерн хранения данных, который фокусируется на хранении изменений в состоянии приложения в виде серии событий. Вместо того чтобы хранить текущее состояние, при сорсинге событий хранится и поддерживается журнал событий. Этот метод имеет ряд преимуществ, таких как согласованность данных, аудиторский след и т. д.</p>
<p>Согласованность данных - поскольку все изменения в приложении записываются в виде событий, вы можете гибко восстановить текущее состояние в любой момент, воспроизведя эти события. Это помогает обеспечить согласованность данных и устранить проблемы, которые могут возникнуть из-за одновременной записи.</p>
<p>Журнал аудита - поскольку в журнале событий фиксируется история всех действий в приложении, эти записи можно использовать для отладки, проверки соответствия и аудита.</p>
<p>Проще говоря, CQRS разделяет чтение и запись данных, а Event Sourcing сохраняет данные в виде серии событий для обеспечения согласованности данных и ведения журнала аудита всех действий в приложении. Эти два паттерна можно использовать вместе для создания надежных и масштабируемых архитектур микросервисов.</p>
<h2 id="паттерн-strangler">Паттерн Strangler<a aria-hidden="true" tabindex="-1" href="#паттерн-strangler"><span class="icon icon-link"></span></a></h2>
<p>Преимущественное использование паттернов strangler в архитектуре микросервисов находит применение при переходе от монолитной архитектуры к архитектуре на основе микросервисов. Паттерн strangler помогает обновлять приложения с монолитных на микросервисы во время их работы в производстве.</p>
<p>Чтобы лучше понять концепцию, представьте, что ваш дом нуждается в капитальном ремонте. У вас есть два варианта: первый - полностью снести дом и построить новый с нуля, что займет несколько месяцев. Однако такой подход сопряжен со значительными неопределенностями. Вы не можете быть полностью уверены, что новый дом будет соответствовать вашим ожиданиям, и не сможете жить в нем в период реконструкции.</p>
<p>Второй вариант - поэтапная реконструкция, при которой вы можете обновлять по одному участку, убеждаясь, что каждый из них соответствует вашим ожиданиям, прежде чем переходить к следующему. Такой подход удобен тем, что вы можете продолжать жить в доме, пока проводите модернизацию. Кроме того, если ремонт не оправдает ваших ожиданий, исправить ситуацию будет гораздо проще, поскольку вы будете заниматься только одним участком за раз. Со временем вы получите полностью обновленный дом, который никогда не перестанет быть домом, и значительно снизите риски и перебои, связанные с полной перестройкой.</p>
<p>Когда дело доходит до миграции приложений, то есть если вы переносите свои приложения из монолита в микросервисы, вы можете адаптировать паттерн ”Душитель”. Здесь вместо того, чтобы полностью разбирать приложение и переписывать весь код, вы можете обновлять секции, не разрушая приложение. Продолжая этот процесс, вы можете в конечном итоге перенести все сервисы и компоненты для интеграции с новой прикладной системой, оставив прежнее приложение.</p>
<p>Паттерн Strangler Pattern необходим для модернизации, поскольку он позволяет организациям развивать свои старые монолитные системы без необходимости переписывать их полностью с нуля. Это очень важно для того, чтобы избежать рисков и ресурсоемкости полного переписывания.</p>
<p>Паттерн strangler имеет ряд преимуществ:</p>
<p>Снижает риск полного переписывания кода приложения. Помогает переносить микросервисную архитектуру шаг за шагом, не нарушая всей функциональности приложения. Экономически эффективен, поскольку постепенно модернизирует монолит, а не начинает с нуля. Максимально эффективное повторное использование существующего кода и ресурсов. Обеспечивает гибкость в выборе частей монолита для модернизации, позволяя компаниям в первую очередь сосредоточиться на наиболее важных областях.</p>
<p>Паттерн Strangler - это ценный подход к модернизации монолита.литических приложений при минимизации рисков и сбоев. Он позволяет организациям использовать пошаговый подход к переходу на более гибкую и масштабируемую архитектуру микросервисов, что делает его популярным выбором при модернизации.</p>
<h2 id="издатель--подписчик">Издатель / Подписчик<a aria-hidden="true" tabindex="-1" href="#издатель--подписчик"><span class="icon icon-link"></span></a></h2>
<p>Паттерн Publisher / Subscriber, обычно называемый паттерном Pub / Sub, - это паттерн микросервисов, который обеспечивает свободное соединение между компонентами, что позволяет им взаимодействовать между собой. Для передачи сообщений между компонентами pub и sub используются брокеры сообщений.</p>
<p>В этом шаблоне издатели создают сообщения, а подписчики получают их и действуют в соответствии с ними без каких-либо прямых, явных связей между ними. Такой тип связи способствует масштабируемости, гибкости и развязке коммуникаций. Типичный шаблон pub/sub состоит из трех основных компонентов: издателя, подписчика и брокера сообщений.</p>
<p>Издатели производят события или сообщения, не зная, кто или что будет их потреблять. Подписчики проявляют интерес к определенным типам сообщений и реагируют на публикацию соответствующих сообщений. Асинхронный, событийный характер гарантирует, что микросервисы могут реагировать на события в реальном времени, не блокируя и не ожидая ответов.</p>
<p>Приложения для социальных сетей, которые вы используете ежедневно, являются отличным примером того, как паттерн Pub/Sub реализуется в реальном мире.</p>
<p>В приложениях для социальных сетей издатели отвечают за генерацию событий или сообщений. К таким событиям относятся загрузка фотографии, публикация обновления статуса и т. д. Каждое действие генерирует события, которые необходимо распространить среди заинтересованных людей. Роль издателя заключается в том, чтобы создавать эти события, не зная, кто или что будет их потреблять. Они отправляют события брокеру сообщений.</p>
<p>В приложениях для социальных сетей подписчиками являются пользователи и различные компоненты платформы, такие как система уведомлений, чат-сервисы и алгоритм подачи сообщений. Пользователи - это подписчики, которые проявляют интерес к определенным типам контента или пользователям, следуя за ними, ставя лайки или комментируя сообщения. Они реагируют на публикацию соответствующих событий. Например, когда вы следуете за пользователем, вы подписываетесь на его сообщения и получаете обновления, когда он публикует новый контент. Подписчики реагируют на события, отображая их в вашей ленте, отправляя уведомления или обновляя беседы в чате.</p>
<p>Брокеры сообщений выступают в роли посредников, которые направляют события от издателей к подписчикам. Они обеспечивают эффективную доставку событий нужным подписчикам. Социальные медиа включают в себя распространение событий среди подписчиков, отправку уведомлений пользователям и управление чатами в режиме реального времени. Брокеры сообщений помогают масштабировать систему, эффективно управляя распределением событий.</p>
<h2 id="паттерн-saga">Паттерн Saga<a aria-hidden="true" tabindex="-1" href="#паттерн-saga"><span class="icon icon-link"></span></a></h2>
<p>Самый популярный паттерн микросервисов - паттерн saga, используемый для управления распределенными транзакциями и оркестровки сложных и длительных процессов. Он полезен для управления распределенными транзакциями в микросервисах, где традиционные ACID-транзакции сложно реализовать из-за распределенной и децентрализованной природы микросервисов.</p>
<p>Распределенные транзакции могут быть проблематичными в микросервисах из-за таких проблем, как двухфазная фиксация, что приводит к высокой задержке и потенциальным сбоям. Sagas разбивает большую транзакцию на более мелкие, отдельные транзакции внутри каждого микросервиса, гарантируя, что каждый сервис может выполнять свою часть самостоятельно, не требуя координации со стороны центрального органа.</p>
<p>Sagas помогают организовывать сложные и длительные процессы, определяя шаги и компенсирующие действия, чтобы мягко справляться со сбоями. Например, в приложении электронной коммерции Saga может управлять процессом размещения заказа, включающим службы инвентаризации, оплаты и доставки. Если на каком-то этапе произойдет сбой, может быть запущено компенсирующее действие, чтобы справиться с неудачей.</p>
<p>В своем предыдущем блоге о паттерне саги я подробно рассказывал о том, как вы можете реализовать паттерн саги с помощью Orkes Conductor в контексте приложения для заказа такси. Обратитесь к блогу для получения подробных примеров кода и примеров.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>В двух словах, в зависимости от сценария использования и требований бизнеса, вы можете реализовать любой паттерн микросервиса с помощью Orkes Conductor.</p>
<p>Conductor, созданный в Netflix и поддерживаемый Orkes, - это мощная платформа оркестровки с открытым исходным кодом для создания масштабируемых распределенных приложений в 10 раз быстрее. Conductor довольно гибок, и вы можете без проблем реализовать любой из паттернов микросервисов.</p>
<p>В Orkes мы предлагаем Orkes Cloud, корпоративную версию Conductor, на всех основных облачных платформах, включая AWS, Azure и GCP.</p>
<p>Начните работу с Orkes Playground и Orkes Cloud!</p>
<p>Кроме того, не забудьте оставить нам отзыв ⭐ о нашем репо Netflix Conductor.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов&#38;url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov&#38;title=4 паттерна микросервисов, имеющих решающее значение для архитектуры микросервисов&#38;summary=За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступаю&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/4-patterna-mykroservysov-ymeiuschykh-reshaiuschee-znachenye-dlia-arkhytektur-mykroservysov&#38;media=&#38;description=За последние несколько лет в индустрии приложений наблюдался бурный рост внедрения архитектуры микросервисов. По мере того как предприятия все активнее вступаю" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/4-veschy-kotor-e-ya-uznal-sozdav-umopomrachyteln-i-henerator-pleilystov-dlia-spotify-s-yspolzovanyem-next-js-v-kachestve-full-stack-framework" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> 4 вещи, которые я узнал, создав умопомрачительный генератор плейлистов для Spotify с использованием Next.js в качестве Full-Stack Framework </a> <a href="/blog/3-sposoba-realyzatsyy-skeletn-kh-komponentov-v-react" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> 3 способа реализации скелетных компонентов в React </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>