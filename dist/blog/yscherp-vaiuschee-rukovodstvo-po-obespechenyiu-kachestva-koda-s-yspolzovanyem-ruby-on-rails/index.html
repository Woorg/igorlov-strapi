<!DOCTYPE html><html lang="ru"> <head><title>Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails"><meta name="description" content="Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать се"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.DbkvWnAm.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.BCoIA8H8.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/ruby" data-astro-cid-axzg2cw6> Ruby </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/rails" data-astro-cid-axzg2cw6> Rails </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails-Dec-18-2023.sPysmX0P_ZdwPhR.avif" type="image/avif"><source srcset="/_astro/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails-Dec-18-2023.sPysmX0P_1aeyps.webp" type="image/webp"> <img src="/_astro/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails-Dec-18-2023.sPysmX0P_Z2wR1AR.png" alt="Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full break-words dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails&#38;url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails&#38;title=Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails&#38;summary=Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать се&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails&#38;media=&#38;description=Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать се" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#что-такое-линтер">Что такое линтер?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#мой-список-линтеров-для-rails-проектов">Мой список линтеров для Rails-проектов</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#rubocop">Rubocop</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#i18n-задачи">i18n-задачи</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#reek">Reek</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#brakeman">Brakeman</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#лучшие-практики-rails">Лучшие практики Rails</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#haml-lint--erb-lint--slim-lint">Haml-lint / Erb-lint / Slim-lint</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#scss-lint--css-lint">Scss-lint / Css-lint</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#настройка-git-хуков-с-помощью-lefthook">Настройка Git-хуков с помощью Lefthook</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details open><p>Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать себя как угодно - использовать функции с приблизительными названиями, методы с 40 строками кода… Однако при совместной работе над коллективным проектом часто возникают конфликты из-за различий в стилях кодирования. Именно здесь мы вводим соглашения по кодированию, и наш лучший друг для соблюдения этих соглашений - линтер.</p>
<p>В этой статье мы погрузимся в мир линтеров и объясним их важную роль в каждом проекте разработки. Мы также рассмотрим мощный инструмент под названием Lefthook, предназначенный для упрощения управления линерами и другими задачами, связанными с качеством кода, в наших рабочих процессах. Наконец, я представлю подборку лайнеров, которые я использую ежедневно и которые оказывают значительное влияние на качество нашего кода.</p>
<h2 id="что-такое-линтер">Что такое линтер?<a aria-hidden="true" tabindex="-1" href="#что-такое-линтер"><span class="icon icon-link"></span></a></h2>
<p>Линтер - это инструмент, призванный помочь разработчикам поддерживать чистоту и последовательность кода. Для этого он статически анализирует исходный код проекта, чтобы выявить проблемы. Эти проблемы могут варьироваться от простых синтаксических ошибок до тонких логических ошибок. Кроме того, линтеры проверяют, соответствует ли код установленным стандартам проекта.</p>
<p>Сила линтеров заключается в их настраиваемости. Если какое-то правило не соответствует вашим потребностям, вы можете отменить его.</p>
<p>Линтеры - это универсальные инструменты, способные обнаружить широкий спектр мелких ошибок. Примерами распространенных проблем с форматированием являются лишние пробелы, слишком длинные строки, неиспользуемые переменные и неизвестные ссылки.</p>
<p>В результате линтеры обеспечивают спокойствие разработчиков, помогая им избежать распространенных ошибок. Вам больше не придется тратить три часа на поиск недостающей точки с запятой!</p>
<h2 id="мой-список-линтеров-для-rails-проектов">Мой список линтеров для Rails-проектов<a aria-hidden="true" tabindex="-1" href="#мой-список-линтеров-для-rails-проектов"><span class="icon icon-link"></span></a></h2>
<p>Во всех своих Rails-проектах я стремлюсь к единообразию в форматировании кода. Давайте посмотрим, какие литеры я использую ежедневно!</p>
<h3 id="rubocop">Rubocop<a aria-hidden="true" tabindex="-1" href="#rubocop"><span class="icon icon-link"></span></a></h3>
<p><code>Rubocop</code> - это инструмент для Ruby. Он фокусируется на соблюдении соглашений, установленных сообществом Ruby. Он проверяет такие элементы, как отступы, длина строки, использование неопределенных переменных и многое другое. Его цель - сделать код Ruby максимально читаемым и последовательным.</p>
<p>Использовать его в своем проекте очень просто:</p>
<p><code>bin/bundle exec rubocop .</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/frjdsqo0d6fdinf1bzz5.Bl2mAwGE_Z1H9uTy.webp" alt="frjdsqo0d6fdinf1bzz5.png" width="800" height="153" loading="lazy" decoding="async"><figcaption>frjdsqo0d6fdinf1bzz5.png</figcaption></figure>
<p><code>Rubocop</code> силен тем, что он также действует как форматировщик кода. Используя опцию <code>-A</code>, он автоматически исправляет такие простые проблемы, как излишние переносы строк.</p>
<h3 id="i18n-задачи">i18n-задачи<a aria-hidden="true" tabindex="-1" href="#i18n-задачи"><span class="icon icon-link"></span></a></h3>
<p>В проектах, использующих I18n, я внедряю <code>i18n-tasks</code>. Он определяет непереведенные строки в файлах переводов и неиспользуемые переводы.</p>
<p>Этот инструмент позволяет мне выявлять пробелы в переводах в моих приложениях, что делает его невероятно полезным при управлении несколькими языками в приложениях.</p>
<p>Использовать его очень просто:</p>
<p><code>bin/bundle i18n-tasks health</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/2yrhpzlesmw3x1wt036y.C_AGbp5S_ZHT5vO.webp" alt="2yrhpzlesmw3x1wt036y.png" width="800" height="307" loading="lazy" decoding="async"><figcaption>2yrhpzlesmw3x1wt036y.png</figcaption></figure>
<p>Но <code>i18n-tasks</code> делает гораздо больше:</p>
<p><code>i18n-tasks find</code> помогает найти все случаи использования ключа перевода в вашем коде.</p>
<p><code>i18n-tasks add-missing</code> заполняет отсутствующие ключи перевода в ваших файлах переводов с помощью заполнителя.</p>
<p><code>i18n-tasks translate-missing</code> делает шаг вперед, создавая и переводя все отсутствующие ключи, с возможностью использования Deepl, Google Translate и других.</p>
<p><code>i18n-tasks</code> предлагает множество функций для упрощения управления ключами перевода. Это жемчужина, которую стоит изучить!</p>
<h3 id="reek">Reek<a aria-hidden="true" tabindex="-1" href="#reek"><span class="icon icon-link"></span></a></h3>
<p><code>Reek</code> - ваш лучший друг для обнаружения того, что мы называем ”запахами кода”. Запахи кода - это набор признаков, которые показывают, что ваш код тесно связан. Я напишу об этом более подробную статью, но основной вывод заключается в том, что тесно связанный код сложно поддерживать и развивать.</p>
<p>Установив программу, вы можете использовать ее следующим образом:</p>
<p><code>bin/bundle exec reek app</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/mw3rpsvxm34wd93p6anv.DKU1xazs_Z3Yxbr.webp" alt="mw3rpsvxm34wd93p6anv.png" width="800" height="81" loading="lazy" decoding="async"><figcaption>mw3rpsvxm34wd93p6anv.png</figcaption></figure>
<p>Давайте рассмотрим несколько примеров ошибок, которые может обнаружить <code>reek</code>:</p>
<p>Дублированный вызов метода: Когда вы вызываете один и тот же метод несколько раз с одними и теми же аргументами.</p>
<p>Булевский параметр: Когда вы передаете булевский аргумент, подразумевая, что в методе есть два пути выполнения. Это сильный индикатор сцепления.</p>
<p>Отсутствие безопасного метода: Каждый ”опасный” метод (заканчивающийся на <code>!</code>) должен иметь соответствующий ”безопасный” метод.</p>
<h3 id="brakeman">Brakeman<a aria-hidden="true" tabindex="-1" href="#brakeman"><span class="icon icon-link"></span></a></h3>
<p><code>brakeman</code> - это линтер безопасности, специально разработанный для Ruby on Rails. Он ищет в коде потенциальные уязвимости безопасности, такие как межсайтовый скриптинг (XSS) или SQL-инъекции. Использование Brakeman необходимо для поддержки Rails-приложений, которые менее уязвимы к проблемам безопасности.</p>
<p>После установки вы можете запустить <code>brakeman</code> с помощью:</p>
<p><code>bin/bundle exec brakeman -z -q</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/0ehs0o6vv3qi6vxcefkq.BzhxhJy4_ZQWPOD.webp" alt="0ehs0o6vv3qi6vxcefkq.png" width="648" height="416" loading="lazy" decoding="async"><figcaption>0ehs0o6vv3qi6vxcefkq.png</figcaption></figure>
<p>Вот некоторые ошибки, которые может выявить <code>brakeman</code>:</p>
<p>Межсайтовый скриптинг: Когда вы выполняете код, которым может манипулировать пользователь, напримернапример, через нефильтрованные параметры.</p>
<p>Опасная отправка: Использование <code>.send</code> может быть опасным, если вы не проверяете данные, передаваемые в качестве параметра.</p>
<p>Unscoped Find: поиск записи непосредственно через модель, а не через объект, которому она принадлежит.</p>
<h3 id="лучшие-практики-rails">Лучшие практики Rails<a aria-hidden="true" tabindex="-1" href="#лучшие-практики-rails"><span class="icon icon-link"></span></a></h3>
<p><code>Rails Best Practices</code> - это инструмент, ориентированный на проекты на Ruby on Rails. Он выявляет нарушения лучших практик, характерных для Rails, способствуя согласованности проекта и помогая избежать распространенных ошибок.</p>
<p>Для использования:</p>
<p><code>bin/bundle exec rails_best_practices .</code></p>
<figure class="igorlov-figure"><img  src="/_astro/htyfxwt77615i00ydens.DThOf7Vs_Z1bvjBO.webp" alt="htyfxwt77615i00ydens.png" width="800" height="127" loading="lazy" decoding="async"><figcaption>htyfxwt77615i00ydens.png</figcaption></figure>
<p>Все правила этого линтера доступны на сайте <a href="https://rails-bestpractices.com" rel="noopener noreferrer nofollow" target="_blank">https://rails-bestpractices.com</a>. Хотя многие из этих правил устарели и датируются 2013 годом, большинство из них по-прежнему применимы и актуальны сегодня.</p>
<p>Вот примеры правил, которые проверяет <code>rails_best_practices</code>:</p>
<p>default_scope is Evil: Избегайте использования <code>default_scope</code>, так как его нельзя переопределить.</p>
<p>Рассказывай, не спрашивай: Этот известный принцип программирования поощряет предоставление инструкций или выражение действий напрямую, а не запрос объекта о его состоянии для принятия решений.</p>
<p>Ограничение автоматически генерируемых маршрутов: Когда вы используете <code>resources</code> для своих маршрутов, Rails генерирует все CRUD-маршруты по умолчанию. Однако часто не все из этих сгенерированных маршрутов используются.</p>
<h3 id="haml-lint--erb-lint--slim-lint">Haml-lint / Erb-lint / Slim-lint<a aria-hidden="true" tabindex="-1" href="#haml-lint--erb-lint--slim-lint"><span class="icon icon-link"></span></a></h3>
<p>Ваши представления также должны быть последовательными! Очень важно иметь линтер для любого синтаксиса шаблона. Здесь мы остановимся на <code>haml-lint</code>.</p>
<p>Давайте посмотрим, как работает <code>haml-lint</code>:</p>
<p><code>bin/bundle exec haml-lint app/views</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/yeywfwcw7deurspwszgg.DSdvmGQT_24AVHj.webp" alt="yeywfwcw7deurspwszgg.png" width="800" height="82" loading="lazy" decoding="async"><figcaption>yeywfwcw7deurspwszgg.png</figcaption></figure>
<p>Правила, применяемые этим линтером, гарантируют, что ваши представления будут последовательными и единообразными.</p>
<p>Вот примеры правил, которые проверяет <code>haml-lint</code>:</p>
<p>Неявные div: Избегайте создания лишних элементов div.</p>
<p>Alt Text: Все изображения должны иметь тег <code>alt</code>.</p>
<p>Повторяющиеся идентификаторы: Убедитесь, что идентификатор не используется несколько раз в представлении.</p>
<h3 id="scss-lint--css-lint">Scss-lint / Css-lint<a aria-hidden="true" tabindex="-1" href="#scss-lint--css-lint"><span class="icon icon-link"></span></a></h3>
<p>Scss-lint разработан специально для языка Sass/SCSS. Она выявляет проблемы с синтаксисом, отступами и стилями в ваших таблицах стилей, помогая поддерживать чистоту и организованность CSS-кода.</p>
<p>После установки вы можете запустить ее с помощью:</p>
<p><code>bin/bundle exec scss-lint app/../../assets/stylesheets/</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/0jfj0df336ywclfrb4wk.Cm3wm613_kUIDF.webp" alt="0jfj0df336ywclfrb4wk.png" width="800" height="62" loading="lazy" decoding="async"><figcaption>0jfj0df336ywclfrb4wk.png</figcaption></figure>
<p>Вот примеры правил, выполняемых <code>scss-lint</code>:</p>
<p>Нулевая единица: Не используйте единицы после 0.</p>
<p>Глубина BEM: Обеспечьте соответствие соглашению об именовании BEM (Block Element Modifier).</p>
<p>Единицы измерения свойств: Убедитесь в использовании правильных единиц измерения для атрибутов.</p>
<h3 id="настройка-git-хуков-с-помощью-lefthook">Настройка Git-хуков с помощью Lefthook<a aria-hidden="true" tabindex="-1" href="#настройка-git-хуков-с-помощью-lefthook"><span class="icon icon-link"></span></a></h3>
<p>Наличие всех этих линтеров - это здорово, но на разработчиков ложится значительная умственная нагрузка, связанная с необходимостью каждый раз запускать их вручную. К счастью, существуют git-хуки!</p>
<p>На практике git hook - это действие, которое выполняется при использовании команд Git. Например, вы можете сказать: ”Запустить этот линтер перед коммитом”. Это невероятно мощно!</p>
<p>Проблема? Синтаксис Git hook не очень удобен для разработчиков. Однако для каждой проблемы есть решение, и позвольте мне представить вам Lefthook.</p>
<p>Lefthook - это инструмент, который управляет вашими Git-хуками, раскрывая YAML-файл для оркестровки ваших Git-хуков. Он доступен как гем для Ruby и как пакет NPM.</p>
<p>Давайте посмотрим, как легко настроить Lefthook в вашем Rails-проекте.</p>
<p>Установив гем с помощью <code>bundle add lefthook</code>, вы создадите файл <code>lefthook.yml</code> в корне вашего проекта. В этом файле вы укажете все лайнеры, которые вы хотите запускать при каждом действии Git.</p>
<p>Вот простой пример файла <code>lefthook.yml</code>, который устанавливает <code>rubocop</code>:</p>
<p><code>pre-commit: commands: rubocop-linter: glob: "{*.rb,*.rake,*.jbuilder,*.builder,*.ru,Capfile,Gemfile,Rakefile}" files: git diff --name-only master run: bundle exec rubocop --force-exclusion {files} | grep "no offenses" skip: - merge - rebase</code></p>
<p>Список инструкций, которые я даю <code>lefthook</code>, очень прост. Перед каждым коммитом я запускаю <code>rubocop</code> для всех файлов, которые я редактировал в своей локальной ветке. Если с <code>rubocop</code> возникнут проблемы, коммит будет провален.</p>
<p>Чтобы включить Git hook, просто установите его на свою машину с помощью следующей команды:</p>
<p><code>bin/bundle exec lefthook install</code>.</p>
<p>И вот, пожалуйста! Git-хуки установлены на вашей машине!</p>
<figure class="igorlov-figure"><img  src="/_astro/k8q7gkz3moqjiehnvg22.C3Niwz2q_Z23cHWk.webp" alt="k8q7gkz3moqjiehnvg22.png" width="571" height="136" loading="lazy" decoding="async"><figcaption>k8q7gkz3moqjiehnvg22.png</figcaption></figure>
<p>Помните, что рассмотренный нами пример является простым. В больших проектах вы захотите запустить все линтеры, о которых мы говорили ранее.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>Линтеры - это не просто инструменты статического анализа кода. Они являются молчаливыми хранителями качества кода, способствуя созданию более стабильных, читаемых и эффективных проектов. Объединив линтеры с Lefthook, вы сможете автоматизировать мониторинг качества кода в вашем проекте, сократив при этом количество человеческих ошибок.</p>
<p>Чистый код - это не роскошь, а необходимость. Линтеры и инструменты автоматизации, такие как Lefthook, являются неотъемлемой частью работы современного разработчика.olkit. Поэтому не стесняйтесь интегрировать эти инструменты в свой рабочий процесс разработки и воспользоваться преимуществами, которые они дают для качества кода и надежности проекта.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails&#38;url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails&#38;title=Исчерпывающее руководство по обеспечению качества кода с использованием Ruby on Rails&#38;summary=Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать се&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/yscherp-vaiuschee-rukovodstvo-po-obespechenyiu-kachestva-koda-s-yspolzovanyem-ruby-on-rails&#38;media=&#38;description=Как разработчики, мы все имеем разное образование, и у каждого из нас свой собственный стиль кодирования. При работе над личными проектами мы можем выражать се" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/metaprohrammyrovanye-v-ruby-prodvynut-i-uroven" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Метапрограммирование в Ruby: продвинутый уровень </a> <a href="/blog/sozdaite-svoi-sobstvenn-i-http-server-na-yaz-ke-ruby" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Создайте свой собственный HTTP-сервер на языке ruby </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>