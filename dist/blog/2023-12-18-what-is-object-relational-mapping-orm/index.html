<!DOCTYPE html><html lang="ru"> <head><title>Что такое объектно-реляционное сопоставление (ORM)? | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm"><meta name="description" content="Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-2023-12-18-what-is-object-relational-mapping-orm; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Что такое объектно-реляционное сопоставление (ORM)? </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/ruby" data-astro-cid-axzg2cw6> Ruby </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/orm" data-astro-cid-axzg2cw6> Orm </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/undefined-Dec-18-2023.Ct-kXx94_Z25wcMb.avif" type="image/avif"><source srcset="/_astro/undefined-Dec-18-2023.Ct-kXx94_Gf9eU.webp" type="image/webp"> <img src="/_astro/undefined-Dec-18-2023.Ct-kXx94_UU9Tz.png" alt="Что такое объектно-реляционное сопоставление (ORM)?" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Что такое объектно-реляционное сопоставление (ORM)?&#38;url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm&#38;title=Что такое объектно-реляционное сопоставление (ORM)?&#38;summary=Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm&#38;media=&#38;description=Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#организация">Организация</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#dry-код">DRY-код</a></li></ol></details open><p>Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы часто используем различные фреймворки или варианты дизайна для представления более абстрактных данных. Например, компания может захотеть отслеживать информацию о своих сотрудниках. Мы не можем представить все данные о каждом сотруднике, но мы можем определить конкретные, значимые аспекты, представляющие интерес, такие как имя сотрудника, его адрес, зарплата, отдел и т. д.</p>
<p>Одним из методов представления данных является объектно-реляционное отображение (ORM). Проще говоря, ORM - это шаблон проектирования, которому нужно следовать при использовании объектно-ориентированного языка с базой данных. Следуя соглашениям ORM, вы сможете сделать свой код более упорядоченным и ”чистым”.</p>
<h2 id="организация">Организация<a aria-hidden="true" tabindex="-1" href="#организация"><span class="icon icon-link"></span></a></h2>
<p>Приложению может потребоваться доступ к сотням тысяч экземпляров базы данных. В то время как отдельные программисты могут придумывать свои собственные способы взаимодействия с одной и той же базой данных, следование соглашениям ORM обеспечивает структуру этого взаимодействия. Соблюдение соглашений упростит понимание кода как для вас, так и для других.</p>
<p>Чтобы понять ORM, мы должны сначала рассмотреть объектно-ориентированные языки. Объектно-ориентированные языки могут использовать классы для представления общих категорий вещей, таких как автомобили, кошки или сотрудники.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic"># код будет написан на Ruby</span></span>
<span class="line"><span style="color:#A6ACCD">class </span><span style="color:#ADD7FF">Employee</span></span>
<span class="line"><span style="color:#A6ACCD">  def </span><span style="color:#ADD7FF">initialize</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">name</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">address</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">salary</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">    @</span><span style="color:#E4F0FB">name</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> name</span></span>
<span class="line"><span style="color:#A6ACCD">    @</span><span style="color:#E4F0FB">address</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> address</span></span>
<span class="line"><span style="color:#A6ACCD">    @</span><span style="color:#E4F0FB">salary</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> salary</span></span>
<span class="line"><span style="color:#A6ACCD">    @@</span><span style="color:#E4F0FB">all</span><span style="color:#91B4D5"> &#x3C;&#x3C;</span><span style="color:#ADD7FF;font-style:italic"> self</span></span>
<span class="line"><span style="color:#A6ACCD">  end</span></span>
<span class="line"><span style="color:#A6ACCD">end</span></span>
<span class="line"></span></code></pre>
<p>Каждый класс может иметь экземпляры, уникальные индивиды внутри класса; Toyota Corolla, Tabby или John Smith. Экземпляры могут отличаться друг от друга, но в конечном итоге они относятся к общему классу.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">employee1 </span><span style="color:#91B4D5">=</span><span style="color:#ADD7FF"> Employee</span><span style="color:#A6ACCD">.</span><span style="color:#5DE4C7">new</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">John Smith</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">1684 Ravine Place Los Angeles, CA</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">30000</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">puts employee1.class </span><span style="color:#767C9DB0;font-style:italic"># => Employee</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD">employee2 </span><span style="color:#91B4D5">=</span><span style="color:#ADD7FF"> Employee</span><span style="color:#A6ACCD">.</span><span style="color:#5DE4C7">new</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Jane Doe</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">1909 Tower Rd Derry, ME</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">43000</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">puts employee2.class </span><span style="color:#767C9DB0;font-style:italic"># => Employee</span></span>
<span class="line"></span></code></pre>
<p>Зная это, мы можем упорядочить наш код, ”отобразив” его на базу данных в соответствии с соглашениями ORM. Мы создадим таблицу для каждого класса в нашей программе с одной строкой для представления каждого экземпляра класса. Для нашего класса Employee у нас будет таблица employees и две строки для двух наших сотрудников. Обратите внимание, что хотя имя нашего класса - единственное, имя нашей таблицы - множественное.</p>
<h2 id="dry-код">DRY-код<a aria-hidden="true" tabindex="-1" href="#dry-код"><span class="icon icon-link"></span></a></h2>
<p>ORM также позволяет нам сохранять код DRY. Возвращаясь к нашему предыдущему примеру со списком сотрудников, наша программа должна иметь какое-то соединение с базой данных. В данном примере будет использоваться SQLite3.</p>
<p><code>database_connection = SQLite3::Database.new('db/company.db')</code></p>
<p>Теперь нам нужно создать таблицу для хранения информации о сотрудниках. Таблица создается путем передачи SQL в качестве аргумента метода <code>execute</code>. Мы попросим нашу программу создать таблицу с именем employees, если она еще не существует. Мы также назовем каждый столбец с типом данных для нашей таблицы employees, которая будет хранить различные значения в нашем классе <code>Employee</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">database_connection.execute(</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">CREATE TABLE IF NOT EXISTS employees(</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">id INTEGER PRIMARY KEY, </span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">name TEXT, </span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">address TEXT, </span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">salary INTEGER</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">    "</span><span style="color:#5DE4C7">)</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#A6ACCD">)</span></span>
<span class="line"></span></code></pre>
<p>Наша таблица создана, поэтому далее мы будем использовать атрибуты наших экземпляров для заполнения строк и соответствующих столбцов в нашей таблице базы данных. Обратите внимание, что мы не сохраняем непосредственно сам объект в таблицу, а обращаемся к атрибутам экземпляров и помещаем их в соответствующие столбцы нашей таблицы. Любые изменения в самой записи или экземпляре не приведут к автоматическому изменению других.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">database_connection.execute(</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">INSERT INTO employees (name, address, salary, VALUES ('John Smith', '1684 Ravine Place Los Angeles, CA', 30000)</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">database_connection.execute(</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">INSERT INTO employees (name, address, salary, VALUES ('Jane Doe', '1909 Tower Rd Derry, ME', 43000)</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">)</span></span>
<span class="line"></span></code></pre>
<p>Однако, как вы можете видеть, ручная вставка каждого экземпляра повторяется и будет становиться все более сложной и утомительной для поддержки, чем больше сотрудников мы добавим. Поэтому вместо этого мы можем создать метод экземпляра для нашего класса, который мы сможем использовать повторно.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">Класс </span><span style="color:#E4F0FB">Employee</span></span>
<span class="line"><span style="color:#A6ACCD">  def </span><span style="color:#ADD7FF">save</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">database_connection</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">    database_connection.execute(</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">INSERT INTO employees (name, address, salary) VALUES (?, ?, ?)</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">, </span><span style="color:#ADD7FF;font-style:italic">self</span><span style="color:#A6ACCD">.name, </span><span style="color:#ADD7FF;font-style:italic">self</span><span style="color:#A6ACCD">.address, </span><span style="color:#ADD7FF;font-style:italic">self</span><span style="color:#A6ACCD">.age)</span></span>
<span class="line"><span style="color:#A6ACCD">  end</span></span>
<span class="line"><span style="color:#A6ACCD">end</span></span>
<span class="line"></span></code></pre>
<p>Наш метод <code>#save</code> примет в качестве параметра базу данных_соединения и вставит значения нашего экземпляра в соответствующие столбцы базы данных, которую мы предоставим. Теперь мы можем просто вызвать наш метод <code>save</code> для каждого экземпляра сотрудника и передать ему в качестве аргумента наше соединение с базой данных.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">database_connection </span><span style="color:#91B4D5">=</span><span style="color:#ADD7FF"> SQLite3</span><span style="color:#A6ACCD">::</span><span style="color:#ADD7FF">Database</span><span style="color:#A6ACCD">.</span><span style="color:#5DE4C7">new</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">db/company.db</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#ADD7FF">Employee</span><span style="color:#A6ACCD">.all.each do |</span><span style="color:#E4F0FB">employee</span><span style="color:#A6ACCD">|</span></span>
<span class="line"><span style="color:#A6ACCD">  employee.save(database_connection)</span></span>
<span class="line"><span style="color:#A6ACCD">end</span></span>
<span class="line"></span></code></pre>
<p>Даже когда наше приложение будет расти, нам больше не придется писать отдельные строки кода для сохранения наших классов в базе данных.</p>
<p>Хотя существует множество библиотек для различных языков программирования, которые помогают отображать объекты на базы данных. Эти библиотеки просто следуют определенным соглашениям, которые помогают упростить ваш код, если вы соблюдаете их схему. Короче говоря, Object-Relational Mapping (ORM) - это шаблон проектирования, который можно использовать при работе с объектно-ориентированным языком и базой данных. Несмотря на то, что существуют различные подходы, ORM следует конвенции отображения классов на таблицы и строк на экземпляры.</p>
<p><a href="https://dev.to/albam476/what-is-object-relational-mapping-orm-kgi" rel="noopener noreferrer nofollow" target="_blank">Источник</a></p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Что такое объектно-реляционное сопоставление (ORM)?&#38;url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm&#38;title=Что такое объектно-реляционное сопоставление (ORM)?&#38;summary=Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/2023-12-18-what-is-object-relational-mapping-orm&#38;media=&#38;description=Как программисты, мы всегда сталкиваемся с необходимостью представлять реальную информацию в виде кода в наших программах. Чтобы справиться с этой задачей, мы" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/chto-to-za-fyhnia" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> ActiveRecord Pluck. Что это за фигня? </a> <a href="/blog/chto-takoe-docker-compose-kak-eho-yspolzovat-na-prymere" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Что такое Docker Compose? Как его использовать на примере </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>