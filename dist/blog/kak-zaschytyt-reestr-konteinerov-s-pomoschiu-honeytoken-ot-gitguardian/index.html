<!DOCTYPE html><html lang="ru"> <head><title>Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian"><meta name="description" content="Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ViewTransitions.astro_astro_type_script_index_0_lang.DqfSmqP7.js"></script><link rel="stylesheet" href="/_astro/_regular_.Dd2YhbvP.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/page.CFW0rSNk.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-white fluid:text-lg dark:bg-black"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>  <script type="module">document.addEventListener("astro:page-load",()=>{const t=document.querySelector(".nav__open"),n=document.querySelector(".nav__close"),e=document.querySelector(".nav__container"),o=document.querySelectorAll(".nav__item");t?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),n?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),o.forEach(a=>{window.matchMedia("( max-width: 1024px)").matches&&a.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")})})});</script> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/docker" data-astro-cid-axzg2cw6> Docker </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/devops" data-astro-cid-axzg2cw6> DevOps </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 16 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 30 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian-Dec-16-2023.CH5k4hyh_1Ae1DF.avif" type="image/avif"><source srcset="/_astro/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian-Dec-16-2023.CH5k4hyh_1Qy3Sq.webp" type="image/webp"> <img src="/_astro/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian-Dec-16-2023.CH5k4hyh_Z1f7H1E.png" alt="Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian&#38;url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian&#38;title=Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian&#38;summary=Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian&#38;media=&#38;description=Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="title">Оглавление</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#понимание-honeytokens">Понимание Honeytokens</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-создавать-и-использовать-медовые-токены-пошаговая-инструкция">Как создавать и использовать медовые токены: Пошаговая инструкция</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#защита-реестра-docker-с-помощью-медовых-токенов">Защита реестра Docker с помощью медовых токенов</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#защита-реестра-контейнеров-github-с-помощью-honeytokens">Защита реестра контейнеров GitHub с помощью honeytokens</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#подготовка-dockerfile">Подготовка Dockerfile</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#создание-образа-docker">Создание образа Docker</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#аутентификация-в-реестре-контейнеров-github">Аутентификация в реестре контейнеров GitHub</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#передача-образа-docker">Передача образа Docker</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#подготовка-docker-файла">Подготовка Docker-файла</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#создание-образа-docker-1">Создание образа Docker</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#аутентификация-в-реестре-контейнеров-gitlab">Аутентификация в реестре контейнеров GitLab</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#передача-образа-docker-1">Передача образа Docker</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details><p>Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и использованию в любой момент, когда это необходимо. Однако так же, как нам нужно защищать наши кодовые базы и конвейеры CI/CD, эти хранилища также нуждаются в надежном замке, чтобы предотвратить нежелательное вторжение.</p>
<p>В этом посте мы обратим внимание на Honeytoken от GitGuardian - умный инструмент, предназначенный для обеспечения безопасности реестров контейнеров, действуя как цифровые приманки, которые предупреждают нас о любой нежелательной активности. Это как бесшумная сигнализация, следящая за вашими драгоценными образами и готовая подать сигнал тревоги, если несанкционированная рука попытается проникнуть внутрь.</p>
<p>В следующих разделах мы погрузимся в мир honeytokens, поймем, как они работают, и научимся использовать их для защиты нашего реестра Docker, пакетов GitHub и реестра контейнеров GitLab. Итак, пристегните ремни, поскольку мы отправляемся в путешествие, чтобы укрепить наши реестры и обеспечить плавное и безопасное плавание.</p>
<h2 id="понимание-honeytokens">Понимание Honeytokens<a aria-hidden="true" tabindex="-1" href="#понимание-honeytokens"><span class="icon icon-link"></span></a></h2>
<p>Honeytokens - это как цифровые хлебные крошки, рассыпанные по вашим системам, но вместо того, чтобы привлекать птиц, они заманивают потенциальных киберзлоумышленников. Эти кажущиеся ценными кусочки данных приманивают неавторизованных пользователей, заставляя их раскрыть свою незаконную деятельность.</p>
<p>Каждый honeytoken - это уникальный фрагмент данных, часто напоминающий реальные учетные данные или секреты, которые могут пригодиться злоумышленнику. Однако, в отличие от настоящих учетных данных, honeytoken отслеживаются системами, подобными модулю Honeytoken в GitGuardian, и готовы поднять тревогу в случае их использования.</p>
<p>Итак, зачем нам использовать медовые токены в реестрах контейнеров? Реестры контейнеров, такие как Docker Registry, GitHub Containers и GitLab Container Registry, - это сокровищницы ценных активов, которые жизненно важны для наших процессов разработки. Любой несанкционированный доступ к этим активам может привести к катастрофе, что делает эти реестры главной мишенью для кибератак.</p>
<p>Разместив медовые токены в этих реестрах, вы можете создать систему оповещения, которая даст вам знать, как только кто-то неавторизованный получит к ним доступ. Это как охранник, который никогда не спит, постоянно следит за хранящимися артефактами и готов предупредить вас при первых признаках проблемы.</p>
<p>Теперь, когда вы понимаете, что такое honeytokens и как они могут помочь защитить ваши реестры контейнеров, вы можете задаться вопросом: ”Как создать honeytoken?”. Хорошая новость заключается в том, что создать honeytoken с помощью GitGuardian очень просто! Ознакомьтесь с этим пошаговым руководством, чтобы подготовиться к работе менее чем за 5 минут:</p>
<h2 id="как-создавать-и-использовать-медовые-токены-пошаговая-инструкция">Как создавать и использовать медовые токены: Пошаговая инструкция<a aria-hidden="true" tabindex="-1" href="#как-создавать-и-использовать-медовые-токены-пошаговая-инструкция"><span class="icon icon-link"></span></a></h2>
<p>Как только вы получите свой honeytoken, вы будете готовы начать укреплять безопасность своих реестров контейнеров. Давайте погрузимся в эту тему.</p>
<h3 id="защита-реестра-docker-с-помощью-медовых-токенов">Защита реестра Docker с помощью медовых токенов<a aria-hidden="true" tabindex="-1" href="#защита-реестра-docker-с-помощью-медовых-токенов"><span class="icon icon-link"></span></a></h3>
<p>Docker, широко известное в мире разработки программного обеспечения имя, предлагает платформу для автоматизации развертывания, масштабирования и управления приложениями с помощью контейнеризации. Docker Registry, компонент Docker, представляет собой систему хранения и распространения именованных образов Docker. Эти образы, по сути, шаблоны только для чтения, используемые для создания контейнеров Docker, могут нести в себе жизненно важные компоненты ваших приложений.</p>
<p>Теперь давайте добавим в эту смесь медовые токены, чтобы защитить наш реестр Docker. Как мы это сделаем? Поместив медовые токены в образы Docker и разместив их в реестре Docker. Вот как это можно сделать:</p>
<p>Прежде всего, убедитесь, что у вас есть готовый honeytoken. Если нет, создайте его с помощью модуля Honeytoken в GitGuardian.<br>
Затем вам нужно вставить этот honeytoken в образ Docker. Это можно сделать, включив его в свой Dockerfile, который Docker считывает для создания образа. Вставьте honeytoken в качестве переменной окружения, используя инструкцию ENV в Dockerfile:</p>
<p>Помните, что переменные окружения - это просто заполнители. Замените их реальными значениями honeytoken.</p>
<p>После того как Dockerfile создан, соберите образ Docker с помощью команды:</p>
<p><code>docker build -t your-image-name .</code>.</p>
<p>Далее необходимо пройти аутентификацию в реестре Docker:</p>
<p><code>docker login</code></p>
<figure class="igorlov-figure"><img  src="/_astro/image3.BZUDmZeQ_2k2DCm.webp" alt="image3.png" width="1215" height="783" loading="lazy" decoding="async"><figcaption>image3.png</figcaption></figure>
<p>После успешной аутентификации вы можете отправить образ Docker в реестр, выполнив следующие действия:</p>
<figure class="igorlov-figure"><img  src="/_astro/image2.7NtIiQYM_zoJI.webp" alt="image2.png" width="1582" height="1019" loading="lazy" decoding="async"><figcaption>image2.png</figcaption></figure>
<p>Вот и все! Ваш образ Docker, снабженный honeytoken, надежно хранится в реестре Docker. Любой несанкционированный доступ к этому образу приведет к срабатыванию honeytoken и немедленно оповестит вас.</p>
<p>Этот метод позволяет стратегически разместить honeytokens в нескольких образах, формируя бдительный щит безопасности вокруг вашего реестра Docker. Далее мы обсудим защиту пакетов GitHub с помощью медовых токенов.</p>
<p><strong><em>Далее читайте: Как работать с секретами в Docker</em></strong>.</p>
<h2 id="защита-реестра-контейнеров-github-с-помощью-honeytokens">Защита реестра контейнеров GitHub с помощью honeytokens<a aria-hidden="true" tabindex="-1" href="#защита-реестра-контейнеров-github-с-помощью-honeytokens"><span class="icon icon-link"></span></a></h2>
<p>Реестр контейнеров GitHub позволяет вам легко размещать и управлять образами контейнеров Docker в ваших репозиториях GitHub. Как и в случае с реестром Docker, вы можете добавить дополнительный уровень защиты, интегрировав медовые токены в ваши образы Docker. Давайте рассмотрим этот процесс пошагово шаг:</p>
<h2 id="подготовка-dockerfile">Подготовка Dockerfile<a aria-hidden="true" tabindex="-1" href="#подготовка-dockerfile"><span class="icon icon-link"></span></a></h2>
<p>Для начала вам понадобится Dockerfile со встроенным honeytoken. Вот пример Dockerfile, в котором honeytoken размещен в качестве переменной окружения:</p>
<h3 id="создание-образа-docker">Создание образа Docker<a aria-hidden="true" tabindex="-1" href="#создание-образа-docker"><span class="icon icon-link"></span></a></h3>
<p>После того как Dockerfile подготовлен, можно собирать образ Docker:</p>
<p><code>docker build -t ghcr.io/your-username/your-docker-image .</code></p>
<p>Замените <code>ваше имя пользователя</code> и <code>ваш-docker-image</code> на ваше имя пользователя GitHub и желаемое имя образа.</p>
<h3 id="аутентификация-в-реестре-контейнеров-github">Аутентификация в реестре контейнеров GitHub<a aria-hidden="true" tabindex="-1" href="#аутентификация-в-реестре-контейнеров-github"><span class="icon icon-link"></span></a></h3>
<p>Чтобы отправить образ в реестр контейнеров GitHub, вам нужно пройти аутентификацию с помощью персонального маркера доступа с соответствующими диапазонами. Создайте новый персональный токен доступа и выберите область write:packages. Это можно сделать в настройках вашей учетной записи GitHub.</p>
<p>Затем сохраните этот токен как переменную окружения в терминале:</p>
<p><code>export CR_PAT=YOUR_TOKEN</code>.</p>
<p>Не забудьте заменить YOUR_TOKEN на ваш реальный токен. После этого вы можете войти в реестр контейнеров GitHub:</p>
<p><code>echo $CR_PAT | docker login ghcr.io -u your-username --password-stdin</code>.</p>
<p>Замените <code>your-username</code> на ваше реальное имя пользователя GitHub. В случае успеха вы должны увидеть сообщение Login Succeeded.</p>
<h3 id="передача-образа-docker">Передача образа Docker<a aria-hidden="true" tabindex="-1" href="#передача-образа-docker"><span class="icon icon-link"></span></a></h3>
<p>После того как вы вошли в систему, вы можете отправить свой образ Docker:</p>
<p><code>docker push ghcr.io/your-username/your-image-name:latest</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/image4.BbhTCcSF_Z2diIwv.webp" alt="image4.png" width="1260" height="805" loading="lazy" decoding="async"><figcaption>image4.png</figcaption></figure>
<p>Поздравляем! Вы только что добавили honeytoken к своему образу Docker и отправили его в реестр контейнеров GitHub. Если кто-то неавторизованный попытается получить доступ к этому образу, honeytoken немедленно оповестит вас об этом. Таким образом, вы укрепили безопасность реестра контейнеров GitHub.</p>
<p>Далее перейдем к защите реестра контейнеров GitLab с помощью медовых токенов.</p>
<p>Защита реестра контейнеров GitLab с помощью медовых токенов</p>
<p>В GitLab вы можете использовать встроенный реестр контейнеров для размещения образов контейнеров Docker для ваших проектов. Как и в случае с GitHub и Docker, вы можете усилить свою безопасность, включив медовые токены в свои образы Docker. В этом разделе мы расскажем вам о том, как это сделать:</p>
<h2 id="подготовка-docker-файла">Подготовка Docker-файла<a aria-hidden="true" tabindex="-1" href="#подготовка-docker-файла"><span class="icon icon-link"></span></a></h2>
<p>Вы начинаете с Dockerfile, содержащего встроенный honeytoken. Допустим, вы добавляете honeytoken в качестве переменной окружения в свой Dockerfile:</p>
<h3 id="создание-образа-docker-1">Создание образа Docker<a aria-hidden="true" tabindex="-1" href="#создание-образа-docker-1"><span class="icon icon-link"></span></a></h3>
<p>Затем создайте образ Docker, используя свой Dockerfile:</p>
<p><code>docker build -t registry.gitlab.com/your-namespace/your-project/your-image .</code></p>
<p>Замените <code>your-namespace</code>, <code>your-project</code> и <code>your-image</code> на ваше пространство имен GitLab (имя пользователя или группа), ваш проект GitLab и желаемое имя образа, соответственно.</p>
<h3 id="аутентификация-в-реестре-контейнеров-gitlab">Аутентификация в реестре контейнеров GitLab<a aria-hidden="true" tabindex="-1" href="#аутентификация-в-реестре-контейнеров-gitlab"><span class="icon icon-link"></span></a></h3>
<p>Чтобы отправить образ в реестр контейнеров GitLab, вам необходимо пройти аутентификацию в реестре. Это можно сделать, войдя в Docker с учетными данными GitLab:</p>
<p><code>docker login registry.gitlab.com -u your-username</code>.</p>
<p>Замените <code>your-username</code> и введите свой пароль, когда появится запрос <code>your-password</code>. Если у вас включена двухфакторная аутентификация, то вместо пароля вам нужно будет использовать персональный токен доступа.</p>
<h3 id="передача-образа-docker-1">Передача образа Docker<a aria-hidden="true" tabindex="-1" href="#передача-образа-docker-1"><span class="icon icon-link"></span></a></h3>
<p>После успешного входа в систему вы можете отправить свой образ Docker в реестр контейнеров GitLab:</p>
<p><code>docker push registry.gitlab.com/your-namespace/your-project/your-image:latest</code>.</p>
<p>Снова замените <code>your-namespace</code>, <code>your-project</code> и <code>your-image</code> на ваше пространство имен GitLab (имя пользователя или группы), ваш проект GitLab и имя вашего образа Docker соответственно.</p>
<p>Вот и все! Вы успешно добавили honeytoken к своему образу Docker и разместили его в реестре контейнеров GitLab. Если неавторизованная сторона попытается получить доступ к образу, honeytoken сработает, и вы получите уведомление. Вы эффективно укрепили безопасность своего реестра контейнеров GitLab.</p>
<p>В следующем разделе мы завершим руководство и обсудим некоторые дополнительные меры, которые вы можете предпринять для защиты своих реестров контейнеров.</p>
<p>Лучшие практики использования Honeytokens в реестрах контейнеров</p>
<p>Внедрение медовых токенов в реестры контейнеров - надежная мера для обеспечения безопасности вашего конвейера DevOps. Однако, как и в случае с любым другим инструментом, его эффективность заключается в правильном использовании. В этом разделе мы рассмотрим несколько советов и рекомендаций, позволяющих получить максимальную отдачу от медовых токенов:</p>
<p>Стратегическое размещение: Размещение медотоков имеет решающее значение. Помните, что это цифровые трипперы, которые должны срабатывать при несанкционированном доступе. Размещайте их в конфиденциальных областях реестров или в образах Docker, где они, скорее всего, будут обнаружены в ходе незаконной деятельности.</p>
<p>Используйте отдельные токены: Не используйте один токен для всех сред. Разверните разные токены для каждой службы или среды. Этот процесс поможет отследить инциденты и сократит время на их обнаружение и устранение.</p>
<p>Мониторинг Honeytokens: Honeytokens хороши лишь настолько, насколько вы способны реагировать на их срабатывание. Убедитесь, что у вас есть надежная система мониторинга, и убедитесь, что оповещения от Honeytokens имеют наивысший приоритет.</p>
<p>Используйте другие меры безопасности: ХотяМедотоки очень мощны, но они не должны быть вашей единственной линией защиты. Сочетайте их с другими мерами безопасности, такими как брандмауэры, системы контроля доступа и обнаружения вторжений, чтобы создать комплексную стратегию безопасности.</p>
<p>Включение honeytokens в ваши протоколы безопасности может значительно усилить защиту ваших реестров контейнеров. Помните, что цель состоит не в том, чтобы предотвратить каждое нарушение, а в том, чтобы быстро обнаружить его и отреагировать на него, если оно произошло. Хорошо реализованная стратегия использования медовых токенов позволит вам достичь этой цели.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>По мере того как мы движемся в динамичном мире цифровых преобразований, роль защиты реестров контейнеров становится первостепенной. Несомненно, это важный винтик в колесе надежного конвейера DevOps. С помощью Honeytoken от GitGuardian можно внедрить в систему дополнительный уровень безопасности, который не просто пассивно защищает, а активно предупреждает о любых попытках несанкционированного доступа.</p>
<p>Рассматривайте Honeytoken как инновационный подход к укреплению вашей экосистемы DevOps. Благодаря беспрепятственной интеграции Honeytoken в ваши конвейеры вы будете получать уведомления о нарушениях безопасности быстрее, чем когда-либо прежде. Такая проактивная стратегия может значительно повысить скорость реагирования на потенциальные угрозы, тем самым повышая общую устойчивость ваших операций.</p>
<p>В завершение этого руководства вам пора воспользоваться проактивной защитой, которую предлагает Honeytoken от GitGuardian. Считайте это приглашением повысить уровень безопасности вашего реестра контейнеров и ощутите ощутимую разницу. С GitGuardian Honeytoken вы не просто защищаете свой конвейер DevOps - вы вооружаете его. Готовы приступить? Ваш путь к более безопасному DevOps начинается здесь.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian&#38;url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian&#38;title=Как защитить реестры контейнеров с помощью Honeytoken от GitGuardian&#38;summary=Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-zaschytyt-reestr-konteinerov-s-pomoschiu-honeytoken-ot-gitguardian&#38;media=&#38;description=Реестры контейнеров необходимы многим командам разработчиков. В них хранятся наши образы Docker, контейнеры GitHub и контейнеры GitLab, готовые к извлечению и" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/kak-bezopasno-podkliuchytsia-k-baze-dann-kh-yz-lokalnoi-sred-s-pomoschiu-aws-session-manager" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Как безопасно подключиться к базе данных из локальной среды с помощью AWS Session Manager </a> <a href="/blog/kak-zarehystryrovat-provaiderov-v-ynzhektore-okruzhenyia-v-angular" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Как зарегистрировать провайдеров в инжекторе окружения в Angular </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>