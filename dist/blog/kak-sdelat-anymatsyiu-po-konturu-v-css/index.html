<!DOCTYPE html><html lang="ru"> <head><title>Как сделать анимацию по контуру в CSS - Фул Фронт Дев</title><link rel="canonical" href="https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css"><meta name="description" content="CSSзагрузчики и индикаторы прогресса  одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возмож"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ViewTransitions.astro_astro_type_script_index_0_lang.DqfSmqP7.js"></script><link rel="stylesheet" href="/_astro/_regular_.Dd2YhbvP.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/page.CFW0rSNk.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-kak-sdelat-anymatsyiu-po-konturu-v-css; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-white fluid:text-lg dark:bg-black"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>  <script type="module">document.addEventListener("astro:page-load",()=>{const t=document.querySelector(".nav__open"),n=document.querySelector(".nav__close"),e=document.querySelector(".nav__container"),o=document.querySelectorAll(".nav__item");t?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),n?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),o.forEach(a=>{window.matchMedia("( max-width: 1024px)").matches&&a.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")})})});</script> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/как-закодить" class="categories__link" data-astro-cid-axzg2cw6> Как закодить  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Как сделать анимацию по контуру в CSS </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/css" data-astro-cid-axzg2cw6> Css </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/animation" data-astro-cid-axzg2cw6> Animation </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 15 дек., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/kak-sdelat-anymatsyiu-po-konturu-v-css-Dec-15-2023.BNqMuOGf_y2lO4.avif" type="image/avif"><source srcset="/_astro/kak-sdelat-anymatsyiu-po-konturu-v-css-Dec-15-2023.BNqMuOGf_ZFANkl.webp" type="image/webp"> <img src="/_astro/kak-sdelat-anymatsyiu-po-konturu-v-css-Dec-15-2023.BNqMuOGf_FxRcl.png" alt="Как сделать анимацию по контуру в CSS" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как сделать анимацию по контуру в CSS&#38;url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css&#38;title=Как сделать анимацию по контуру в CSS&#38;summary=CSSзагрузчики и индикаторы прогресса  одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возмож&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css&#38;media=&#38;description=CSSзагрузчики и индикаторы прогресса  одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возмож" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="title">Оглавление</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#создание-пончика">Создание пончика</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#анимация-прогресса">Анимация прогресса</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#перемещение-по-кругу">Перемещение по кругу</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#итоговый-результат">Итоговый результат</a></li></ol></details><p>CSS-загрузчики и индикаторы прогресса - одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возможно, что некоторые подходы могут быть ”лучше” других, но это также зависит от того, чего вы хотите добиться. В этой статье Преетхи демонстрирует подход с использованием анимированных пользовательских свойств, конического градиента, CSS <code>offset</code> и эмодзи для создания иллюзии самоката, мчащегося по пончиковому треку.</p>
<p>Давайте поговорим об индикаторах прогресса - или загрузчиках. Это правда, что о них написано очень много туториалов и <a href="https://codepen.io/search/pens?q=loaders" rel="noopener noreferrer nofollow" target="_blank">еще больше примеров плавает по CodePen</a>. Всего пару лет назад было время, когда загрузчики казались самым популярным примером для документации по фреймворкам, рядом с приложениями для выполнения дел.</p>
<p>Недавно передо мной встала задача создать состояние загрузки для одного проекта, поэтому, естественно, я обратился к CodePen за вдохновением. Мне нужна была круглая форма, и недостатка в примерах нет. Во многих случаях подход представляет собой некоторую комбинацию использования свойства CSS <code>border-radius</code> для получения круглой формы и <code>@keyframes</code> для ее вращения от <code>0deg</code> до <code>360deg</code>.</p>
<p>Мне нужно было немного больше, чем это. В частности, мне нужна была форма пончика, которая заполняла бы индикатор прогресса по мере продвижения от <code>0%</code> до <code>100%</code>. К счастью, я нашел отличные примеры пончиков, которые можно использовать для вдохновения, и несколько различных подходов. Например, я мог бы использовать ”трюк” <a href="https://css-tricks.com/how-stroke-dasharray-patterns-work/" rel="noopener noreferrer nofollow" target="_blank">SVG с анимируемым обводкой</a> с комбинацией <code>stroke-dasharray</code> и <code>stroke-dashoffset</code>. У Темани Афифа есть <a href="https://css-loaders.com/" rel="noopener noreferrer nofollow" target="_blank">сотни примеров</a>, в которых используется сочетание градиентов и масок CSS.</p>
<p>Но мне нужно было еще кое-что. На самом деле мне нужен был пончиковый индикатор прогресса, который не только заполняется по мере увеличения прогресса, но и устанавливает на него визуальное изображение, которое перемещается вместе с прогрессом. Другими словами, я хотел, чтобы это выглядело так, будто объект путешествует по пончику, оставляя за собой след прогресса.</p>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_vYvrwXo" src="https://codepen.io/smashingmag/embed/preview/vYvrwXo?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=vYvrwXo" title="Circular animation with offset Pt. 1" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Видите? У самоката есть круговая дорожка, которая заполняется градиентом по мере движения вокруг фигуры. Если вы используете Firefox, у вас, скорее всего, возникнут проблемы с демонстрацией, потому что она опирается на пользовательский <code>@property</code>, который <a href="https://caniuse.com/mdn-css_at-rules_property" rel="noopener noreferrer nofollow" target="_blank">Firefox пока не поддерживает</a>. Тем не менее, он поддерживается в версии Nightly, так что, возможно, скоро мы сможем рассчитывать на полную поддержку.</p>
<p>В итоге я объединил несколько найденных мною техник и некоторые дополнительные соображения. Я решил поделиться этим подходом, потому что мне нравится демонстрировать, как различные идеи могут объединяться для создания чего-то необычного. В этой демонстрации для создания эффекта используются анимированные пользовательские свойства, конический градиент, CSS <code>offset</code> и эмодзи. Правда в том, что вы можете найти другую комбинацию или набор приемов, которые сделают работу или будут лучше соответствовать вашим требованиям. Это скорее упражнение на размышление.</p>
<h2 id="создание-пончика">Создание пончика<a aria-hidden="true" tabindex="-1" href="#создание-пончика"><span class="icon icon-link"></span></a></h2>
<p>Круги в CSS довольно просты. Мы можем нарисовать его в SVG и полностью забыть о CSS. Это правильный подход, но мне удобнее работать с такими вещами непосредственно в CSS. Начнем с единственного элемента в HTML:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#5FB3A1;font-style:italic"> class</span><span style="color:#A6ACCD">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">progress-circle</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Здесь мы задаем размеры круга. Это можно сделать, указав <code>ширину</code> и используя <code>аспектное соотношение</code>, чтобы сохранить идеальную форму один к одному.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	ширина: </span><span style="color:#5DE4C7">200px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	aspect-ratio: </span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Теперь мы можем закруглить фигуру с помощью свойства <code>border-radius</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	ширина: </span><span style="color:#5DE4C7">200px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	aspect-ratio: </span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	border-radius</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">50%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Вот и наша фигура! Конечно, мы еще ничего не видим, потому что не залили ее цветом. Давайте сделаем это с помощью <code>conic-gradient</code>. Нам нужен именно такой, потому что по умолчанию градиент движется по кругу, начиная с <code>0%</code> и завершая полный круг на <code>360deg</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	ширина: </span><span style="color:#5DE4C7">200px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	aspect-ratio: </span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	border-radius</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">50%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	background</span><span style="color:#A6ACCD">: conic-gradient(</span><span style="color:#ADD7FF">red</span><span style="color:#5DE4C7"> 10%</span><span style="color:#A6ACCD">, #</span><span style="color:#E4F0FB">eee</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Пока все хорошо:</p>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_zYyaera" src="https://codepen.io/smashingmag/embed/preview/zYyaera?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=zYyaera" title="Conic Gradient Circle" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>То, на что мы смотрим, похоже на круговую диаграмму, верно? Мы создали круглую форму и заполнили ее коническим градиентом, который начинается с красного и резко останавливается на <code>#eee</code>, заполняя остальную часть пирога светло-серым цветом.</p>
<p>Пирог вкусный, но мы стремимся к пончику, а у пончиков в центре вырезана дырка. В истинном духе CSS к этому можно подойти по-разному. Опять же, <a href="https://css-tricks.com/css-grid-and-custom-shapes-part-2/" rel="noopener noreferrer nofollow" target="_blank">Темани снова и снова демонстрирует</a>, как CSS masks может делать вырезы. Это чистый подход, потому что мы можем использовать тот же конический градиент для вырезания круга из центра, меняя только значения цветов, чтобы замаскировать часть, которую мы хотим скрыть.</p>
<p>Я пошел другим путем, отчасти для удобства, а отчасти для того, чтобы продемонстрировать, как CSS способен решать задачи разными способами. Так что вы можете пойти иным путем, чем тот, который мы демонстрируем здесь. Мой подход заключается в использовании псевдоэлемента <code>::before</code> в <code>.progress-circle</code>. Мы помещаем его поверх конического градиента с абсолютным позиционированием, заливаем сплошным цветом и размещаем так, чтобы он затмевал часть основной фигуры. По сути, это меньший круг сплошного цвета поверх большего круга, заполненного градиентом.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">	/* предыдущие стили */</span></span>
<span class="line"><span style="color:#ADD7FF">	position</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">relative</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">::</span><span style="color:#91B4D5;font-style:italic">before</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">	content</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">''</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	позиция: абсолютная;</span></span>
<span class="line"><span style="color:#A6ACCD">	вставка: </span><span style="color:#5DE4C7">20px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	border-radius</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">inherit</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	фон: белый;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Обратите внимание на то, что мы делаем для позиционирования меньшего круга. Поскольку мы работаем с <code>::before</code>, нам нужно свойство CSS <code>content</code>, чтобы оно отображалось, даже с пустым значением. Далее мы используем абсолютное позиционирование, устанавливая меньший круг в центр с <code>inset</code>, применяемым во всех направлениях. Мы можем <code>наследовать</code> свойство <code>border-radius</code> большего круга, прежде чем установить сплошной цвет фона. Мы не забываем установить относительное позиционирование для большего круга, чтобы (а) задать контекст суммирования и (б) удержать меньший круг в границах большего круга.</p>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_GRPGzjg" src="https://codepen.io/smashingmag/embed/preview/GRPGzjg?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=GRPGzjg" title="conic-gradient()" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Вот и все для пончика! Мы сделали это чисто в CSS, используя комбинацию свойств <code>border-radius</code>, <code>conic-gradient</code> и хорошо расположенный псевдо-элемент <code>::before</code>.</p>
<h2 id="анимация-прогресса">Анимация прогресса<a aria-hidden="true" tabindex="-1" href="#анимация-прогресса"><span class="icon icon-link"></span></a></h2>
<p>Работали ли вы с пользовательскими свойствами CSS? Я имею в виду не просто определение <code>--some-variable</code> со значением, а использование <code>@property</code> для регистрации свойства с пользовательским синтаксисом. Волшебно, как это позволяет нам интерполировать между значениями, которые мы обычно не можем, <a href="https://css-tricks.com/interpolating-numeric-css-variables/" rel="noopener noreferrer nofollow" target="_blank">например, значения цвета и угла в градиентах</a>.</p>
<p>Когда мы регистрируем пользовательское свойство CSS, мы должны указать его <em>тип</em>, например, является ли значение <code>&#x3C;длина></code>, <code>&#x3C;число></code>, <code>&#x3C;цвет></code> или <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@property/syntax" rel="noopener noreferrer nofollow" target="_blank">любой из 11 других типов, которые поддерживаются</a> на момент, когда я пишу это. Таким образом, браузер понимает, с каким значением он работает, и когда наступит время, он сможет обновить значение переменной для анимации.</p>
<p>Я собираюсь зарегистрировать пользовательское свойство под названием <code>--p</code>, что является сокращением для его синтаксиса, <code>&#x3C;процент></code>, с начальным значением <code>10%</code>, которое будет ”стартовой” точкой для индикатора прогресса.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">@property --p {</span></span>
<span class="line"><span style="color:#A6ACCD">	синтаксис: '';</span></span>
<span class="line"><span style="color:#A6ACCD">	наследуется: false;</span></span>
<span class="line"><span style="color:#5DE4C7">	initial-value</span><span style="color:#A6ACCD">: 10%;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Теперь мы можем использовать переменную <code>--p</code> там, где нам это нужно, например, там, где жесткий цвет останавливается между <code>red</code> и <code>#eee</code> в коническом градиенте большого круга, который мы используем в качестве отправной точки.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">	/* предыдущие стили */</span></span>
<span class="line"><span style="color:#ADD7FF">	background</span><span style="color:#A6ACCD">: conic-gradient(</span><span style="color:#ADD7FF">red</span><span style="color:#A6ACCD"> var(--p), #</span><span style="color:#E4F0FB">eee</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Мы хотим перейти от начального значения пользовательского свойства <code>10%</code> к большему проценту, чтобы переместить жесткую цветовую остановку градиента по форме. Поэтому давайте настроим CSS <code>transition</code>, который будет обновлять значение <code>--p</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">/_ предыдущие стили _/</span></span>
<span class="line"><span style="color:#A6ACCD">фон: conic-gradient(</span><span style="color:#ADD7FF">red</span><span style="color:#A6ACCD"> var(--p), #</span><span style="color:#E4F0FB">eee</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">переход: --p </span><span style="color:#5DE4C7">2s</span><span style="color:#A6ACCD"> линейный;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Мы собираемся обновлять значение при наведении, переходя от <code>10%</code> к <code>80%</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">:</span><span style="color:#91B4D5;font-style:italic">hover</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	--p: </span><span style="color:#5DE4C7">80%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Еще одна небольшая корректировка: Я люблю обновлять <code>курсор</code> при наведении, чтобы было понятнее, с каким видом взаимодействия имеет дело пользователь. В данном случае мы работаем с чем-то, указывающим на прогресс, поэтому именно так мы и настроим его:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">/_ предыдущие стили _/</span></span>
<span class="line"><span style="color:#ADD7FF">cursor</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">progress</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_mdaKvBe" src="https://codepen.io/smashingmag/embed/preview/mdaKvBe?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=mdaKvBe" title="conic-gradient() animation" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Наш круг готов! Теперь мы можем навести курсор на элемент, и жесткий цвет конического градиента перестанет переходить от <code>10%</code> к <code>80%</code> за меньшим кругом, который скрывает остальную часть градиента, создавая форму пончика. Мы зарегистрировали пользовательское <code>@свойство</code> с начальным значением, применили его к градиенту и обновили значение при наведении.</p>
<h2 id="перемещение-по-кругу">Перемещение по кругу<a aria-hidden="true" tabindex="-1" href="#перемещение-по-кругу"><span class="icon icon-link"></span></a></h2>
<p>Заключительная часть этого упражнения - работа над индикатором прогресса. Мы используем градиент для индикации прогресса, но мне нужна дополнительная визуальная помощь в виде объекта, который перемещается по большому кругу с градиентом при переходе значений.</p>
<p>У меня возникла идея создать маленький самокат, который будет оставлять за собой градиентный след. У нас уже есть круг и градиент, поэтому все, что нам нужно, - это самокат и способ заставить его использовать больший круг в качестве дорожки для движения.</p>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_NWezoyg" src="https://codepen.io/smashingmag/embed/preview/NWezoyg?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=NWezoyg" title="CSS offset animation" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Давайте добавим самокат в HTML в качестве эмодзи:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#5FB3A1;font-style:italic"> class</span><span style="color:#A6ACCD">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">progress-circle</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#5FB3A1;font-style:italic"> class</span><span style="color:#A6ACCD">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">progress-indicator</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span><span style="color:#A6ACCD">🛵</span><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Если бы мы решили создать начальную форму пончика с помощью SVG, то в качестве дорожки можно было бы использовать тот же путь, который мы использовали для большого круга. Однако мы можем получить те же возможности создания пути в CSS с помощью свойства <code>offset-path</code>. Это настолько похоже на написание SVG в CSS, что мы можем использовать точно такие же координаты для круга SVG в <code>path()</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">chart-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">/_ предыдущие стили _/</span></span>
<span class="line"><span style="color:#ADD7FF">offset</span><span style="color:#A6ACCD">: path(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">M 100, 0 a 100 100 0 1 1 -.1 0 z</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Координаты пути SVG трудно читать, но именно это мы и делаем в данном конкретном пути:</p>
<ol>
<li><code>M 100, 0</code>: Это <em>перемещает</em> положение начальной точки в системе координат X-Y, где <code>100</code> расположено вдоль оси X и равно радиусу большего круга, или половине его ширины, <code>200px</code>. Начальная точка установлена на <code>0</code> по оси Y, располагаясь в верхней части фигуры. Таким образом, мы начинаем с верхнего центра большей окружности.</li>
<li><code>a 100 100</code>: Это задает <em>дугу</em> с горизонтальным и вертикальным радиусами <code>100</code>, давая нам новый круг. Несмотря на то, что технически мы не видим окружность, она нарисована, обеспечивая самокату невидимую дорожку, повторяющую форму большей окружности.</li>
</ol>
<p>И еще одно! У нас есть отправная точка для самоката благодаря координатам в <code>offset-path</code>. Свойство CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/offset-distance" rel="noopener noreferrer nofollow" target="_blank"><code>offset-distance</code></a> позволяет нам определить конечную точку, куда мы планируем сместить самокат, которая в точности равна пользовательскому свойству <code>--p</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">chart-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">	/* предыдущие стили */</span></span>
<span class="line"><span style="color:#ADD7FF">	offset-path</span><span style="color:#A6ACCD">: path(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">M 100, 0 a 100 100 0 1 1 -.1 0 z</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#ADD7FF">	offset-distance</span><span style="color:#A6ACCD">: var(--p);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Мы уже обновляем наше пользовательское свойство <code>--p</code> при наведении, чтобы помочь переместить позицию жесткой остановки конического градиента с начального значения <code>10%</code> до <code>80%</code>. Мы должны сделать то же самое для скутера, чтобы они двигались вместе.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">:</span><span style="color:#91B4D5;font-style:italic">hover</span><span style="color:#91B4D5"> ></span><span style="color:#E4F0FBD0;font-style:italic"> .</span><span style="color:#5FB3A1;font-style:italic">progress-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	--p: </span><span style="color:#5DE4C7">80%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Я использую комбинатор дочерних элементов (<code>></code>), поскольку индикатор является прямым потомком круга. Если ваш дизайн включает дополнительные элементы или требует, чтобы самокат был дальнейшим потомком, то вместо этого можно использовать общий селектор потомков.</p>
<h2 id="итоговый-результат">Итоговый результат<a aria-hidden="true" tabindex="-1" href="#итоговый-результат"><span class="icon icon-link"></span></a></h2>
<p>Вот все, что мы рассмотрели, в одном фрагменте CSS. Я немного подчистил, например, установил переменные для повторяющихся значений, таких как <code>--размер</code> круга.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">/* Пользовательское свойство */</span></span>
<span class="line"><span style="color:#A6ACCD">@property --p {</span></span>
<span class="line"><span style="color:#A6ACCD">	синтаксис: '&#x3C;percentage</span><span style="color:#91B4D5">></span><span style="color:#A6ACCD">';</span></span>
<span class="line"><span style="color:#A6ACCD">	наследуется: false;</span></span>
<span class="line"><span style="color:#5DE4C7">	initial-value</span><span style="color:#A6ACCD">: 10%;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">/* Большой круг */</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	-размер: </span><span style="color:#5DE4C7">200px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	--p: </span><span style="color:#5DE4C7">10%</span><span style="color:#A6ACCD">; </span><span style="color:#767C9DB0;font-style:italic">/* запасной вариант при отсутствии поддержки @property */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">	background</span><span style="color:#A6ACCD">: conic-gradient(</span><span style="color:#ADD7FF">red</span><span style="color:#A6ACCD"> calc(</span><span style="color:#5DE4C7">-60%</span><span style="color:#91B4D5"> +</span><span style="color:#A6ACCD"> var(--p)), rgb(</span><span style="color:#5DE4C7">224</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">187</span><span style="color:#A6ACCD">, </span><span style="color:#5DE4C7">77</span><span style="color:#A6ACCD">) var(--p), #</span><span style="color:#E4F0FB">eee</span><span style="color:#5DE4C7"> 0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#ADD7FF">	border-radius</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">50%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	положение: относительное;</span></span>
<span class="line"><span style="color:#ADD7FF">	margin</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">auto</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	курсор: прогресс;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">/* Псевдоэлемент маленького круга */</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">::</span><span style="color:#91B4D5;font-style:italic">before</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">	content</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Продвижение от десяти до восьмидесяти процентов</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	position</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">absolute</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	insert: </span><span style="color:#5DE4C7">20px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	text-align</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">center</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	padding</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">50px</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	font</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">italic</span><span style="color:#5DE4C7"> 9pt</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">Enriqueta</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	border-radius</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">inherit</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	фон: белый;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">/* Дорожка для самоката */</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	-размер: </span><span style="color:#ADD7FF">min-content</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	смещение: path(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">M 100,0 a 100 100 0 1 1 -.1 0 z</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	смещение-расстояние: var(--p);</span></span>
<span class="line"><span style="color:#A6ACCD">	шрифт: </span><span style="color:#5DE4C7">43pt</span><span style="color:#ADD7FF"> serif</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	transform</span><span style="color:#A6ACCD">: rotateY(</span><span style="color:#5DE4C7">180deg</span><span style="color:#A6ACCD">) translateX(</span><span style="color:#5DE4C7">-6px</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">/* Обновление начального значения при :hover */</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">:</span><span style="color:#91B4D5;font-style:italic">hover</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#E4F0FBD0;font-style:italic">:</span><span style="color:#91B4D5;font-style:italic">hover</span><span style="color:#91B4D5"> ></span><span style="color:#E4F0FBD0;font-style:italic"> .</span><span style="color:#5FB3A1;font-style:italic">progress-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	--p: </span><span style="color:#5DE4C7">80%</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">/* Управляет шириной большего круга и дорожки самоката */</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-circle</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">progress-indicator</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">	ширина: var(--size);</span></span>
<span class="line"><span style="color:#A6ACCD">	переход: --p </span><span style="color:#5DE4C7">2s</span><span style="color:#ADD7FF"> linear</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_vYvrwXo" src="https://codepen.io/smashingmag/embed/preview/vYvrwXo?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=vYvrwXo" title="Circular animation with offset Pt. 1" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Скутер и сплошной градиент - это только одна идея. Как насчет разных объектов с разными траекториями?</p>
<div class="remark-oembed-inline remark-oembed-code-pen" data-oembed=""><iframe id="cp_embed_gOZKJma" src="https://codepen.io/smashingmag/embed/preview/gOZKJma?default-tabs=css%2Cresult&#x26;height=300&#x26;host=https%3A%2F%2Fcodepen.io&#x26;slug-hash=gOZKJma" title="Circular animation with offset Pt. 2" scrolling="no" frameborder="0" height="300" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div>
<p>Я называл этот компонент и ”индикатором прогресса”, и”загрузчик” во всей статье. Поэтому в примере я использую общий <code>&#x3C;div></code> в качестве <code>&#x3C;фигуры></code>, но вы с тем же успехом можете использовать его в более семантических HTML-элементах, таких как <code>&#x3C;прогресс></code> или <code>&#x3C;измеритель></code>, в зависимости от вашего конкретного случая использования. Для обеспечения доступности можно использовать описательный текст, который можно объявить предложениями, описывающими данные с помощью вспомогательных технологий.</p>
<p>Дайте мне знать, если вы используете это в проекте и как вы к этому подходите. Поделитесь со мной в комментариях, и мы сможем сравнить записи.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как сделать анимацию по контуру в CSS&#38;url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css&#38;title=Как сделать анимацию по контуру в CSS&#38;summary=CSSзагрузчики и индикаторы прогресса  одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возмож&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sdelat-anymatsyiu-po-konturu-v-css&#38;media=&#38;description=CSSзагрузчики и индикаторы прогресса  одни из самых распространенных примеров в учебниках и документации. К ним можно найти множество подходов. Вполне возмож" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/kak-sozdavat-dynamycheskye-veb-prylozhenyia-s-pomoschiu-net-core-y-angular" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Как создавать динамические веб-приложения с помощью .NET Core и Angular </a> <a href="/blog/kak-sbrosyt-sostoianye-komponenta-react-samostoiatelno" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Как сбросить состояние компонента React самостоятельно </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>