<!DOCTYPE html><html lang="ru"> <head><title>Как создать расширение для Chrome за 10 минут - Фул Фронт Дев</title><link rel="canonical" href="https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut"><meta name="description" content="## Что мы собираемся строить?В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньон"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/как-закодить" class="categories__link" data-astro-cid-axzg2cw6> Как закодить  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Как создать расширение для Chrome за 10 минут </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/chrome-extension" data-astro-cid-axzg2cw6> Chrome Extension </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/javascript" data-astro-cid-axzg2cw6> JavaScript </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 08 дек., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut-Dec-08-2023.C_b1-d-5_1twjoz.avif" type="image/avif"><source srcset="/_astro/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut-Dec-08-2023.C_b1-d-5_Z1NP9W6.webp" type="image/webp"> <img src="/_astro/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut-Dec-08-2023.C_b1-d-5_2uuz9D.png" alt="Как создать расширение для Chrome за 10 минут" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как создать расширение для Chrome за 10 минут&#38;url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut&#38;title=Как создать расширение для Chrome за 10 минут&#38;summary=## Что мы собираемся строить?

В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньон&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut&#38;media=&#38;description=## Что мы собираемся строить?

В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньон" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#что-мы-собираемся-строить">Что мы собираемся строить?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#что-такое-расширение-для-google-chrome">Что такое расширение для Google Chrome?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#шаг-1-создание-файлов-расширения">Шаг 1: Создание файлов расширения</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#шаг-2-создание-файла-манифеста">Шаг 2: Создание файла манифеста</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#ключевые-элементы-манифеста">Ключевые элементы манифеста</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#шаг-3-создание-сценария-контента">Шаг 3: Создание сценария контента</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#шаг-4-добавление-стиля">Шаг 4: Добавление стиля</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#шаг-5-тестируем-расширение">Шаг 5: Тестируем расширение</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#дальше">Дальше</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#1-пользовательский-интерфейс-для-редактирования-списка-слов">1. Пользовательский интерфейс для редактирования списка слов</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#2-обработка-событий-вставки-мыши">2. Обработка событий вставки мыши</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#3-контекстное-переопределение">3. Контекстное переопределение</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details open><h2 id="что-мы-собираемся-строить">Что мы собираемся строить?<a aria-hidden="true" tabindex="-1" href="#что-мы-собираемся-строить"><span class="icon icon-link"></span></a></h2>
<p>В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньоны предлагают беспрецедентный уровень помощи, они также не забывают о том, что не стоит делиться с ними конфиденциальной информацией.</p>
<p>Не знаю, как у вас, но у меня чаще всего пальцы работают быстрее, чем мозг. Поэтому, чтобы предотвратить возможные промахи, мы собираемся создать для ChatGPT ”молли-гард”.</p>
<p>Если вы ломаете голову, задаваясь вопросом, что такое <strong>molly-guard</strong>, то изначально это обозначало щиток, накладываемый на кнопку или переключатель, чтобы предотвратить случайное нажатие. В нашем контексте это цифровой страж, следящий за тем, чтобы мы не перераспределяли информацию.</p>
<p>Пользователи могут указать список слов или фраз, которые они считают конфиденциальными. Если мы попытаемся отправить сообщение в ChatGPT, содержащее любое из этих слов, расширение начнет действовать, отключая кнопку отправки и спасая нас от возможной оплошности.</p>
<figure class="igorlov-figure"><img  src="/_astro/1692344639chat-gpt-warning.Dajiu6hx_2wf1yy.webp" alt="Предупреждение ChatGPT при входе в систему: не делитесь конфиденциальной информацией" width="915" height="890" loading="lazy" decoding="async"><figcaption>Предупреждение ChatGPT при входе в систему: не делитесь конфиденциальной информацией</figcaption></figure>
<p>Чтобы следовать этому руководству, вам понадобится учетная запись ChatGPT. У вас его нет? Вы можете <a href="https://platform.openai.com/signup?launch" rel="noopener noreferrer nofollow" target="_blank">зарегистрироваться бесплатно здесь</a>.</p>
<p>Код для этого руководства <a href="https://github.com/jameshibbard/chatgpt-molly-guard-chrome" rel="noopener noreferrer nofollow" target="_blank">доступен на GitHub</a>.</p>
<h2 id="что-такое-расширение-для-google-chrome">Что такое расширение для Google Chrome?<a aria-hidden="true" tabindex="-1" href="#что-такое-расширение-для-google-chrome"><span class="icon icon-link"></span></a></h2>
<p>Прежде чем мы начнем, давайте уточним, что такое расширение для Chrome. Расширение <strong>Chrome</strong> - это небольшое программное обеспечение, предназначенное для улучшения или изменения работы браузера Chrome. Расширения разрабатываются с использованием стандартных веб-технологий - HTML, JavaScript и CSS - и могут варьироваться от простых инструментов, таких как подборщик цветов, до более сложных, например, менеджеров паролей. Многие из этих расширений доступны для загрузки в магазине <a href="https://chrome.google.com/webstore/" rel="noopener noreferrer nofollow" target="_blank">Chrome Web Store</a>.</p>
<p>Примечание: для тех, кто хочет глубже разобраться в расширениях Chrome, неоценимым источником информации является <a href="https://developer.chrome.com/docs/extensions/" rel="noopener noreferrer nofollow" target="_blank">официальная документация Google</a>.</p>
<p>Стоит отметить, что расширения Google Chrome могут иметь различные формы в зависимости от их предназначения. Некоторые из них действуют в браузере, отображаясь в виде значка рядом с адресной строкой, обеспечивая быстрый доступ к своим функциям. Другие могут работать тихо в фоновом режиме, на всех веб-страницах или только на определенных, в зависимости от их дизайна.</p>
<p>В нашем учебнике мы рассмотрим тип расширения, использующий скрипт контента. Этот скрипт позволит нам взаимодействовать и манипулировать DOM конкретной страницы - в нашем случае, интерфейса ChatGPT.</p>
<h2 id="шаг-1-создание-файлов-расширения">Шаг 1: Создание файлов расширения<a aria-hidden="true" tabindex="-1" href="#шаг-1-создание-файлов-расширения"><span class="icon icon-link"></span></a></h2>
<p>Для начала нам нужно создать базовую структуру нашего расширения для Chrome. Наше расширение, названное <code>chatgpt-mollyguard</code>, будет организовано в специальной папке. В этой папке будут содержаться все необходимые файлы для бесперебойной работы нашего molly-guard.</p>
<p>Вот их описание:</p>
<ul>
<li><strong>Папка:</strong> <code>chatgpt-molly-guard</code>. Это корневая директория нашего расширения. Все наши файлы будут находиться в этой папке.</li>
<li><strong>Файл:</strong> <code>manifest.json</code>. Сердце и душа нашего расширения. Этот файл содержит метаданные о расширении, такие как его название, версия и разрешения, которые оно требует. Самое главное, он указывает, какие скрипты запускать и на каких сайтах.</li>
<li><strong>Файл:</strong> <code>contentScript.js</code>. Как следует из названия, этот файл JavaScript содержит скрипт контента. Этот скрипт имеет прямой доступ к содержимому веб-страницы, позволяя нам сканировать ее на наличие чувствительных слов и изменять страницу по мере необходимости.</li>
<li><strong>Файл:</strong> <code>wordsList.js</code>. Файл JavaScript, содержащий список чувствительных слов или фраз, которые указывает пользователь. Мы разделили его, чтобы облегчить пользователям настройку списка, не погружаясь в основную функциональность в <code>contentScript.js</code>.</li>
<li><strong>Файл:</strong> <code>styles.css</code>. Таблица стилей для придания изюминки нашему расширению. Хотя наша главная цель - функциональность, нет ничего плохого в том, чтобы наши предупреждения или подсказки выглядели красиво!</li>
</ul>
<p>Чтобы начать:</p>
<ol>
<li>Создайте новую папку на вашем компьютере компьютер с именем <code>chatgpt-molly-guard</code>.</li>
<li>В этой папке создайте четыре файла, перечисленные выше.</li>
<li>Когда файлы созданы, мы готовы приступить к заполнению деталей.</li>
</ol>
<figure class="igorlov-figure"><img  src="/_astro/1692349280molly-guard-files.M7KmH0vV_ZVMfxl.webp" alt="Файлы, необходимые для создания нашего расширения Google Chrome: manifest.json, contentScript.js, wordList.js и styles.css" width="1774" height="892" loading="lazy" decoding="async"><figcaption>Файлы, необходимые для создания нашего расширения Google Chrome: manifest.json, contentScript.js, wordList.js и styles.css</figcaption></figure>
<p>В следующих разделах мы более подробно рассмотрим каждый файл и определим его роль в расширении.</p>
<h2 id="шаг-2-создание-файла-манифеста">Шаг 2: Создание файла манифеста<a aria-hidden="true" tabindex="-1" href="#шаг-2-создание-файла-манифеста"><span class="icon icon-link"></span></a></h2>
<p>Файл манифеста - это JSON-файл, который предоставляет браузеру важные сведения о вашем расширении. Этот файл должен находиться в корневом каталоге расширения.</p>
<p>Вот структура нашего манифеста. Скопируйте этот код в файл <code>manifest.json</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">manifest_version</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">3</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">name</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">ChatGPT Molly-guard</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">version</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">1.0</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">description</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Предотвращает отправку сообщений, если в окне чата набраны определенные слова</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">content_scripts</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">: [</span></span>
<span class="line"><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">matches</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> [</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">https://chat.openai.com/*</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">],</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">css</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> [</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">styles.css</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">],</span></span>
<span class="line"><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">js</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> [</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">wordsList.js</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">contentScript.js</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">]</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#A6ACCD">]</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Файл манифеста содержит три обязательных поля, а именно: <code>manifest_version</code>, <code>name</code> и <code>version</code>. Все остальное является необязательным.</p>
<h3 id="ключевые-элементы-манифеста">Ключевые элементы манифеста<a aria-hidden="true" tabindex="-1" href="#ключевые-элементы-манифеста"><span class="icon icon-link"></span></a></h3>
<ul>
<li><code>manifest_version</code>: целое число, указывающее версию формата файла манифеста. Мы используем Manifest V3, последнюю доступную версию. Имейте в виду, что Google активно отказывается от расширений Manifest V2 в 2023 году.</li>
<li><code>имя</code>: короткая текстовая строка (не более 45 символов), идентифицирующая расширение.</li>
<li><code>version</code>: от одного до четырех целых чисел, разделенных точками, идентифицирующих версию расширения.</li>
<li><code>description</code>: текстовая строка (без HTML, не более 132 символов), описывающая расширение.</li>
<li><code>content_scripts</code>: этот ключ определяет статически загружаемые файлы JavaScript или CSS, которые будут использоваться каждый раз, когда открывается страница, соответствующая шаблону URL (указанному ключом <code>matches</code>). Здесь мы указываем, что наш скрипт должен запускаться при любом URL, начинающемся с <code>https://chat.openai.com/</code>.</li>
</ul>
<p>Из перечисленных выше полей Google будет использовать <code>name</code>, <code>version</code> и <code>description</code> при отображении вашего расширения на странице управления расширениями Chrome () и в Интернет-магазине Chrome.</p>
<p>Хотя наш манифест оптимизирован для наших нужд, многие другие поля могут добавить глубину и функциональность вашим расширениям. Такие поля, как <code>action</code>, <code>default_locale</code>, <code>icons</code> и т. д., предоставляют возможности настройки, управления пользовательским интерфейсом и поддержки интернационализации.</p>
<p>Для получения исчерпывающей информации о том, что доступно в файле <code>manifest.json</code>, обратитесь к <a href="https://developer.chrome.com/docs/extensions/mv3/manifest/" rel="noopener noreferrer nofollow" target="_blank">официальной документации Google</a>.</p>
<h2 id="шаг-3-создание-сценария-контента">Шаг 3: Создание сценария контента<a aria-hidden="true" tabindex="-1" href="#шаг-3-создание-сценария-контента"><span class="icon icon-link"></span></a></h2>
<p>Скрипты содержимого в расширении Chrome - это файлы JavaScript, которые запускаются в контексте веб-страниц. Они могут просматривать и манипулировать DOM страницы, на которой запущены, что позволяет им изменять содержимое и поведение веб-страницы.</p>
<p>Это наш скрипт контента. Скопируйте следующий код в файл <code>contentScript.js</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> debounce</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">callback</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">wait</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">	let</span><span style="color:#E4F0FB"> timeoutId</span><span style="color:#91B4D5"> =</span><span style="color:#D0679D"> null</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span><span style="color:#91B4D5">...</span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">		window</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">clearTimeout</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">timeoutId</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">		timeoutId</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> window</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">setTimeout</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">			callback</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">apply</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">args</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		}, </span><span style="color:#E4F0FB">wait</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> containsForbiddenWords</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> forbiddenWords</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">some</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">word</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#E4F0FB"> value</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">toLowerCase</span><span style="color:#A6ACCD">().</span><span style="color:#E4F0FBD0">includes</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">word</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">toLowerCase</span><span style="color:#A6ACCD">()));</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> updateUI</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> containsForbiddenWord</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> containsForbiddenWords</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> sendButton</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">nextElementSibling</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> parentDiv</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">parentElement</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD">	if (</span><span style="color:#E4F0FB">containsForbiddenWord</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		sendButton</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">disabled</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> true</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">		parentDiv</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">classList</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">add</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">forbidden-div</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	} else {</span></span>
<span class="line"><span style="color:#E4F0FB">		sendButton</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">disabled</span><span style="color:#91B4D5"> =</span><span style="color:#D0679D"> false</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FB">		parentDiv</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">classList</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">remove</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">forbidden-div</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">document</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">addEventListener</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">	'</span><span style="color:#5DE4C7">keyup</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#E4F0FBD0">	debounce</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id</span><span style="color:#91B4D5"> ===</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">prompt-textarea</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">) </span><span style="color:#E4F0FBD0">updateUI</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}, </span><span style="color:#5DE4C7">300</span><span style="color:#A6ACCD">),</span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">document</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">addEventListener</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">	'</span><span style="color:#5DE4C7">keydown</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">	(</span><span style="color:#E4F0FB">e</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">e</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id</span><span style="color:#91B4D5"> ===</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">prompt-textarea</span><span style="color:#A6ACCD">'</span><span style="color:#91B4D5"> &#x26;&#x26;</span><span style="color:#E4F0FB"> e</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">key</span><span style="color:#91B4D5"> ===</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">Enter</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#A6ACCD">			if (</span><span style="color:#E4F0FBD0">containsForbiddenWords</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">e</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">target</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">)) {</span></span>
<span class="line"><span style="color:#E4F0FB">				e</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">stopPropagation</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">				e</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">			}</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	},</span></span>
<span class="line"><span style="color:#5DE4C7">	true</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>Давайте разберем это пошагово.</p>
<p>В верхней части файла мы объявляем функцию <code>debounce</code>. Мы будем использовать ее для чтобы не проверять наличие запрещенных слов каждый раз, когда пользователь нажимает клавишу. Это было бы очень много проверок! Вместо этого мы будем ждать, пока пользователь не перестанет набирать текст, прежде чем что-то делать. Я взял этот фрагмент с сайта <a href="https://www.joshwcomeau.com/snippets/javascript/debounce/" rel="noopener noreferrer nofollow" target="_blank">Josh W. Comeau</a>, поэтому вы можете ознакомиться с его постом, чтобы узнать, как это работает.</p>
<p>Далее идет функция <code>containsForbiddenWords</code>. Как следует из названия, эта функция возвращает <code>true</code>, если переданный ей текст содержит любое из наших запрещенных слов. Мы выделяем оба значения нижним регистром, чтобы сравнение не зависело от регистра.</p>
<p>Функция <code>updateUI</code> определяет, присутствуют ли в окне чата запрещенные слова. Если они есть, она отключает кнопку отправки и добавляет CSS-класс (<code>forbidden-div</code>) в родительский div окна чата. Мы воспользуемся этим в следующем шаге, чтобы предоставить пользователю визуальную подсказку.</p>
<p>Наконец, скрипт регистрирует два слушателя событий:</p>
<ul>
<li>Первый настроен на срабатывание по событию <code>keyup</code>. Он проверяет, является ли измененный элемент нашей целью (окном чата), а затем вызывает функцию <code>updateUI</code>. Благодаря нашей функции <code>debounce</code>, она не будет выполняться постоянно, а только после короткой паузы в наборе текста.</li>
<li>Второй слушатель событий прослушивает событие <code>keydown</code> на нашей цели. В частности, он следит за нажатием клавиши <kbd>Enter</kbd>, которая, если ее нажать, когда в текстовой области находится запрещенное слово, предотвратит действие браузера по умолчанию (в данном случае отправку формы).</li>
</ul>
<p>Это эффективно останавливает отправку сообщений с запрещенными словами, как за счет отключения кнопки отправки, так и за счет перехвата и остановки нажатия клавиши <kbd>Enter</kbd>.</p>
<p>Вы также заметите, что мы используем <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_delegation" rel="noopener noreferrer nofollow" target="_blank">делегирование событий</a>, поскольку интерфейс ChatGPT является SPA. В SPA сегменты пользовательского интерфейса динамически заменяются в зависимости от взаимодействия с пользователем, что может привести к непреднамеренному отсоединению слушателей событий, привязанных к этим элементам. Привязав наши слушатели событий к более широкому DOM и выборочно нацелив их на определенные элементы, мы можем обойти эту проблему.</p>
<h2 id="шаг-4-добавление-стиля">Шаг 4: Добавление стиля<a aria-hidden="true" tabindex="-1" href="#шаг-4-добавление-стиля"><span class="icon icon-link"></span></a></h2>
<p>Хотя основная функциональность нашего расширения заключается в предотвращении определенных отправлений, важно, чтобы пользователи могли сразу понять, почему их действие блокируется. Давайте добавим немного стилизации, чтобы обеспечить визуальную подсказку и улучшить пользовательский опыт.</p>
<p>Вот правило, которое мы используем. Добавьте его в файл <code>styles.css</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0;font-style:italic">.</span><span style="color:#5FB3A1;font-style:italic">forbidden-div</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">	border</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">2px</span><span style="color:#ADD7FF"> solid</span><span style="color:#ADD7FF"> red</span><span style="color:#ADD7FF"> !important</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#ADD7FF">	background-color</span><span style="color:#A6ACCD">: #</span><span style="color:#E4F0FB">ffe6e6</span><span style="color:#ADD7FF"> !important</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Это добавляет заметную красную рамку и тонкий красный фон в область ввода при обнаружении запрещенных слов. Это сразу привлекает внимание и указывает на то, что что-то не так. Переключая класс родительского div, мы можем легко включать и выключать эту функцию.</p>
<p>Флаг <code>!important</code> также заслуживает внимания. Когда вы имеете дело с веб-страницами, которые вам не принадлежат - как в данном случае с ChatGPT - существующие стили могут быть очень специфичными. Чтобы убедиться, что наши стили имеют приоритет и применяются правильно, флаг <code>!important</code> отменяет любые потенциальные конфликты из-за специфики существующих стилей.</p>
<h2 id="шаг-5-тестируем-расширение">Шаг 5: Тестируем расширение<a aria-hidden="true" tabindex="-1" href="#шаг-5-тестируем-расширение"><span class="icon icon-link"></span></a></h2>
<p>Остался последний шаг: заполнение списка запрещенных слов, которые должно отслеживать наше расширение. Мы можем добавить их в файле <code>forbiddenWords.js</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> forbiddenWords</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> [</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">my-company.com</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">SitePoint</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Jim</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">];</span></span>
<span class="line"></span></code></pre>
<p>Теперь, когда наше пользовательское расширение Google Chrome готово, пришло время проверить его функциональность и убедиться, что все работает так, как нужно.</p>
<ol>
<li>Откройте Chrome и перейдите в адресную строку.</li>
<li>Включите тумблер <em>Режим разработчика</em>, расположенный в правом верхнем углу.</li>
<li>Нажмите на кнопку <em>Загрузить распакованное</em>, которая теперь будет видна.</li>
<li>Перейдите в каталог с вашим расширением (в нашем случае <code>chatgpt-molly-guard</code>) и нажмите кнопку <em>Выбрать</em>. Теперь наше расширение должно появиться в списке установленных расширений.</li>
</ol>
<figure class="igorlov-figure"><img  src="/_astro/1692361938extension-loaded-in-chrome.CnE_Q2gy_ZlfN3M.webp" alt="Пользовательское расширение загружено в браузер Google Chrome" width="789" height="517" loading="lazy" decoding="async"><figcaption>Пользовательское расширение загружено в браузер Google Chrome</figcaption></figure>
<p>Теперь, чтобы проверить работоспособность, перейдите на страницу ChatGPT, обновите ее и попробуйте ввести запрещенные слова, чтобы убедиться, что расширение ведет себя так, как ожидалось.</p>
<p>Если все прошло по плану, вы должны увидеть нечто похожее на картинку ниже.</p>
<figure class="igorlov-figure"><img  src="/_astro/1692362728molly-guard-at-work.BuGsx-26_Si6To.webp" alt="Расширение работает, определив запрещенное слово" width="2030" height="1348" loading="lazy" decoding="async"><figcaption>Расширение работает, определив запрещенное слово</figcaption></figure>
<p>Если вы вносите какие-либо изменения в код расширения - например, обновляете список слов - не забудьте нажать на круглую стрелку в правом нижнем углу карточки расширения на странице расширения. Это приведет к перезагрузке расширения. Затем вам нужно будет перезагрузить страницу, на которую нацелено ваше расширение.</p>
<figure class="igorlov-figure"><img  src="/_astro/1692905924reload-extension.CegFxUWy_1smFoo.webp" alt="Нажмите на кружок, чтобы перезагрузить расширение Chrome" width="789" height="517" loading="lazy" decoding="async"><figcaption>Нажмите на кружок, чтобы перезагрузить расширение Chrome</figcaption></figure>
<h2 id="дальше">Дальше<a aria-hidden="true" tabindex="-1" href="#дальше"><span class="icon icon-link"></span></a></h2>
<p>Наше базовое расширение для Chrome выполняет свои функции, но всегда есть место для улучшения. Если вы хотите доработать расширение и расширить его возможности, ниже приведены некоторые предложения.</p>
<h3 id="1-пользовательский-интерфейс-для-редактирования-списка-слов">1. Пользовательский интерфейс для редактирования списка слов<a aria-hidden="true" tabindex="-1" href="#1-пользовательский-интерфейс-для-редактирования-списка-слов"><span class="icon icon-link"></span></a></h3>
<p>В настоящее время наше расширение опирается на предопределенный список запрещенных слов. Реализация удобного интерфейса позволила бы пользователям динамически добавлять, удалять или изменять слова на ходу. Для этого можно использовать всплывающий пользовательский интерфейс (действие браузера), открывающийся при нажатии на иконку расширения, в котором пользователи смогут управлять своим списком. Вам также потребуется сохранить слова в хранилище.</p>
<h3 id="2-обработка-событий-вставки-мыши">2. Обработка событий вставки мыши<a aria-hidden="true" tabindex="-1" href="#2-обработка-событий-вставки-мыши"><span class="icon icon-link"></span></a></h3>
<p>Хотя наше расширение обнаруживает нажатия клавиш, пользователи могут обойти это, вставляя конфиденциальную информацию с помощью меню правой кнопки мыши. Чтобы закрыть эту лазейку, мы можем добавить слушателя событий для события <code>paste</code> (или объединить оба события, чтобы слушать <code>input</code>). Это позволит гарантировать, что независимо от того, набрана информация или вставлена, фильтр останется надежным.</p>
<h3 id="3-контекстное-переопределение">3. Контекстное переопределение<a aria-hidden="true" tabindex="-1" href="#3-контекстное-переопределение"><span class="icon icon-link"></span></a></h3>
<p>Блокирование определенных терминов может быть слишком общим. Например, я могу захотеть заблокировать упоминание ”Джима” (моего имени), но при этом у меня не будет проблем с упоминанием “Джима Кэри”. Чтобы решить эту проблему, рассмотрите возможность введения функции, которая будет отключать molly-guard до следующего события отправки.</p>
<p>Вы также можете ознакомиться с <a href="https://github.com/jameshibbard/chatgpt-molly-guard-firefox" rel="noopener noreferrer nofollow" target="_blank">Firefox-версией этого расширения</a>, где эта функция уже реализована.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>Как мы выяснили, создание собственного расширения для Google Chrome не является непреодолимой задачей. Мы начали с четкой цели: создать защитный слой для ChatGPT, гарантирующий, что конфиденциальная информация останется конфиденциальной. В этом руководстве мы увидели, как из горстки файлов и небольшого количества кода может получиться функциональное и полезное расширение для браузера.</p>
<p>Для тех, кто хочет углубиться, отличной отправной точкой станет официальная <a href="https://developer.chrome.com/docs/extensions/" rel="noopener noreferrer nofollow" target="_blank">Документация по Chrome Extension</a> от Google. Кроме того, в <a href="https://developer.chrome.com/docs/extensions/migrating/" rel="noopener noreferrer nofollow" target="_blank">Руководстве по миграции расширений Chrome</a> можно найти информацию о переходе на Manifest V3, что очень важно, учитывая предстоящий отказ от Manifest V2 в 2023 году.</p>
<p>Теперь, когда вы увидели, как это делается, я призываю вас доработать, улучшить и адаптировать расширение под свои нужды. Пожалуйста, <a href="https://twitter.com/jchibbard" rel="noopener noreferrer nofollow" target="_blank">напишите мне в Twitter</a> и дайте мне знать о любых сделанных вами улучшениях.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как создать расширение для Chrome за 10 минут&#38;url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut&#38;title=Как создать расширение для Chrome за 10 минут&#38;summary=## Что мы собираемся строить?

В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньон&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sozdat-rasshyrenye-dlia-chrome-za-10-mynut&#38;media=&#38;description=## Что мы собираемся строить?

В последнее время мы стали свидетелями бурного развития возможностей искусственного интеллекта. И хотя наши новые киберкомпаньон" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/kak-sozdat-sobstvennoe-polnofunktsyonalnoe-prylozhenye-s-podderzhkoi-gpt-dlia-rabot-s-dann-my-v-rezhyme-realnoho-vremeny" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Как создать собственное полнофункциональное приложение с поддержкой GPT для работы с данными в режиме реального времени </a> <a href="/blog/2023-12-08-как-создать-онлайн-конвертер-изображений-в-pdf-с-помощью-html-css-js-и-nodejs_20231208_032041" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Как создать онлайн-конвертер изображений в PDF с помощью HTML, CSS, JS и NodeJS </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>