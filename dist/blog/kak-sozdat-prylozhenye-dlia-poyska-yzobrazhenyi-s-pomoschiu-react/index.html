<!DOCTYPE html><html lang="ru"> <head><title>Как создать приложение для поиска изображений с помощью React | Игорь Горлов - Фронтeндер</title><link rel="canonical" href="https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react"><meta name="description" content="В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React. Создав это приложение, вы узнаете:"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ViewTransitions.astro_astro_type_script_index_0_lang.DqfSmqP7.js"></script><link rel="stylesheet" href="/_astro/_regular_.Dd2YhbvP.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
</style><script type="module" src="/_astro/page.CFW0rSNk.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-white fluid:text-lg dark:bg-black"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>  <script type="module">document.addEventListener("astro:page-load",()=>{const t=document.querySelector(".nav__open"),n=document.querySelector(".nav__close"),e=document.querySelector(".nav__container"),o=document.querySelectorAll(".nav__item");t?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),n?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),o.forEach(a=>{window.matchMedia("( max-width: 1024px)").matches&&a.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")})})});</script> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Как создать приложение для поиска изображений с помощью React </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/react" data-astro-cid-axzg2cw6> React </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/unsplash" data-astro-cid-axzg2cw6> Unsplash </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/vite" data-astro-cid-axzg2cw6> Vite </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/live-search" data-astro-cid-axzg2cw6> Live search </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 16 дек., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react-Dec-16-2023.BUvoY5Sq_14YoyF.avif" type="image/avif"><source srcset="/_astro/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react-Dec-16-2023.BUvoY5Sq_Z1igP04.webp" type="image/webp"> <img src="/_astro/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react-Dec-16-2023.BUvoY5Sq_21Yvwv.png" alt="Как создать приложение для поиска изображений с помощью React" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как создать приложение для поиска изображений с помощью React&#38;url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react&#38;title=Как создать приложение для поиска изображений с помощью React&#38;summary=В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React. Создав это приложение, вы узнаете:

&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react&#38;media=&#38;description=В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React. Создав это приложение, вы узнаете:

" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="title">Оглавление</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#начальная-настройка-проекта">Начальная настройка проекта</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-добавить-поисковый-ввод">Как добавить поисковый ввод</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-работать-с-действием-отправки-формы">Как работать с действием отправки формы</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-добавить-опции-быстрого-поиска">Как добавить опции быстрого поиска</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-получить-доступ-к-api-unsplash">Как получить доступ к API Unsplash</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-сделать-вызов-api-для-unsplash-api">Как сделать вызов API для Unsplash API</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-хранить-данные-api-с-помощью-состояния">Как хранить данные API с помощью состояния</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-вывести-изображения-на-экран">Как вывести изображения на экран</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-реализовать-пагинацию">Как реализовать пагинацию</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-найти-ошибки-с-помощью-eslint">Как найти ошибки с помощью ESLint</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#улучшения-кода">Улучшения кода</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-удалить-лишнюю-зависимость-из-useeffect">Как удалить лишнюю зависимость из useEffect</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-отобразить-индикацию-загрузки">Как отобразить индикацию загрузки</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#спасибо-за-чтение">**Спасибо за чтение******</a></li></ol></details><p>В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React.</p>
<p>Создав это приложение, вы узнаете:</p>
<ul>
<li>Как создать приложение с использованием Unsplash API в React</li>
<li>Как выполнять вызовы API в различных сценариях</li>
<li>Как использовать хук <code>useCallback</code>, чтобы избежать повторного создания функций</li>
<li>Как использовать ESLint для устранения проблем в работе приложения</li>
<li>Как реализовать пагинацию в React</li>
</ul>
<p>и многое другое…</p>
<p>Хотите посмотреть видеоверсию этого урока? Вы можете посмотреть видео ниже:</p>
<h2 id="начальная-настройка-проекта">Начальная настройка проекта<a aria-hidden="true" tabindex="-1" href="#начальная-настройка-проекта"><span class="icon icon-link"></span></a></h2>
<p>Мы будем использовать <a href="https://vitejs.dev/" rel="noopener noreferrer nofollow" target="_blank">Vite</a> для создания проекта, который является популярной альтернативой <code>create-react-app</code>.</p>
<p>Выполните следующую команду для создания проекта vite:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">npm</span><span style="color:#ADD7FF"> create</span><span style="color:#ADD7FF"> vite</span></span>
<span class="line"></span></code></pre>
<p>После выполнения вам будет задано несколько вопросов.</p>
<p>В качестве имени проекта введите <code>unsplash_image_search</code>.</p>
<p>Для фреймворка выберите <code>React</code>, а для варианта - <code>JavaScript</code>:</p>
<figure class="igorlov-figure"><img  src="/_astro/2_create_project.7AoifR_h_ZxAqyx.webp" alt="2_create_project.png" width="917" height="300" loading="lazy" decoding="async"><figcaption>2_create_project.png</figcaption></figure>
<p>Создание проекта с помощью Vite</p>
<p>После создания проекта откройте его в VS Code и выполните в терминале следующие команды:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">cd</span><span style="color:#ADD7FF"> unsplash_image_search</span></span>
<span class="line"><span style="color:#91B4D5">npm</span><span style="color:#ADD7FF"> install</span></span>
<span class="line"><span style="color:#91B4D5">npm</span><span style="color:#ADD7FF"> run</span><span style="color:#ADD7FF"> dev</span></span>
<span class="line"></span></code></pre>
<p>Получите доступ к приложению, перейдя по адресу <a href="http://127.0.0.1:5173/" rel="noopener noreferrer nofollow" target="_blank">http://127.0.0.1:5173/</a>.</p>
<figure class="igorlov-figure"><img  src="/_astro/3_project_started.BB9pRYhc_1xDqdI.webp" alt="3_project_started.png" width="512" height="183" loading="lazy" decoding="async"><figcaption>3_project_started.png</figcaption></figure>
<p>Приложение запущено</p>
<p>Вы увидите экран приложения по умолчанию, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/1_app_screen.BUCQkAXw_ZYfsTV.webp" alt="1_app_screen.png" width="991" height="716" loading="lazy" decoding="async"><figcaption>1_app_screen.png</figcaption></figure>
<p>Начальный экран</p>
<p>Далее удалите файл <code>App.css</code> и замените содержимое файла <code>App.jsx</code> следующим содержимым:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">>Приветствуем вас на Unsplash Image Search&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Теперь откройте файл <code>index.css</code> и добавьте в него содержимое из <a href="https://github.com/myogeshchavan97/unsplash_image_search/blob/master/src/index.css" rel="noopener noreferrer nofollow" target="_blank">этого репозитория GitHub</a>.</p>
<p>Установим пакеты npm <a href="https://getbootstrap.com/" rel="noopener noreferrer nofollow" target="_blank">B</a><a href="https://getbootstrap.com/" rel="noopener noreferrer nofollow" target="_blank">ootstrap</a> и <a href="https://react-bootstrap.netlify.app/" rel="noopener noreferrer nofollow" target="_blank">react-bootstrap</a>, выполнив следующую команду:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">npm</span><span style="color:#ADD7FF"> install</span><span style="color:#ADD7FF"> bootstrap</span><span style="color:#ADD7FF"> react-bootstrap</span></span>
<span class="line"></span></code></pre>
<p>Откройте файл <code>main.jsx</code> и добавьте следующую строку кода в первую строку, чтобы добавить базовый CSS-файл bootstrap:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">bootstrap/dist/css/bootstrap.min.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Полный файл <code>main.jsx</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">bootstrap/dist/css/bootstrap.min.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">ReactDOM</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-dom/client</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">App</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">./App.jsx</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">ReactDOM</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">createRoot</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">document</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">getElementById</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">root</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)).</span><span style="color:#E4F0FBD0">render</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">React.StrictMode</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">App</span><span style="color:#E4F0FB"> /></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;/</span><span style="color:#5DE4C7">React.StrictMode</span><span style="color:#E4F0FB">></span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>Теперь перезапустите приложение, выполнив команду <code>npm run dev</code>.</p>
<p>На экране появится приветственное сообщение, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/4_initial_screen.BSU0dzfd_tfHwV.webp" alt="4_initial_screen.png" width="921" height="132" loading="lazy" decoding="async"><figcaption>4_initial_screen.png</figcaption></figure>
<p>Экран приветствия</p>
<h2 id="как-добавить-поисковый-ввод">Как добавить поисковый ввод<a aria-hidden="true" tabindex="-1" href="#как-добавить-поисковый-ввод"><span class="icon icon-link"></span></a></h2>
<p>Теперь замените содержимое файла <code>App.jsx</code> на следующее:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#E4F0FB">					/></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Здесь мы отображаем заголовок <code>Image search</code> внутри класса <code>container</code>, который является классом Bootstrap, чтобы добавить немного поля слева и справа от страницы.</p>
<p>Затем мы добавили <a href="https://react-bootstrap.netlify.app/docs/forms/overview/" rel="noopener noreferrer nofollow" target="_blank">f</a><a href="https://react-bootstrap.netlify.app/docs/forms/overview/" rel="noopener noreferrer nofollow" target="_blank">orm</a> с типом <code>поиск</code>.</p>
<p>Если вы проверите приложение, то увидите следующий экран:</p>
<figure class="igorlov-figure"><img  src="/_astro/5_searchbox.B8pzRzVv_Z1EElhT.webp" alt="5_searchbox.png" width="922" height="712" loading="lazy" decoding="async"><figcaption>5_searchbox.png</figcaption></figure>
<p>Первоначальный пользовательский интерфейс поиска</p>
<p>Теперь нам нужно сохранить значение, введенное пользователем, где-то в компоненте.</p>
<p>Поскольку у нас будет только одно поле ввода на странице, мы используем хук <a href="https://react.dev/reference/react/useRef" rel="noopener noreferrer nofollow" target="_blank">useRef</a> вместо хука <code>useState</code>.</p>
<p>Использование хука <code>useRef</code> позволяет не перерисовывать компонент при изменении его значения, что хорошо для повышения производительности. С другой стороны, изменение состояния перерисовывает компонент, поэтому все дочерние компоненты также будут перерисованы.</p>
<p>Внутри файла <code>App.jsx</code> объявите хук <code>useRef</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> searchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>Не забудьте добавить импорт для хука <code>useRef</code> в верхней части файла:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Также добавьте параметр <code>ref</code> для ввода поиска, например, так:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">	type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">	placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">	className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">	ref</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{searchInput}</span></span>
<span class="line"><span style="color:#E4F0FB">/></span></span>
<span class="line"></span></code></pre>
<p>Ваш полный файл <code>App.jsx</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">import</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7C0">return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">Форма</span></span>
<span class="line"><span style="color:#D0679D">&#x3C;Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">ref</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{searchInput}</span></span>
<span class="line"><span style="color:#E4F0FB">/></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#91B4D5">&#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h2 id="как-работать-с-действием-отправки-формы">Как работать с действием отправки формы<a aria-hidden="true" tabindex="-1" href="#как-работать-с-действием-отправки-формы"><span class="icon icon-link"></span></a></h2>
<p>Когда мы вводим любой поисковый запрос в поле поиска и нажимаем клавишу Enter, мы хотим добавить функцию поиска.</p>
<p>Для этого добавьте обработчик <code>onSubmit</code> к тегу <code>Form</code> и создайте метод <code>handleSearch</code>. И назначьте его реквизиту <code>onSubmit</code> следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">		event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">submitted</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;</span><span style="color:#5DE4C7">Form</span><span style="color:#91B4D5;font-style:italic"> onSubmit</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{handleSearch}></span></span>
<span class="line"><span style="color:#E4F0FB">					&#x3C;</span><span style="color:#5DE4C7">Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">						ref</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{searchInput}</span></span>
<span class="line"><span style="color:#E4F0FB">					/></span></span>
<span class="line"><span style="color:#E4F0FB">				&#x3C;/</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">			&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">	);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Здесь мы добавили <code>&#x3C;Form onSubmit={handleSearch}></code> и внутри метода <code>handleSearch</code> использовали метод <code>event.preventDefault</code>.</p>
<p>После отправки формы нажатием клавиши Enter в поле поиска страница не будет обновляться, а в консоль будет выведен текст отправки, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/6_submitted.BuDD0c3H_Z26RinA.webp" alt="6_submitted.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>6_submitted.gif</figcaption></figure>
<p>Действие отправки формы</p>
<p>Теперь, вместо того чтобы выводить “submitted”, мы можем вывести значение, введенное пользователем, используя <code>searchInput.current.value</code>.</p>
<p>Здесь <code>searchInput</code> - это <code>ref</code>, а <code>searchInput.current</code> будет фактическим вводом в поле поиска. Также использование <code>searchInput.current.value</code> даст фактическое значение, введенное пользователем.</p>
<p>Итак, замените метод <code>handleSearch</code> следующим кодом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">	console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Теперь вы увидите, как введенное значение отображается в консоли:</p>
<figure class="igorlov-figure"><img  src="/_astro/7_searchterm.CByOkPRE_Z2iIKIe.webp" alt="7_searchterm.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>7_searchterm.gif</figcaption></figure>
<p>Отображение введенного значения поискового термина в консоли</p>
<h2 id="как-добавить-опции-быстрого-поиска">Как добавить опции быстрого поиска<a aria-hidden="true" tabindex="-1" href="#как-добавить-опции-быстрого-поиска"><span class="icon icon-link"></span></a></h2>
<p>Теперь давайте добавим кнопки действия с классом <code>filters</code> для быстрого поиска прямо под div <code>search-section</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>...&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">>Природа&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">>Птицы&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">>Кошки&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">		&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">>Обувь&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Теперь приложение будет выглядеть следующим образом:</p>
<figure class="igorlov-figure"><img  src="/_astro/8_buttons_added.RcypM3Ie_ZkpzI9.webp" alt="8_buttons_added.png" width="1006" height="485" loading="lazy" decoding="async"><figcaption>8_buttons_added.png</figcaption></figure>
<p>Добавлены опции быстрого поиска</p>
<p>Когда мы нажимаем на любую из отображаемых кнопок, мы можем отобразить значение нажатой кнопки в поле ввода поиска, чтобы использовать его для поиска изображений.</p>
<p>Измените div <code>filters</code> на приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">nature</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Nature&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">birds</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Птицы&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">cats</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Кошки&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">shoes</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Shoes&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде, когда вы нажимаете на любую опцию, мы передаем выбранную опцию в метод <code>handleSelection</code>.</p>
<p>Теперь добавьте новый метод <code>handleSelection</code> внутри компонента <code>App</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">selection</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> selection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Ваш полный файл <code>App.jsx</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">import</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">  const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">  const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">    event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">    console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">  const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">selection</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">    searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> selection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7C0">  return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">    &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;</span><span style="color:#5DE4C7">Form</span><span style="color:#91B4D5;font-style:italic"> onSubmit</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{handleSearch}></span></span>
<span class="line"><span style="color:#E4F0FB">          &#x3C;</span><span style="color:#5DE4C7">Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">            type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">            placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">            className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">            ref</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{searchInput}</span></span>
<span class="line"><span style="color:#E4F0FB">          /></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;/</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">nature</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Природа&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">birds</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Птицы&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">cats</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Кошки&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">        &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">shoes</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Shoes&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">    &#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">  );</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<figure class="igorlov-figure"><img  src="/_astro/9_selection.C2o2ET7-_Fbn74.webp" alt="9_selection.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>9_selection.gif</figcaption></figure>
<p>Отображение опции выбора в окне поиска</p>
<h2 id="как-получить-доступ-к-api-unsplash">Как получить доступ к API Unsplash<a aria-hidden="true" tabindex="-1" href="#как-получить-доступ-к-api-unsplash"><span class="icon icon-link"></span></a></h2>
<p>Теперь, чтобы реализовать поиск изображений, нам нужно получить ключ API от <a href="https://unsplash.com/" rel="noopener noreferrer nofollow" target="_blank">Unsplash Website</a>.</p>
<p>Перейдите по адресу <a href="https://unsplash.com/developers" rel="noopener noreferrer nofollow" target="_blank">this URL</a> и нажмите на кнопку ”Зарегистрироваться как разработчик”, расположенную в правом верхнем углу страницы. Создайте свою учетную запись, введя все необходимые данные.</p>
<figure class="igorlov-figure"><img  src="/_astro/10_register_as_developer.GrjRslv-_1elnv8.webp" alt="10_register_as_developer.png" width="1439" height="104" loading="lazy" decoding="async"><figcaption>10_register_as_developer.png</figcaption></figure>
<p>После регистрации вы будете перенаправлены на <a href="https://unsplash.com/oauth/applications" rel="noopener noreferrer nofollow" target="_blank">эту страницу</a>, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/11_applications_page.C8FyFUWp_mpFfe.webp" alt="11_applications_page.png" width="961" height="715" loading="lazy" decoding="async"><figcaption>11_applications_page.png</figcaption></figure>
<p>Регистрация нового приложения в Unsplash API</p>
<p>Нажмите на кнопку <code>Новое приложение</code>. На следующем экране:</p>
<ul>
<li>Установите все флажки и нажмите на кнопку <code>Принять условия</code>.</li>
<li>Введите значения для <code>Имя приложения</code> и <code>Описание</code> и нажмите кнопку <code>Создать приложение</code>.</li>
</ul>
<figure class="igorlov-figure"><img  src="/_astro/13_create_application.CD4Nbbze_Z2ad7aT.webp" alt="13_create_application.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>13_create_application.gif</figcaption></figure>
<p>Создание нового приложения с помощью Unsplash API</p>
<p>Прокрутите страницу вниз и скопируйте <code>ключ доступа</code>, который отобразится на экране:</p>
<p>Получение ключа доступа от API Unsplash</p>
<p>Далее создайте новый файл <code>.env</code> в вашем проекте и добавьте новую переменную окружения с именем <code>VITE_API_KEY</code>. Также присвойте ей скопированное значение ключа API:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">VITE_API_KEY</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> A4UiJ5OIwL_4ccbCAE1ZXw3EgoNRotMbdNe12qtKHzM</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Убедитесь, что имя переменной начинается с <code>VITE_</code>, чтобы она была доступна в приложении.</p>
<p>Структура папок вашего приложения будет выглядеть следующим образом:</p>
<figure class="igorlov-figure"><img  src="/_astro/15_api_key.D7ilDQur_Z1thyve.webp" alt="15_api_key.png" width="1011" height="563" loading="lazy" decoding="async"><figcaption>15_api_key.png</figcaption></figure>
<p>Структура папок с файлом .env</p>
<p>Также не забудьте добавить <code>.env</code> в файл <code>.gitignore</code>, чтобы файл не был выгружен на GitHub при выгрузке изменений на GitHub.</p>
<p>Теперь перейдите на страницу <a href="https://unsplash.com/documentation" rel="noopener noreferrer nofollow" target="_blank">Unsplash Documentation</a> и нажмите на раздел <code>Поиск фотографий по ключевому слову</code>. И скопируйте следующий URL-адрес базового API: <code>https://api.unsplash.com/search/photos</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/16_base_api_url.DgN9TB62_bv0cb.webp" alt="16_base_api_url.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>16_base_api_url.gif</figcaption></figure>
<p>Страница документации API поисковых изображений</p>
<p>Теперь откройте файл <code>App.jsx</code> и вставьте скопированный URL в качестве <code>API_URL</code> после всех операторов импорта, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> API_URL</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">https://api.unsplash.com/search/photos</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Согласно документации, API поиска фотографий с указанным выше URL принимает в качестве параметров запроса <code>query</code>, <code>page</code> и <code>per_page</code>. Просто обратите на это внимание, так как мы будем использовать его в ближайшее время.</p>
<h2 id="как-сделать-вызов-api-для-unsplash-api">Как сделать вызов API для Unsplash API<a aria-hidden="true" tabindex="-1" href="#как-сделать-вызов-api-для-unsplash-api"><span class="icon icon-link"></span></a></h2>
<p>Чтобы сделать вызов API, давайте сначала установим библиотеку <code>axios</code> npm, выполнив следующую команду из папки проекта:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">npm</span><span style="color:#E4F0FB"> install</span><span style="color:#E4F0FB"> axios</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>После установки снова запустите приложение, выполнив команду <code>npm run dev</code>.</p>
<p>Далее объявите новую константу чуть ниже константы <code>API_URL</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> IMAGES_PER_PAGE</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> 20</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Здесь мы указываем отображение <code>20</code> изображений на странице, когда мы будем реализовывать пагинацию. Вы можете изменить это значение на любое другое.</p>
<p>Добавьте новую функцию <code>fetchImages</code> внутри компонента <code>App</code> следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">			`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;page=1&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#5DE4C7">				import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD">			}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">		);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Здесь мы определили функцию <code>fetchImages</code>, которая объявлена <code>async</code>, поэтому мы можем использовать <code>await</code> внутри нее.</p>
<p>Если вы не знаете о promises и async/await, я настоятельно рекомендую ознакомиться с <a href="https://www.freecodecamp.org/news/javascript-promises-async-await-and-promise-methods/" rel="noopener noreferrer nofollow" target="_blank">этой статьей</a>.</p>
<p>Затем, внутри функции <code>fetchImages</code>, мы делаем вызов GET API с помощью axios на URL, который мы сохранили в константе <code>API_URL</code>: <code>https://api.unsplash.com/search/photos</code>.</p>
<p>В URL API мы передаем следующие параметры запроса, используя [синтаксис шаблонного литерала] (<a href="https://bit.ly/3rtiQ9y" rel="noopener noreferrer nofollow" target="_blank">https://bit.ly/3rtiQ9y</a>):</p>
<ul>
<li><code>query</code> со значением введенным пользователем или значением опции быстрого поиска</li>
<li><code>page</code> со значением <code>1</code> для получения данных о первой странице</li>
<li><code>per_page</code> со значением <code>20</code>, которое определяется в константе <code>IMAGES_PER_PAGE</code></li>
<li><code>client_id</code> со значением ключа API из файла <code>.env</code>.</li>
</ul>
<p>Поскольку мы используем <a href="https://vitejs.dev/" rel="noopener noreferrer nofollow" target="_blank">Vite</a>, для доступа к переменным окружения из файла <code>.env</code> нам нужно использовать <code>import.meta.env.VITE_API_KEY</code>.</p>
<p>Здесь <code>VITE_API_KEY</code> - это переменная окружения, которую мы объявили в файле <code>.env</code>.</p>
<p>Также импортируйте библиотеку <code>axios</code> в верхней части файла следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">axios</span><span style="color:#A6ACCD"> from</span><span style="color:#ADD7FF"> axios</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Обновленный файл <code>App.jsx</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">axios</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">axios</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">import</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> API_URL</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">https://api.unsplash.com/search/photos</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> IMAGES_PER_PAGE</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> 20</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">          searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">        }</span><span style="color:#5DE4C7">&#x26;page=1&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#5DE4C7">          import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD">        }`</span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">selection</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> selection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FBD0">fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7C0">return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">h1</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">>Поиск изображений&#x3C;/</span><span style="color:#5DE4C7">h1</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">Form</span><span style="color:#91B4D5;font-style:italic"> onSubmit</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{handleSearch}></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">Form.Control</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">type</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">placeholder</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">ref</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{searchInput}</span></span>
<span class="line"><span style="color:#E4F0FB">/></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">Form</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">nature</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Nature&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">birds</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Птицы&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">cats</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Кошки&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> handleSelection</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">shoes</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Shoes&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Если вы проверите приложение, то увидите, что при каждом щелчке на опции быстрого поиска происходит вызов API Unsplash API, и мы получаем данные для выбранной опции.</p>
<figure class="igorlov-figure"><img  src="/_astro/17_api_result.bFRAcWYw_10cdjM.webp" alt="17_api_result.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>17_api_result.gif</figcaption></figure>
<p>Выполнение вызова API при нажатии на опцию быстрого поиска</p>
<p>Чтобы сделать вызов API, когда мы вводим текст поиска и нажимаем клавишу Enter, нам нужно вызвать функцию <code>fetchImages</code> из функции <code>handleSearch</code>.</p>
<p>Для этого добавьте вызов функции <code>fetchImages</code> внутри функции <code>handleSearch</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">	console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Теперь вы сможете увидеть вызов API на вкладке ”Сеть”, когда мы вводим текст для поиска и нажимаем клавишу Enter.</p>
<figure class="igorlov-figure"><img  src="/_astro/18_search_result.Dk0n-9cS_ZCgXgb.webp" alt="18_search_result.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>18_search_result.gif</figcaption></figure>
<p>Выполнение вызова API при вводе текста в поле поиска</p>
<h2 id="как-хранить-данные-api-с-помощью-состояния">Как хранить данные API с помощью состояния<a aria-hidden="true" tabindex="-1" href="#как-хранить-данные-api-с-помощью-состояния"><span class="icon icon-link"></span></a></h2>
<p>Теперь давайте выведем на экран изображения, полученные от API.</p>
<p>Чтобы вывести их на экран, нам сначала нужно сохранить данные, полученные от API.</p>
<p>Если вы посмотрите на структуру ответа API, то увидите, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/19_response.BYqg-2f8_29zSiX.webp" alt="19_response.png" width="1435" height="178" loading="lazy" decoding="async"><figcaption>19_response.png</figcaption></figure>
<p>Ответ API</p>
<p>Итак, объявим два состояния в файле <code>App.jsx</code>: одно для хранения изображений ответа, которые приходят в свойстве <code>results</code>, а другое для хранения <code>total_pages</code>, чтобы мы могли реализовать пагинацию.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">images</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setImages</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">([]);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">totalPages</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setTotalPages</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">...</span><span style="color:#A6ACCD">.</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>И обновите функцию <code>fetchImages</code> для сохранения <code>data.results</code> с помощью <code>setImages</code> и общего количества страниц с помощью функции <code>setTotalPages</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">			`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;page=1&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#5DE4C7">				import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD">			}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">		);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<h2 id="как-вывести-изображения-на-экран">Как вывести изображения на экран<a aria-hidden="true" tabindex="-1" href="#как-вывести-изображения-на-экран"><span class="icon icon-link"></span></a></h2>
<p>Теперь давайте выведем на экран изображения, которые мы сохранили в переменной состояния <code>images</code>.</p>
<p>Если вы развернете ответ API на отдельное изображение, то увидите свойства <code>id</code>, <code>alt_description</code>, <code>urls</code>, которые мы можем использовать для отображения отдельных изображений.</p>
<figure class="igorlov-figure"><img  src="/_astro/20_api_response.BaIz3GsX_Z17GQ7K.webp" alt="20_api_response.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>20_api_response.gif</figcaption></figure>
<p>Свойства ответа API</p>
<p>Итак, сразу после div <code>filters</code> добавьте еще один div для отображения изображений, как здесь:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  ...</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  {images</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">image</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">      &#x3C;</span><span style="color:#5DE4C7">img</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">        key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">        src</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">urls</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">small}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">        alt</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">alt_description}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">        className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">image</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#E4F0FB">      /></span></span>
<span class="line"><span style="color:#A6ACCD">    );</span></span>
<span class="line"><span style="color:#A6ACCD">  })</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Здесь мы отображаем <code>маленькую</code> версию изображения из свойства <code>urls</code> отдельного изображения.</p>
<p>Мы можем еще больше упростить приведенный выше код. Внутри метода массива <code>map</code> вместо фигурной скобки с ключевым словом <code>return</code> мы можем переписать его следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  ...</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">{images</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">image</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">  &#x3C;</span><span style="color:#5DE4C7">img</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">    key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">    src</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">urls</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">small}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">    alt</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">alt_description}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">    className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">image</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#E4F0FB">  /></span></span>
<span class="line"><span style="color:#A6ACCD">))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Здесь мы неявно возвращаем JSX из метода массива <code>map</code>, добавляя круглую скобку вокруг JSX.</p>
<p>Теперь при поиске любого текста изображения будут отображаться корректно.</p>
<figure class="igorlov-figure"><img  src="/_astro/21_displayed_images.74i1ixsz_1yAXUc.webp" alt="21_displayed_images.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>21_displayed_images.gif</figcaption></figure>
<p>Отображение изображений при нажатии на значок быстрого поиска</p>
<figure class="igorlov-figure"><img  src="/_astro/22_displayed_images.C2Xc7b1F_HJyUk.webp" alt="22_displayed_images.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>22_displayed_images.gif</figcaption></figure>
<p>Отображаемые изображения при нажатии на значок быстрого поиска</p>
<figure class="igorlov-figure"><img  src="/_astro/23_displayed_images.L_286Pqi_L6MBa.webp" alt="23_displayed_images.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>23_displayed_images.gif</figcaption></figure>
<p>Отображение изображений после ввода термина поиска</p>
<h2 id="как-реализовать-пагинацию">Как реализовать пагинацию<a aria-hidden="true" tabindex="-1" href="#как-реализовать-пагинацию"><span class="icon icon-link"></span></a></h2>
<p>Теперь мы добавим кнопки ”Предыдущий” и “Следующий” для просмотра разных наборов изображений.</p>
<p>Для этого сначала объявите новое состояние в компоненте <code>App</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setPage</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>Внутри функции <code>fetchImages</code> измените <code>page=1</code> на <code>page=${page}</code>, чтобы при изменении значения <code>page</code> загружались изображения для выбранной <code>page</code>.</p>
<p>Добавьте новый div с классом <code>buttons</code> прямо под div <code>images</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  ...</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">buttons</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  {page </span><span style="color:#91B4D5">></span><span style="color:#5DE4C7"> 1</span><span style="color:#91B4D5"> &#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>Previous&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">  {page </span><span style="color:#91B4D5">&#x3C;</span><span style="color:#E4F0FB"> totalPages </span><span style="color:#91B4D5">&#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>Next&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде мы показываем кнопку <code>Previous</code> только в том случае, если значение <code>page</code> больше <code>1</code>, то есть для первой страницы мы не увидим кнопку <code>Previous</code>.</p>
<p>А если текущее значение <code>page</code> меньше, чем <code>totalPages</code>, то только тогда мы покажем кнопку <code>Next</code>. Это означает, что для последней страницы мы не увидим кнопку <code>Next</code>.</p>
<p>Если вы помните, мы уже установили значение <code>totalPages</code> внутри функции <code>fetchImages</code>, вызвав функцию <code>setTotalPages</code>, и используем его выше, чтобы скрыть кнопку <code>Next</code>.</p>
<p>Также не забудьте добавить импорт для компонента <code>Button</code> из <code>react-bootstrap</code> внутри компонента <code>App</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> Button</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Теперь, когда мы нажимаем на кнопку <code>Previous</code>, нам нужно <code>уменьшить</code> значение переменной состояния <code>page</code>. А когда мы нажимаем на кнопку <code>Next</code>, нам нужно <code>увеличить</code> значение переменной состояния <code>page</code>.</p>
<p>Поэтому давайте добавим обработчик <code>onClick</code> для обеих этих кнопок, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">buttons</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">	{page </span><span style="color:#91B4D5">></span><span style="color:#5DE4C7"> 1</span><span style="color:#91B4D5"> &#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">-</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Previous&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">	{page </span><span style="color:#91B4D5">&#x3C;</span><span style="color:#E4F0FB"> totalPages </span><span style="color:#91B4D5">&#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">+</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Next&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>Давайте выведем в консольный лог значение переменной состояния <code>page</code>, чтобы мы могли видеть, как обновляется значение.</p>
<p>После метода <code>handleSelection</code> добавьте console.log следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">page</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<figure class="igorlov-figure"><img  src="/_astro/24_pagination.gvVY38jr_22dyfR.webp" alt="24_pagination.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>24_pagination.gif</figcaption></figure>
<p>Отображение текущего значения страницы в консоли</p>
<p>Как вы можете видеть выше, изначально для первой страницы мы не видим кнопки <code>Previous</code>.</p>
<p>А когда мы нажимаем на кнопку <code>Next</code>, мы видим кнопки <code>Previous</code> и <code>Next</code>, и значение <code>page</code> также увеличивается на <code>1</code>, как вы можете видеть в консоли.</p>
<p>Таким образом, при каждом нажатии кнопки <code>Next</code> значение <code>page</code> увеличивается на <code>1</code>. А при каждом нажатии кнопки <code>Previous</code> значение <code>page</code> уменьшается на <code>1</code>.</p>
<p>И когда мы возвращаемся на первую страницу, кнопка <code>Previous</code> снова скрывается, что вполне ожидаемо.</p>
<p>Как вы могли заметить выше, значение страницы изменяется при нажатии кнопок <code>Previous</code> и <code>Next</code>, но новый набор изображений при нажатии этих кнопок не загружается.</p>
<p>Это происходит потому, что мы не делаем повторный вызов API с обновленным значением страницы, когда значение страницы меняется.</p>
<p>Так что давайте сделаем именно это.</p>
<p>Добавьте хук <code>useEffect</code> в компонент <code>App</code> следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0">useEffect</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>Теперь каждый раз, когда мы нажимаем на кнопку <code>Previous</code> или <code>Next</code>, значение <code>page</code> меняется, поэтому будет выполняться вышеуказанный хук <code>useEffect</code>, где мы вызываем функцию <code>fetchImages</code> для загрузки следующего набора изображений.</p>
<p>Теперь, если вы проверите приложение, вы увидите, что изображения загружены правильно.</p>
<figure class="igorlov-figure"><img  src="/_astro/25_loading_next_images.D3PEEc3a_ZvwyyL.webp" alt="25_loading_next_images.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>25_loading_next_images.gif</figcaption></figure>
<p>Загрузка следующего набора изображений с помощью пагинации</p>
<p>Как вы можете видеть выше, мы правильно загружаем изображения при нажатии на кнопку <code>Previous</code> или <code>Next</code>.</p>
<p>Но есть небольшая проблема.</p>
<p>Если мы не находимся на первой или последней странице, мы видим кнопки <code>Previous</code> и <code>Next</code>, а когда мы пытаемся найти другой термин или нажимаем на опции быстрого поиска, wвсе еще отображается кнопка <code>Предыдущий</code>.</p>
<p>В идеале, когда мы ищем другой термин или нажимаем на другую опцию быстрого поиска, мы должны начинать с первой страницы, поэтому должна быть видна только кнопка <code>Next</code>. Но сейчас видны обе кнопки - <code>Previous</code> и <code>Next</code>, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/26_previous_not_resetting.DmGkCcwq_1kie8X.webp" alt="26_previous_not_resetting.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>26_previous_not_resetting.gif</figcaption></figure>
<p>Проблема с предыдущими кнопками, не скрывающимися при поиске</p>
<p>Чтобы решить эту проблему, нам нужно сбросить значение состояния <code>page</code>, когда мы ищем другой термин или нажимаем на другую опцию быстрого поиска.</p>
<p>Поэтому внутри методов <code>handleSearch</code> и <code>handleSelection</code> вызовите функцию <code>setPage</code> со значением <code>1</code> следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">	console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FBD0">	setPage</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">selection</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> selection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FBD0">	setPage</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Как видите, мы повторяем вызовы функций <code>fetchImages</code> и <code>setPage</code> в обоих этих методах.</p>
<p>Поэтому давайте создадим еще одну функцию с именем <code>resetSearch</code> и перенесем вызовы функций <code>fetchImages</code> и <code>setPage</code> внутрь нее. Вызовем эту функцию из методов <code>handleSearch</code> и <code>handleSelection</code>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> resetSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">	setPage</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">preventDefault</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#E4F0FB">	console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">	resetSearch</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">selection</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> selection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#E4F0FBD0">	resetSearch</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Теперь, если вы проверите приложение, то увидите, что при нажатии на опцию быстрого поиска или при вводе любого поискового запроса мы всегда получаем корректный результат на первой странице, что вполне соответствует ожиданиям.</p>
<figure class="igorlov-figure"><img  src="/_astro/27_correctly_loading_first_page.Qsj3WzVu_Z2uwnQw.webp" alt="27_correctly_loading_first_page.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>27_correctly_loading_first_page.gif</figcaption></figure>
<p>Демонстрация скрытой кнопки ”Предыдущая” при каждом поиске</p>
<p>Весь ваш файл <code>App.jsx</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">axios</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">axios</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> useEffect</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> useRef</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> useState</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">import</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Button</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> Form</span><span style="color:#A6ACCD"> }</span><span style="color:#ADD7FF"> из</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react-bootstrap</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">import</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">./index.css</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> API_URL</span><span style="color:#5DE4C7"> = </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">https://api.unsplash.com/search/photos</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> IMAGES_PER_PAGE</span><span style="color:#5DE4C7"> = 20;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> App</span><span style="color:#5DE4C7"> = () => </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> SearchInput</span><span style="color:#5DE4C7"> = </span><span style="color:#ADD7FF">useRef</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">null</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#5DE4C7"> [</span><span style="color:#ADD7FF">images</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> setImages</span><span style="color:#5DE4C7">] = </span><span style="color:#ADD7FF">useState</span><span style="color:#5DE4C7">([]);</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#5DE4C7"> [</span><span style="color:#ADD7FF">page</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> setPage</span><span style="color:#5DE4C7">] = </span><span style="color:#ADD7FF">useState</span><span style="color:#5DE4C7">(1);</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#5DE4C7"> [</span><span style="color:#ADD7FF">totalPages</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> setTotalPages</span><span style="color:#5DE4C7">] = </span><span style="color:#ADD7FF">useState</span><span style="color:#5DE4C7">(0);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">useEffect</span><span style="color:#5DE4C7">(() => {</span></span>
<span class="line"><span style="color:#ADD7FF">fetchImages</span><span style="color:#5DE4C7">();</span></span>
<span class="line"><span style="color:#A6ACCD">},</span><span style="color:#5DE4C7"> [</span><span style="color:#ADD7FF">page</span><span style="color:#5DE4C7">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> fetchImages</span><span style="color:#5DE4C7"> = </span><span style="color:#ADD7FF">async</span><span style="color:#5DE4C7"> () => </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">try</span><span style="color:#5DE4C7"> {</span></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#5DE4C7"> { </span><span style="color:#ADD7FF">data</span><span style="color:#A6ACCD"> }</span><span style="color:#5DE4C7"> = </span><span style="color:#ADD7FF">await</span><span style="color:#ADD7FF"> axios</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">get</span><span style="color:#5DE4C7">(</span></span>
<span class="line"><span style="color:#A6ACCD">`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">          searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">        }</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#5DE4C7">          import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD">        }`</span></span>
<span class="line"><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#ADD7FF">console</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">log</span><span style="color:#5DE4C7">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> data</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#ADD7FF">setImages</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">data</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">results</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#ADD7FF">setTotalPages</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">data</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">total_pages</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#5DE4C7">} </span><span style="color:#ADD7FF">catch</span><span style="color:#5DE4C7"> (</span><span style="color:#ADD7FF">error</span><span style="color:#5DE4C7">) </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">console</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">log</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">error</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#5DE4C7">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> resetSearch</span><span style="color:#5DE4C7"> = () => </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">setPage</span><span style="color:#5DE4C7">(1);</span></span>
<span class="line"><span style="color:#ADD7FF">fetchImages</span><span style="color:#5DE4C7">();</span></span>
<span class="line"><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> handleSearch</span><span style="color:#5DE4C7"> = (</span><span style="color:#ADD7FF">event</span><span style="color:#5DE4C7">) => </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">event</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">preventDefault</span><span style="color:#5DE4C7">();</span></span>
<span class="line"><span style="color:#ADD7FF">console</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">log</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">searchInput</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">current</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">value</span><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#ADD7FF">resetSearch</span><span style="color:#5DE4C7">();</span></span>
<span class="line"><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">const</span><span style="color:#ADD7FF"> handleSelection</span><span style="color:#5DE4C7"> = (</span><span style="color:#ADD7FF">selection</span><span style="color:#5DE4C7">) => </span><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#ADD7FF">searchInput</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">current</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">value</span><span style="color:#5DE4C7"> = </span><span style="color:#ADD7FF">selection</span><span style="color:#5DE4C7">;</span></span>
<span class="line"><span style="color:#ADD7FF">resetSearch</span><span style="color:#5DE4C7">();</span></span>
<span class="line"><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">console</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">log</span><span style="color:#5DE4C7">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">page</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span><span style="color:#ADD7FF"> page</span><span style="color:#5DE4C7">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">return</span><span style="color:#5DE4C7"> (</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">container</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">h1</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">title</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Поиск</span><span style="color:#ADD7FF"> изображений</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">h1</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-section</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">Form</span><span style="color:#ADD7FF"> onSubmit</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">handleSearch</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">Form</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">Control</span></span>
<span class="line"><span style="color:#ADD7FF">type</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#ADD7FF">placeholder</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Введите что-нибудь для поиска...</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#ADD7FF">className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">search-input</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#ADD7FF">ref</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">searchInput</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#5DE4C7">/></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">Form</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">filters</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#5DE4C7">() => </span><span style="color:#ADD7FF">handleSelection</span><span style="color:#5DE4C7">('</span><span style="color:#ADD7FF">nature</span><span style="color:#5DE4C7">')</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Nature</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#5DE4C7">() => </span><span style="color:#ADD7FF">handleSelection</span><span style="color:#5DE4C7">('</span><span style="color:#ADD7FF">birds</span><span style="color:#5DE4C7">')</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Птицы</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#5DE4C7">() => </span><span style="color:#ADD7FF">handleSelection</span><span style="color:#5DE4C7">('</span><span style="color:#ADD7FF">cats</span><span style="color:#5DE4C7">')</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Кошки</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#5DE4C7">() => </span><span style="color:#ADD7FF">handleSelection</span><span style="color:#5DE4C7">('</span><span style="color:#ADD7FF">shoes</span><span style="color:#5DE4C7">')</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Shoes</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">images</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">map</span><span style="color:#5DE4C7">((</span><span style="color:#ADD7FF">image</span><span style="color:#5DE4C7">) => (</span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">img</span></span>
<span class="line"><span style="color:#ADD7FF">            key</span><span style="color:#5DE4C7">={</span><span style="color:#ADD7FF">image</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">id</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#ADD7FF">            src</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">image</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">urls</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">small</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#ADD7FF">            alt</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">image</span><span style="color:#5DE4C7">.</span><span style="color:#ADD7FF">alt_description</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#ADD7FF">            className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">image</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#5DE4C7">          /></span></span>
<span class="line"><span style="color:#5DE4C7">))}</span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">div</span><span style="color:#ADD7FF"> className</span><span style="color:#5DE4C7">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">buttons</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">page</span><span style="color:#5DE4C7"> > 1 &#x26;&#x26; (</span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">Button</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">={() => </span><span style="color:#ADD7FF">setPage</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">page</span><span style="color:#5DE4C7"> - 1)</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Previous</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">Button</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">)}</span></span>
<span class="line"><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF">page</span><span style="color:#5DE4C7"> &#x3C; </span><span style="color:#ADD7FF">totalPages</span><span style="color:#5DE4C7"> &#x26;&#x26; (</span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;</span><span style="color:#ADD7FF">Button</span><span style="color:#ADD7FF"> onClick</span><span style="color:#5DE4C7">={() => </span><span style="color:#ADD7FF">setPage</span><span style="color:#5DE4C7">(</span><span style="color:#ADD7FF">page</span><span style="color:#5DE4C7"> + 1)</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">></span><span style="color:#ADD7FF">Next</span><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">Button</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">)}</span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">&#x3C;/</span><span style="color:#ADD7FF">div</span><span style="color:#5DE4C7">></span></span>
<span class="line"><span style="color:#5DE4C7">);</span></span>
<span class="line"><span style="color:#5DE4C7">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">export</span><span style="color:#5DE4C7"> default </span><span style="color:#ADD7FF">App</span><span style="color:#5DE4C7">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h2 id="как-найти-ошибки-с-помощью-eslint">Как найти ошибки с помощью ESLint<a aria-hidden="true" tabindex="-1" href="#как-найти-ошибки-с-помощью-eslint"><span class="icon icon-link"></span></a></h2>
<p>При работе над React-приложением у вас всегда должно быть включено расширение ESLint VS Code.</p>
<p>Это позволит убедиться, что ваш код корректен и не приведет к неожиданным результатам в будущем.</p>
<p>На основе конфигурации ESLint, заданной в файле <code>.eslientrc</code>, вы получите полезные предложения по улучшению вашего кода.</p>
<p>Итак, откройте панель расширений VS Code Extensions и установите <a href="https://marketplace.visualstu" rel="noopener noreferrer nofollow" target="_blank">расширение ESLint</a>.dio.com/items?itemName=dbaeumer.vscode-eslint), как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/28_eslint_extension.BHXcFhie_rWNVQ.webp" alt="28_eslint_extension.png" width="1439" height="601" loading="lazy" decoding="async"><figcaption>28_eslint_extension.png</figcaption></figure>
<p>Расширение VS Code ESLint</p>
<p>После установки расширения, если проверить файл <code>App.jsx</code>, вы сразу увидите желтую волнистую линию для зависимости <code>page</code> от хука <code>useEffect</code>. Если навести на нее курсор мыши, то появится предупреждение, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/29_missing_dependency.alaW3DH2_2kFkYM.webp" alt="29_missing_dependency.png" width="1169" height="817" loading="lazy" decoding="async"><figcaption>29_missing_dependency.png</figcaption></figure>
<p>Предупреждение ESLint для крючка useEffect</p>
<p>Как указывает предупреждение, нам нужно добавить зависимость <code>fetchImages</code> в массив зависимостей.</p>
<p>Мы получаем предупреждение, потому что в функциональном компоненте при каждом повторном рендеринге компонента все объявленные функции создаются заново, поэтому их ссылки меняются.</p>
<p>Поэтому, если мы используем какую-либо внешнюю переменную или функцию внутри хука <code>useEffect</code>, нам нужно упомянуть об этом в зависимостях, чтобы при изменении зависимости <code>useEffect</code> выполнялся снова.</p>
<p>Чтобы исправить это, вы можете нажать на ссылку быстрого исправления и выбрать опцию ”обновить зависимости”, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/30_updating_dependency.BdKPGIOe_ZsjSyx.webp" alt="30_updating_dependency.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>30_updating_dependency.gif</figcaption></figure>
<p>Обновление зависимости хука useEffect</p>
<p>Все недостающие зависимости будут автоматически добавлены в массив зависимостей.</p>
<p>При желании вы можете добавить зависимость вручную.</p>
<p>Однако после этого изменения вы увидите новое желтое предупреждение для функции <code>fetchImages</code>, как показано ниже:</p>
<figure class="igorlov-figure"><img  src="/_astro/31_fetchimages_warning.CgcSUUuN_1cgXzG.webp" alt="31_fetchimages_warning.png" width="972" height="581" loading="lazy" decoding="async"><figcaption>31_fetchimages_warning.png</figcaption></figure>
<p>Предупреждение ESLint для функции useCallback</p>
<p>Как я уже говорил, при каждом повторном рендеринге компонента функция <code>fetchImages</code> будет создаваться заново, и когда она будет изменена, мы снова вызовем функцию <code>fetchImages</code>, поскольку она добавлена в зависимость.</p>
<p>Чтобы избежать этого, нам нужно обернуть функцию <code>fetchImages</code> внутри хука <a href="https://react.dev/reference/react/useCallback" rel="noopener noreferrer nofollow" target="_blank">useCallback</a>, как показано ниже:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useCallback</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">			`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">				searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">			}</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span><span style="color:#5DE4C7">import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">		);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде мы передаем <code>page</code> как зависимость, потому что <code>page</code> - это внешняя переменная, значение которой может измениться в будущем, когда мы нажмем на кнопки <code>Previous</code> или <code>Next</code> или будем искать какой-либо новый термин.</p>
<p>Если изменяющиеся переменные используются в хуках <code>useEffect</code>, <code>useCallback</code> или <code>useMemo</code>, их необходимо добавить в список зависимостей.</p>
<p>Теперь вы больше не увидите предупреждений в компоненте <code>App</code>.</p>
<figure class="igorlov-figure"><img  src="/_astro/32_no_warnings.DAwGYmtA_Z1vExCt.webp" alt="32_no_warnings.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>32_no_warnings.gif</figcaption></figure>
<p>Исправлено предупреждение ESLint об использовании обратного вызова (useCallback)</p>
<p>Однако, если вы проверите консоль браузера, то увидите ошибку, а в пользовательском интерфейсе ничего не отобразится, так как приложение завершило работу.</p>
<figure class="igorlov-figure"><img  src="/_astro/33_access_before_initialization.B953kjQ0_Z2iE88h.webp" alt="33_access_before_initialization.png" width="1440" height="861" loading="lazy" decoding="async"><figcaption>33_access_before_initialization.png</figcaption></figure>
<p>Консольная ошибка, связанная с функциональным выражением</p>
<p>Мы получаем ошибку, поскольку объявили функцию <code>fetchImages</code> с использованием синтаксиса выражения функции, а функции, объявленные с использованием синтаксиса выражения функции, не могут быть вызваны до их определения.</p>
<p>Присвоение функции переменной превращает ее в функциональное выражение.</p>
<p>Как видно на изображении ниже, мы вызываем функцию <code>fetchImages</code> в строке номер 16, а объявляем ее в строке номер 19, а к функциям, объявленным с использованием синтаксиса выражения функции, нельзя обращаться до их объявления.</p>
<figure class="igorlov-figure"><img  src="/_astro/34_function_expression_error.BHJuGpYa_gC3XT.webp" alt="34_function_expression_error.png" width="844" height="566" loading="lazy" decoding="async"><figcaption>34_function_expression_error.png</figcaption></figure>
<p>Причина консольной ошибки</p>
<p>Чтобы исправить это, нам нужно объявить функцию перед ее вызовом. Поэтому переместите функцию <code>fetchImages</code> перед хуком useEffect, и это исправит проблему.</p>
<p>Ваш компонент <code>App</code> будет выглядеть следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> App</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> SearchInput</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useRef</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">null</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">images</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setImages</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">([]);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setPage</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">totalPages</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setTotalPages</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useCallback</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">          searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">        }</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#5DE4C7">          import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD">        }`</span></span>
<span class="line"><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FBD0">useEffect</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">fetchImages</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> resetSearch</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">setPage</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"><span style="color:#91B4D5">...</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Теперь, если вы проверите приложение, то не будет никаких ошибок и приложение будет работать так, как ожидалось.</p>
<h2 id="улучшения-кода">Улучшения кода<a aria-hidden="true" tabindex="-1" href="#улучшения-кода"><span class="icon icon-link"></span></a></h2>
<p>Сейчас в текущем приложении мы не добавили никакой валидации при вводе пользователем поискового запроса.</p>
<p>Когда страница загружается, и когда мы не вводим никакого текста, а просто нажимаем клавишу Enter в поле ввода поиска, мы делаем вызов API, что не очень хорошо.</p>
<figure class="igorlov-figure"><img  src="/_astro/35_extra_api_call.DLMGDeQT_1ysG7E.webp" alt="35_extra_api_call.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>35_extra_api_call.gif</figcaption></figure>
<p>Демонстрация вызовов API без значения</p>
<p>Чтобы исправить это, перед выполнением вызова API сначала нужно проверить, не пуст ли <code>searchInput.current.value</code>, а затем только выполнять вызов API.</p>
<p>Измените функцию <code>fetchImages</code> из этого кода:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useCallback</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">			`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">				searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">			}</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span><span style="color:#5DE4C7">import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">		);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>к приведенному ниже коду:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useCallback</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">				`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">					searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">				}</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span><span style="color:#5DE4C7">import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">			);</span></span>
<span class="line"><span style="color:#E4F0FB">			console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">data</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<figure class="igorlov-figure"><img  src="/_astro/36_no_api_calls.oslAGVob_Zdo3J5.webp" alt="36_no_api_calls.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>36_no_api_calls.gif</figcaption></figure>
<p>Исправлена проблема вызовов API без значения</p>
<p>Как вы можете видеть выше, изначально при загрузке страницы и без ввода какого-либо значения, если мы нажимаем клавишу ввода, вызов API не происходит.</p>
<p>Только когда мы что-то вводим и нажимаем клавишу Enter, вызов API выполняется, что является хорошим улучшением для приложения.</p>
<h2 id="как-удалить-лишнюю-зависимость-из-useeffect">Как удалить лишнюю зависимость из <code>useEffect</code><a aria-hidden="true" tabindex="-1" href="#как-удалить-лишнюю-зависимость-из-useeffect"><span class="icon icon-link"></span></a></h2>
<p>Поскольку мы добавили хук <code>useCallback</code> для функции <code>fetchImages</code>, который имеет зависимость <code>page</code>, нам больше не нужна дополнительная зависимость <code>page</code> для хука <code>useEffect</code>.</p>
<p>Поэтому измените приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0">useEffect</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">fetchImages</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>к этому коду:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0">useEffect</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FBD0">	fetchImages</span><span style="color:#A6ACCD">();</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">fetchImages</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>и приложение будет работать как прежде без каких-либо проблем.</p>
<h2 id="как-отобразить-индикацию-загрузки">Как отобразить индикацию загрузки<a aria-hidden="true" tabindex="-1" href="#как-отобразить-индикацию-загрузки"><span class="icon icon-link"></span></a></h2>
<p>Как вы могли заметить на предыдущем изображении, когда мы искали текст <code>hello</code>, результаты отображались не сразу.</p>
<p>Поскольку при поиске мы обращаемся к API, в зависимости от скорости сети, получение данных от API может занять некоторое время.</p>
<p>Поэтому пока вызов API продолжается, мы можем вывести сообщение о загрузке, а как только получим ответ от API, выведем изображения.</p>
<p>Для этого объявим новое состояние загрузки в компоненте <code>App</code> с начальным значением <code>false</code>:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#A6ACCD"> [</span><span style="color:#E4F0FB">loading</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">setLoading</span><span style="color:#A6ACCD">] </span><span style="color:#91B4D5">=</span><span style="color:#E4F0FBD0"> useState</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">false</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span></code></pre>
<p>А теперь измените функцию <code>fetchImages</code> на приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> fetchImages</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> useCallback</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">async</span><span style="color:#A6ACCD"> () </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setErrorMsg</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">''</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setLoading</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">true</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">			const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span></span>
<span class="line"><span style="color:#A6ACCD">				`${</span><span style="color:#E4F0FB">API_URL</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">?query=</span><span style="color:#A6ACCD">${</span></span>
<span class="line"><span style="color:#E4F0FB">					searchInput</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">current</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">value</span></span>
<span class="line"><span style="color:#A6ACCD">				}</span><span style="color:#5DE4C7">&#x26;page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;per_page=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">IMAGES_PER_PAGE</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;client_id=</span><span style="color:#A6ACCD">${</span><span style="color:#5DE4C7">import</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">meta</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">VITE_API_KEY</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">			);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setImages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">results</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setTotalPages</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">total_pages</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">			setLoading</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">false</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	} </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setErrorMsg</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Ошибка при получении изображений. Повторите попытку позже.</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FBD0">		setLoading</span><span style="color:#A6ACCD">(</span><span style="color:#D0679D">false</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	}</span></span>
<span class="line"><span style="color:#A6ACCD">}, [</span><span style="color:#E4F0FB">page</span><span style="color:#A6ACCD">]);</span></span>
<span class="line"></span></code></pre>
<p>Как вы можете видеть выше, мы вызываем <code>setLoading(true)</code> до вызова API и <code>setLoading(false)</code> после вызова API.</p>
<p>Обратите внимание, что мы также вызываем <code>setLoading(false)</code> внутри блока catch.</p>
<p>Таким образом, даже если вызов API будет успешным или неудачным, мы установим состояние <code>load</code> в <code>false</code>, чтобы не видеть сообщение о загрузке все время.</p>
<p>Теперь, чтобы отобразить сообщение о загрузке, измените приведенный ниже код:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  {images</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">image</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">    &#x3C;</span><span style="color:#5DE4C7">img</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      src</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">urls</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">small}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      alt</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">alt_description}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">image</span><span style="color:#A6ACCD">'</span></span>
<span class="line"><span style="color:#E4F0FB">    /></span></span>
<span class="line"><span style="color:#A6ACCD">  ))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">buttons</span><span style="color:#A6ACCD">'</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  {page </span><span style="color:#91B4D5">></span><span style="color:#5DE4C7"> 1</span><span style="color:#91B4D5"> &#x26;&#x26;</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">    &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">-</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Previous&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">  )</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">  {page </span><span style="color:#91B4D5">&#x3C;</span><span style="color:#E4F0FB"> totalPages </span><span style="color:#91B4D5">&#x26;&#x26;</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">    &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">+</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Next&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#A6ACCD">  )</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">&#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"></span></code></pre>
<p>к этому коду:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#A6ACCD">{</span></span>
<span class="line"><span style="color:#E4F0FB"> loading</span><span style="color:#91B4D5"> ?</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">  &#x3C;</span><span style="color:#5DE4C7">p</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">loading</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">>Загрузка...</span></span>
<span class="line"><span style="color:#E4F0FB"> ) : (</span></span>
<span class="line"><span style="color:#E4F0FB">  &#x3C;></span></span>
<span class="line"><span style="color:#E4F0FB">   &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">images</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">    {images</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">image</span><span style="color:#A6ACCD">)</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#E4F0FB">     &#x3C;</span><span style="color:#5DE4C7">img</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      key</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">id}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      src</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">urls</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">small}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      alt</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{image</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">alt_description}</span></span>
<span class="line"><span style="color:#91B4D5;font-style:italic">      className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">image</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#E4F0FB">     /></span></span>
<span class="line"><span style="color:#A6ACCD">    ))</span><span style="color:#E4F0FB">}</span></span>
<span class="line"><span style="color:#E4F0FB">   &#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">   &#x3C;</span><span style="color:#5DE4C7">div</span><span style="color:#91B4D5;font-style:italic"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">buttons</span><span style="color:#A6ACCD">"</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">    {page </span><span style="color:#91B4D5">></span><span style="color:#5DE4C7"> 1</span><span style="color:#91B4D5"> &#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">-</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Previous&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">    {page </span><span style="color:#91B4D5">&#x3C;</span><span style="color:#E4F0FB"> totalPages </span><span style="color:#91B4D5">&#x26;&#x26;</span><span style="color:#E4F0FB"> &#x3C;</span><span style="color:#5DE4C7">Button</span><span style="color:#91B4D5;font-style:italic"> onClick</span><span style="color:#91B4D5">=</span><span style="color:#E4F0FB">{</span><span style="color:#A6ACCD">()</span><span style="color:#91B4D5"> =></span><span style="color:#E4F0FBD0"> setPage</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">page </span><span style="color:#91B4D5">+</span><span style="color:#5DE4C7"> 1</span><span style="color:#A6ACCD">)</span><span style="color:#E4F0FB">}>Next&#x3C;/</span><span style="color:#5DE4C7">Button</span><span style="color:#E4F0FB">>}</span></span>
<span class="line"><span style="color:#E4F0FB">   &#x3C;/</span><span style="color:#5DE4C7">div</span><span style="color:#E4F0FB">></span></span>
<span class="line"><span style="color:#E4F0FB">  &#x3C;/></span></span>
<span class="line"><span style="color:#E4F0FB"> );</span></span>
<span class="line"><span style="color:#E4F0FB">}</span></span>
<span class="line"></span></code></pre>
<p>В приведенном выше коде, если загрузка равна true, мы выводим сообщение о загрузке. В противном случае мы отображаем изображения, полученные из API.</p>
<p>Если вы проверите приложение, то увидите, что индикация загрузки отображается корректно.</p>
<figure class="igorlov-figure"><img  src="/_astro/37_loading_indication.DFpzLT7d_ZXxyIa.webp" alt="37_loading_indication.gif" width="600" height="375" loading="lazy" decoding="async"><figcaption>37_loading_indication.gif</figcaption></figure>
<p>Демонстрация индикации загрузки</p>
<h2 id="спасибо-за-чтение"><strong>**</strong>Спасибо за чтение******<a aria-hidden="true" tabindex="-1" href="#спасибо-за-чтение"><span class="icon icon-link"></span></a></h2>
<p>Вот и все по этому руководству. Надеюсь, вы узнали из него много нового.</p>
<p>Полный исходный код этого приложения вы можете найти в <a href="https://github.com/myogeshchavan97/unsplash_image_search" rel="noopener noreferrer nofollow" target="_blank">этом репозитории</a>.</p>
<p>Хотите посмотреть видеоверсию этого урока? Вы можете посмотреть <a href="https://www.youtube.com/watch?v=0YoT44j3Jg4&#x26;list=PLSJnlFr3D-mFm7-cdhnHdBvUdxUp-a9HL&#x26;index=17" rel="noopener noreferrer nofollow" target="_blank">это видео</a>.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как создать приложение для поиска изображений с помощью React&#38;url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react&#38;title=Как создать приложение для поиска изображений с помощью React&#38;summary=В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React. Создав это приложение, вы узнаете:

&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-sozdat-prylozhenye-dlia-poyska-yzobrazhenyi-s-pomoschiu-react&#38;media=&#38;description=В этой статье мы шаг за шагом создадим красивое приложение для поиска изображений Unsplash с пагинацией с помощью React. Создав это приложение, вы узнаете:

" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/how-to-use-the-docker-exec-command" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Как использовать команду Docker Exec? </a> <a href="/blog/kak-predotvratyt-hpp-y-xss-ataky-v-nodejs" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Как предотвратить HPP и XSS-атаки в Nodejs </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>