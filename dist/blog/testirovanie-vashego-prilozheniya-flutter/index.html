<!DOCTYPE html><html lang="ru"> <head><title>Тестирование вашего приложения Flutter - Igor Gorlov</title><link rel="canonical" href="https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter"><meta name="description" content="Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем."><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ViewTransitions.astro_astro_type_script_index_0_lang.DqfSmqP7.js"></script><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/page.CFW0rSNk.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-testirovanie-vashego-prilozheniya-flutter; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>  <script type="module">document.addEventListener("astro:page-load",()=>{const t=document.querySelector(".nav__open"),n=document.querySelector(".nav__close"),e=document.querySelector(".nav__container"),o=document.querySelectorAll(".nav__item");t?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),n?.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")}),o.forEach(a=>{window.matchMedia("( max-width: 1024px)").matches&&a.addEventListener("click",()=>{e?.classList.toggle("nav__container--open"),e?.classList.toggle("fade-in-bottom")})})});</script> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/учебник" class="categories__link" data-astro-cid-axzg2cw6> Учебник  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Тестирование вашего приложения Flutter </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/flutter" data-astro-cid-axzg2cw6> Flutter </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/testing" data-astro-cid-axzg2cw6> Testing </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/dart" data-astro-cid-axzg2cw6> Dart </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 17 фев., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/undefined-Feb-17-2023.CDGWhlQy_D0NoN.avif" type="image/avif"><source srcset="/_astro/undefined-Feb-17-2023.CDGWhlQy_Z1EoXn2.webp" type="image/webp"> <img src="/_astro/undefined-Feb-17-2023.CDGWhlQy_Z1pIWHn.png" alt="Тестирование вашего приложения Flutter" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Тестирование вашего приложения Flutter&#38;url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter&#38;title=Тестирование вашего приложения Flutter&#38;summary=Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем.&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter&#38;media=&#38;description=Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем." target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <p>Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем.</p>
<!-- wp:rank-math/toc-block {"title":"Оглавление","headings":[{"key":"4d0fcb4e-2b8f-4894-bed7-c4a54f7e0f97","content":"Зачем нам нужно тестирование?","level":2,"link":"#зачем-нам-нужно-тестирование","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"d22570c8-140f-485a-83e0-e2ee7b5906a0","content":"Концепция","level":2,"link":"#концепция","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"893857b1-0348-4170-aafc-017f987ff8d6","content":"Типы тестов","level":2,"link":"#типы-тестов","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"178c19c2-8322-4eb2-9cdd-b393733aecd0","content":"Юнит-тест","level":2,"link":"#юнит-тест","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"d0e575cd-278c-4cee-ba15-32f4e076b660","content":"Тест виджета","level":2,"link":"#тест-виджета","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"325694fb-8afa-47a9-bd42-74ca1538c492","content":"Интеграционный тест","level":2,"link":"#интеграционный-тест","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"72329715-9748-4f9d-85bf-b6c16efde383","content":"Бонус","level":2,"link":"#бонус","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"7460d649-7271-4feb-afa7-3af6acaba628","content":"Заключение","level":2,"link":"#заключение","disable":false,"isUpdated":false,"isGeneratedLink":true}],"listStyle":"ul"} -->
<div class="wp-block-rank-math-toc-block" id="rank-math-toc"><h2>Оглавление</h2><nav><ul><li class=""><a href="#зачем-нам-нужно-тестирование">Зачем нам нужно тестирование?</a></li><li class=""><a href="#концепция">Концепция</a></li><li class=""><a href="#типы-тестов">Типы тестов</a></li><li class=""><a href="#юнит-тест">Юнит-тест</a></li><li class=""><a href="#тест-виджета">Тест виджета</a></li><li class=""><a href="#интеграционный-тест">Интеграционный тест</a></li><li class=""><a href="#бонус">Бонус</a></li><li class=""><a href="#заключение">Заключение</a></li></ul></nav></div>
<!-- /wp:rank-math/toc-block -->
<h2 class="wp-block-heading" id="зачем-нам-нужно-тестирование">Зачем нам нужно тестирование?</h2>
<p>По мере роста нашего проекта flutter растет и важность его тестирования, поэтому, поскольку ваш код был хорошо сделан, используя хорошие паттерны и следуя лучшим практикам, проще внедрить тест, чтобы убедиться, что приложение работает так, как вы задумали.</p>
<h2 class="wp-block-heading" id="концепция">Концепция</h2>
<p>Существует несколько концепций того, как писать тесты и создавать лучшие и хорошо спроектированные приложения, одна из самых распространенных - TDD (Test Driven Development), которая гласит, что вы должны сначала написать тест, а затем написать код, и повторить процесс столько раз, сколько вам нужно, чтобы убедиться, что все проходит тест и код делает только то, что должен делать.</p>
<h2 class="wp-block-heading" id="типы-тестов">Типы тестов</h2>
<p>Во Flutter у нас есть три типа тестов, это:</p>
<p>Юнит-тест: как видно из названия, этот вид тестов предназначен для проверки того, работает ли минимальная часть вашего кода так, как ожидается, сюда входят, например, функции и классы.</p>
<p>Тест виджетов: Этот тест проверяет, работают ли виджеты так, как ожидается, поэтому целью этого вида теста является проверка согласованности пользовательского интерфейса.</p>
<p>Интеграционный тест: Последний, интеграционный тест, лично мне больше всего нравится, он представляет собой смесь двух типов тестов, описанных ранее. С его помощью вы можете проверить весь поток, например, проверить, работает ли оформление заказа в приложении для электронной коммерции так, как ожидалось.</p>
<p>Учитывая все вышесказанное, давайте рассмотрим несколько примеров, чтобы лучше понять суть. В данном случае я покажу, как проверить вход в систему, потому что это общая функция для большинства проектов.</p>
<p>Чтобы начать, предположим, что у вас уже есть flutter в вашем O.S. Тогда просто создайте проект командой flutter create login_test, где имя login_test может быть изменено, если вы хотите дать другое имя проекту, с этим созданным проектом проверьте в корневом каталоге и вы сможете найти папку под названием test, весь ваш код тестирования должен быть в ней, и по умолчанию все классы, созданные для этой цели, должны быть в _test.dart, чтобы язык распознал это как класс тестирования.</p>
<p>Чтобы начать использовать концепцию TDD, давайте сначала создадим модульный тест, а затем реализацию.</p>
<h2 class="wp-block-heading" id="юнит-тест">Юнит-тест</h2>
<p>Удалите файл, поставляемый с проектом, и создайте файл unit_login_test.dart в папке test со следующим кодом:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">import 'package:flutter_test/flutter_test.dart';

void main() {
  group('Login controller', () {
    test("success login", () {
      LoginController controller = LoginController();
      expect(controller.login("username", "password"), true);
    });

    test("failed login", () {
      LoginController controller = LoginController();
      expect(controller.login("invalidUsername", "invalidPassword"), false);
    });
  });
}

</code></pre>
<!-- /wp:code -->
<p>Мы создаем главную функцию, которая запускает в данном случае эти тесты, мы должны импортировать класс flutter_test для выполнения, как мы хотим, для этого мы создаем группу и внутри помещаем все наши тестовые случаи, инициируем наш класс и выполняем функцию с некоторыми заданными параметрами и ожидаемым возвратом в функции expect test для этого мы представляем, что у нас есть контроллер и внутри функция login, которая получает имя пользователя и пароль и, если они совпадают, возвращает булево значение. Для выполнения теперь мы должны создать файл login_controller.dart в папке lib со следующим кодом:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">class LoginController {
  bool login(String username, String password) {
    return username == "username" &#x26;&#x26; password == "password";
  }
}

</code></pre>
<!-- /wp:code -->
<p>Таким образом, нам остается только импортировать этот класс в наш тестовый класс и выполнить его, чтобы увидеть результат</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript"><code>import 'package:login_test/login_controller.dart';</code></code></pre>
<!-- /wp:code -->
<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--p1p51pMB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gizzgl646gg2hhslbsjl.png" alt="Прохождение модульного теста"></figure>
<!-- /wp:image -->
<p>Теперь перейдем ко второму типу тестов.</p>
<h2 class="wp-block-heading" id="тест-виджета">Тест виджета</h2>
<p>Как и в случае с юнит-тестом, мы создадим тестовый файл и реализуем его, для начала создайте файл widget_login_test.dart и поместите в него следующий код:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">import 'package:flutter/material.dart';
import 'package:flutter_test/flutter_test.dart';

void main() {
  testWidgets("Login UI", (tester) async {
    await tester.pumpWidget(const MaterialApp(home: LoginPage()));

    final username = find.byKey(const Key("usernameTextField"));
    final password = find.byKey(const Key("passwordTextField"));
    final loginButton = find.byKey(const Key("loginButton"));

    expect(username, findsOneWidget);
    expect(password, findsOneWidget);
    expect(loginButton, findsOneWidget);

    await tester.enterText(username, "username");
    await tester.enterText(password, "password");
    await tester.tap(loginButton);

    await tester.pump();
    final successMessage = find.byKey(const Key('success'));
    expect(successMessage, findsOneWidget);
  });
}

</code></pre>
<!-- /wp:code -->
<p>Тест виджетов отображает виджеты, и вы можете выполнять такие действия, как tap() и enterText(), чтобы взаимодействовать с компонентами. В данном тестовом случае нам нужно выполнить поиск с помощью параметра Key, вы можете сделать это с помощью текста, но Key дает вам больше уверенности в том, что вы получите то, что нужно. Теперь для реализации кода просто создайте файл под названием login_page.dart и поместите в него этот код:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">import 'package:flutter/material.dart';
import 'package:login_test/login_controller.dart';

LoginController loginController = LoginController();

TextEditingController usernameController = TextEditingController();
TextEditingController passwordController = TextEditingController();

class LoginPage extends StatelessWidget {
  const LoginPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          TextField(
            controller: usernameController,
            key: const Key('usernameTextField'),
          ),
          TextField(
            controller: passwordController,
            key: const Key('passwordTextField'),
          ),
          const SizedBox(height: 16),
          ElevatedButton(
            key: const Key('loginButton'),
            child: const Text("Login"),
            onPressed: () {
              // Example login logic
              if (loginController.login(
                  usernameController.text, passwordController.text)) {
                showDialog(
                  context: context,
                  builder: (_) => const AlertDialog(
                    key: Key('success'),
                    title: Text("Login Successful"),
                  ),
                );
              }
            },
          ),
        ],
      ),
    );
  }
}

</code></pre>
<!-- /wp:code -->
<p>Теперь нам нужно только импортировать LoginPage в наш тестовый файл виджета, просто введите<code> import ‘package:login_test/login_page.dart’; </code>с этим вы можете выполнить ваш тест и должны увидеть что-то вроде</p>
<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lmCt0oyv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yax9zfxi0saeu2t2yzqf.png" alt="Тест виджета"></figure>
<!-- /wp:image -->
<h2 class="wp-block-heading" id="интеграционный-тест">Интеграционный тест</h2>
<p>Это последний тип тестирования, он работает путем выполнения полной функции, для этого вам нужно реальное устройство, для начала нам нужно добавить новую зависимость в наш файл pubspec.yaml в разделе dev_dependencies под названием integration_test: sdk: flutter, после этого просто введите flutter pub get для обновления зависимостей, с этой установкой вам нужно создать папку integration_test в корневом каталоге, затем вставить файл, который вы можете назвать app_test.dart с кодом ниже:</p>
<!-- wp:code -->
<pre class="wp-block-code"><code lang="javascript" class="language-javascript">import 'package:flutter/material.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';
import 'package:login_test/login_page.dart';

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();
  WidgetsFlutterBinding.ensureInitialized();
  group('LoginPage', () {
    testWidgets("Login UI", (tester) async {
      await tester.pumpWidget(const MaterialApp(home: LoginPage()));

      final username = find.byKey(const Key("usernameTextField"));
      final password = find.byKey(const Key("passwordTextField"));
      final loginButton = find.byKey(const Key("loginButton"));

      expect(username, findsOneWidget);
      expect(password, findsOneWidget);
      expect(loginButton, findsOneWidget);

      await tester.enterText(username, "username");
      await tester.pumpAndSettle(const Duration(seconds: 1));
      await tester.enterText(password, "password");
      await tester.pumpAndSettle(const Duration(seconds: 1));
      await tester.tap(loginButton);

      await tester.pumpAndSettle(const Duration(seconds: 1));
      final successMessage = find.byKey(const Key('success'));
      expect(successMessage, findsOneWidget);
    });
  });
}

</code></pre>
<!-- /wp:code -->
<p>этот код очень похож на тест виджетов, но у нас есть несколько отличий, мы используем IntegrationTestWidgetsFlutterBinding.ensureInitialized(); и WidgetsFlutterBinding.ensureInitialized(); чтобы убедиться, что у нас есть интеграционный тест и виджеты, готовые к началу процесса.</p>
<h2 class="wp-block-heading" id="бонус">Бонус</h2>
<p>В дополнительной части этой статьи мы рассмотрим, как получить визуальный отчет о покрытии тестов, если вы не хотите изучать это, просто перейдите к заключению.</p>
<p>Для этого нам нужно запустить в терминале flutter test —coverage, после выполнения которого должна быть создана папка coverage с файлом lcov.info внутри, как мы видим ниже:</p>
<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--NFYFrPqF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/f97uoy7j1gm1romn06c5.png" alt="Папка с покрытиями"></figure>
<!-- /wp:image -->
<p>после этого вам нужно преобразовать этот файл в кучу файлов для чтения веб-сервером, для продолжения просто введите в терминале genhtml coverage/lcov.info -o coverage/html, где coverage/lcov.info - это путь к файлу, созданному выше, а coverage/html после флага -o - это каталог, куда я хочу сохранить сгенерированные файлы, когда эта часть закончится, вы увидите папку с заданным именем, созданную там, где вы выбрали.</p>
<p>В завершение нам нужно открыть эту директорию для доступа в веб-браузере, для этого я рекомендую получить библиотеку dhttpd отсюда, просто введите в терминале dart pub global activate dhttpd, этим вы загрузите библиотеку глобально, после этого просто введите dhttpd —path coverage/html/ и откройте браузер, чтобы поместить URL <a href="http://localhost:8080" rel="noopener noreferrer nofollow" target="_blank">http://localhost:8080</a> и, наконец, вы сможете увидеть полный отчет о вашем тесте, как показано ниже:</p>
<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sqTj7Y5U--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/w1iisor30wrk3zzoxgfa.png" alt="Покрытие флаттера"></figure>
<!-- /wp:image -->
<p>На этом мы заканчиваем бонусную часть, которая может быть очень важна для понимания того, где код не покрыт и где тесты не работают.</p>
<h2 class="wp-block-heading" id="заключение">Заключение</h2>
<p>Как мы видим, тесты дают нам больше уверенности в конечном результате, сфокусированном на релизе, этот процесс может занять больше времени для завершения функции, но выигрыш от этого более ценен, чем если бы об ошибке сообщили после распространения проекта, так что, надеюсь, все поняли, как делать и важность, надеюсь, увидимся в следующий раз.</p>
<p>Если вы хотите увидеть полный код, я выложил код, ссылка: Репозиторий</p>
<!-- wp:acf/acf-donate {"id":"block_64678dc93985f","name":"acf/acf-donate","data":{"title":"Задонатить на поддержку!","_title":"field_646b621e8617c","list_0_name":"Donatepay","_list_0_name":"field_646b623e8617e","list_0_url":"https://new.donatepay.ru/@1117856","_list_0_url":"field_646b62528617f","list_0_address":"","_list_0_address":"field_646b625d86180","list_1_name":"Donationalerts","_list_1_name":"field_646b623e8617e","list_1_url":"https://www.donationalerts.com/c/woorg_","_list_1_url":"field_646b62528617f","list_1_address":"","_list_1_address":"field_646b625d86180","list_2_name":"USDT (TRC20)","_list_2_name":"field_646b623e8617e","list_2_url":"","_list_2_url":"field_646b62528617f","list_2_address":"TR121HxpTDF71TMm9idZkBaZxnjSMcCPWj","_list_2_address":"field_646b625d86180","list_3_name":"ETH","_list_3_name":"field_646b623e8617e","list_3_url":"","_list_3_url":"field_646b62528617f","list_3_address":"0x442721192987047eDeEC69Ca1D4c706f9Adb16B3","_list_3_address":"field_646b625d86180","list_4_name":"BTC","_list_4_name":"field_646b623e8617e","list_4_url":"","_list_4_url":"field_646b62528617f","list_4_address":"36dLKv5uRozphSQa55w2XgsF42AugPu2QT","_list_4_address":"field_646b625d86180","list":5,"_list":"field_646b62308617d"},"align":"","mode":"edit"} /--> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Тестирование вашего приложения Flutter&#38;url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter&#38;title=Тестирование вашего приложения Flutter&#38;summary=Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем.&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/testirovanie-vashego-prilozheniya-flutter&#38;media=&#38;description=Привет всем, сегодня мы поговорим о тестировании с помощью flutter и о важности этого в ваших проектах, так что давайте начнем." target="_blank" rel="noreferrer noopener" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/na-toi-nedele-v-react-173-million-storybook-visionos-expo-conform-next-js-remix-astro-apollo-useformstatus" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> На этой неделе в React #173: Million, Storybook, visionOS, Expo, Conform, Next.js, Remix, Astro, Apollo, useFormStatus... </a> <a href="/blog/testirovanie-komponenta-react-poluchayushhego-dannye" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Тестирование компонента React, получающего данные </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>