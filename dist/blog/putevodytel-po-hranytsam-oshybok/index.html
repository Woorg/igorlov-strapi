<!DOCTYPE html><html lang="ru"> <head><title>Путеводитель по границам ошибок | Игорь Горлов - Fullstack Developer </title><link rel="canonical" href="https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok"><meta name="description" content="Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой,"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.uIaUWrkB.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.CyWP_2Jq.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-putevodytel-po-hranytsam-oshybok; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/uchebniki" class="categories__link" data-astro-cid-axzg2cw6> Uchebniki , </a> </li><li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/как-закодить" class="categories__link" data-astro-cid-axzg2cw6> Как закодить  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Путеводитель по границам ошибок </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/react" data-astro-cid-axzg2cw6> React </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 18 дек., 2023 by Игорь Горлов </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/putevodytel-po-hranytsam-oshybok-Dec-18-2023.EEdpOZtG_239x9U.avif" type="image/avif"><source srcset="/_astro/putevodytel-po-hranytsam-oshybok-Dec-18-2023.EEdpOZtG_Z272CR4.webp" type="image/webp"> <img src="/_astro/putevodytel-po-hranytsam-oshybok-Dec-18-2023.EEdpOZtG_Z1YVEe7.png" alt="Путеводитель по границам ошибок" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Путеводитель по границам ошибок&#38;url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok&#38;title=Путеводитель по границам ошибок&#38;summary=Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой,&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok&#38;media=&#38;description=Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой," target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#почему-границы-ошибок-важны-для-react-приложений">Почему границы ошибок важны для React-приложений?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#поиск-неработающих-вызовов-api">Поиск неработающих вызовов API</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#практическая-реализация-границ-ошибок-в-приложении-react">Практическая реализация границ ошибок в приложении React</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-создать-компонент-границы-ошибки">Как создать компонент границы ошибки</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-использовать-компонент-границы-ошибки">Как использовать компонент границы ошибки</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#ограничения-границ-ошибок">Ограничения границ ошибок</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#заключение">Заключение</a></li></ol></details open><p>Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой, важно обеспечить изящный способ обработки и представления этих ошибок пользователям, сохраняя при этом функциональность. Границы ошибок React предлагают мощный механизм для достижения этой цели, и в этой статье мы рассмотрим, что это такое, как их реализовать и лучшие практики для них.</p>
<p>Границы ошибок React действуют как защитные сетки для вашего приложения. Когда ошибка возникает в любом компоненте в их дереве, эти границы ловят ее, предотвращая падение всего приложения. Они позволяют обрабатывать ошибки более изящно, предоставляя возможность отображать резервный пользовательский интерфейс и записывать подробности ошибки в журнал. Это отличный инструмент для улучшения пользовательского опыта и помощи разработчикам в выявлении и устранении проблем без нарушения работы всего приложения. Внедрение границ ошибок - разумный шаг для стабильности фронтенда.</p>
<h2 id="почему-границы-ошибок-важны-для-react-приложений">Почему границы ошибок важны для React-приложений?<a aria-hidden="true" tabindex="-1" href="#почему-границы-ошибок-важны-для-react-приложений"><span class="icon icon-link"></span></a></h2>
<p>Без границ ошибок одна-единственная ошибка в компоненте может привести к краху всего приложения, что вызовет недовольство пользователей и усложнит задачу разработчиков по выявлению первопричины. Границы ошибок важны для приложений React по нескольким причинам:</p>
<p>Предотвращение сбоев приложения: Границы ошибок ловят ошибки внутри дерева компонентов и не позволяют им распространяться вверх по иерархии компонентов, вызывая крах всего приложения. Это обеспечивает более стабильную и отзывчивую работу пользователей даже при возникновении ошибок. Улучшение пользовательского опыта: Вместо резкого аварийного завершения работы приложения границы ошибок отображают резервный пользовательский интерфейс, который информирует пользователя об ошибке и обеспечивает более контролируемый ответ. Это предотвращает разочарование и позволяет пользователям продолжать работать с приложением. Изолировать ошибки: Границы ошибок помогают изолировать ошибки от конкретных компонентов, что облегчает выявление и отладку источника проблемы. Это упрощает процесс разработки и сокращает время отладки, поскольку разработчики могут сосредоточиться на конкретном компоненте, в котором произошла ошибка. Регистрация ошибок: Границы ошибок можно использовать для регистрации ошибок во внешних сервисах или аналитических платформах. Это дает ценные сведения о поведении приложения и потенциальных проблемах, помогая разработчикам выявлять закономерности, отслеживать возникновение ошибок и определять приоритеты усилий по отладке. Ремонтопригодный код: Границы ошибок способствуют удобству обслуживания кода, поскольку инкапсулируют логику обработки ошибок в определенные компоненты. Это облегчает понимание и изменение поведения обработки ошибок, не затрагивая другие части приложения. Грациозная обработка ошибок: Границы ошибок обеспечивают изящную обработку ошибок, позволяя разработчикам предоставлять пользователям содержательную обратную связь и поддерживать постоянный пользовательский опыт даже при возникновении ошибок. Это улучшает общий пользовательский опыт и повышает доверие к приложению.</p>
<p>В целом, границы ошибок играют важную роль в обеспечении стабильности и удобства использования приложений React. Они предотвращают неожиданные сбои, улучшают пользовательский опыт, упрощают отладку и дают ценные сведения о поведении приложения.</p>
<h2 id="поиск-неработающих-вызовов-api">Поиск неработающих вызовов API<a aria-hidden="true" tabindex="-1" href="#поиск-неработающих-вызовов-api"><span class="icon icon-link"></span></a></h2>
<p>Перехватывайте полезную нагрузку HTTP, отслеживайте неудачные вызовы API и многое другое с помощью консольных журналов, ошибок и управления состоянием. Ознакомьтесь с нашим репозиторием на Github и выразите свою поддержку, поставив нам звезду.</p>
<h2 id="практическая-реализация-границ-ошибок-в-приложении-react">Практическая реализация границ ошибок в приложении React<a aria-hidden="true" tabindex="-1" href="#практическая-реализация-границ-ошибок-в-приложении-react"><span class="icon icon-link"></span></a></h2>
<p>В этом разделе мы углубимся в работу границ ошибок, разбив сложное на простые сегменты. Мы построим приложение React и создадим компонент Error Boundary. Обернув наши компоненты этим защитным слоем, мы укрепим наше приложение от ошибок, обеспечив более плавный пользовательский опыт.</p>
<h2 id="как-создать-компонент-границы-ошибки">Как создать компонент границы ошибки<a aria-hidden="true" tabindex="-1" href="#как-создать-компонент-границы-ошибки"><span class="icon icon-link"></span></a></h2>
<p>Компонент границы ошибок - это специальный компонент React, который может перехватывать ошибки, возникающие в его дочерних компонентах. Это позволяет отобразить резервный пользовательский интерфейс вместо того, чтобы обрушить все приложение. Границы ошибок должны быть компонентами класса в React, потому что они полагаются на два специфических метода жизненного цикла, доступных только компонентам класса. Обратите внимание, что функциональные компоненты не могут использовать эти методы жизненного цикла, поэтому они не могут быть границами ошибок.</p>
<p>Чтобы создать компонент границы ошибок, необходимо создать класс компонента, который реализует один или оба из следующих методов жизненного цикла:</p>
<p><code>static getDerivedStateFromError()</code>: Этот метод отображает резервный пользовательский интерфейс после возникновения ошибки. <code>componentDidCatch()</code>: Этот метод записывает информацию об ошибке в консоль или службу отчетов об ошибках.</p>
<p>Начните с создания нового компонента ErrorBoundary.js, который будет выступать в качестве границы ошибки. Этот компонент должен определить методы жизненного цикла: static getDerivedStateFromError() и componentDidCatch().</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Component</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> ErrorBoundary</span><span style="color:#5DE4C7"> extends</span><span style="color:#ADD7FF"> Component</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">  constructor</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7;font-style:italic">    super</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7;font-style:italic">    this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">state</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> hasError</span><span style="color:#A6ACCD">:</span><span style="color:#D0679D"> false</span><span style="color:#A6ACCD"> };</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">  static</span><span style="color:#ADD7FF"> getDerivedStateFromError</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> hasError</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> true</span><span style="color:#A6ACCD"> };</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">  componentDidCatch</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">errorInfo</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">    // You can log the error</span></span>
<span class="line"><span style="color:#E4F0FB">    console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Error:</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">    console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Error Info:</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">errorInfo</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">  render</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#A6ACCD">    if (</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">state</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">hasError</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">      return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#A6ACCD">        &#x3C;</span><span style="color:#A6ACCDC0">div</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#A6ACCD">          &#x3C;</span><span style="color:#A6ACCDC0">h2</span><span style="color:#A6ACCD">></span><span style="color:#E4F0FB">Something</span><span style="color:#E4F0FB"> went</span><span style="color:#E4F0FB"> wrong</span><span style="color:#A6ACCD">. </span><span style="color:#E4F0FB">Please</span><span style="color:#E4F0FB"> try</span><span style="color:#E4F0FB"> again</span><span style="color:#E4F0FB"> later</span><span style="color:#A6ACCD">.</span><span style="color:#91B4D5">&#x3C;/</span><span style="color:#E4F0FB">h2</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      );</span></span>
<span class="line"><span style="color:#A6ACCD">    }</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#5DE4C7;font-style:italic"> this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">children</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Приведенный выше код определяет компонент React под названием ErrorBoundary, предназначенный для отлова ошибок в дочерних компонентах. Давайте разберем этот код:</p>
<p>Импортные заявления:</p>
<p><code>import React, { Component } from 'react';</code></p>
<p>Эта строка импортирует объект React и класс Component из библиотеки <code>react</code>. Класс Component необходим для создания компонентов класса в React.</p>
<p>Определение класса:</p>
<p><code>class ErrorBoundary extends Component {</code></p>
<p>Здесь определен класс <code>ErrorBoundary</code>, расширяющий класс Component. Это означает, что <code>ErrorBoundary</code> является компонентом класса React.</p>
<p>Строитель:</p>
<p><code>constructor(props) { super(props); this.state = { hasError: false }; }</code></p>
<p>Метод <code>constructor</code> используется для инициализации состояния компонента. В данном случае он устанавливает начальное состояние <code>hasError</code> и свойство <code>false</code>. Вызов <code>super(props)</code> необходим для вызова конструктора родительского класса (<code>Component</code>).</p>
<p>Статический метод - <code>getDerivedStateFromError</code>:</p>
<p><code>static getDerivedStateFromError(error) { return { hasError: true }; }</code></p>
<p>Этот статический метод является методом жизненного цикла, появившимся в React 16. Он вызывается при возникновении ошибки во время рендеринга, и его цель - обновить состояние компонента на основе возникновения ошибки. В данном случае он устанавливает <code>hasError</code> в <code>true</code>.</p>
<p>Метод - componentDidCatch:</p>
<p><code>componentDidCatch(error, errorInfo) { console.error('Error:', error); console.error('Error Info:', errorInfo); }</code></p>
<p><code>componentDidCatch</code> - еще один метод жизненного цикла, который вызывается после возникновения ошибки во время рендеринга. Он дает возможность записать в журнал подробности ошибки. В этом примере он записывает информацию об ошибке в консоль.</p>
<p>Метод рендеринга:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FBD0">render</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#A6ACCD">  if (</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">state</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">hasError</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#A6ACCD">      &#x3C;</span><span style="color:#A6ACCDC0">div</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#A6ACCD">        &#x3C;</span><span style="color:#A6ACCDC0">h2</span><span style="color:#A6ACCD">></span><span style="color:#E4F0FB">Something</span><span style="color:#E4F0FB"> went</span><span style="color:#E4F0FB"> wrong</span><span style="color:#A6ACCD">. </span><span style="color:#E4F0FB">Please</span><span style="color:#E4F0FB"> try</span><span style="color:#E4F0FB"> again</span><span style="color:#E4F0FB"> later</span><span style="color:#A6ACCD">.</span><span style="color:#91B4D5">&#x3C;/</span><span style="color:#E4F0FB">h2</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#91B4D5">      &#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">    );</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"><span style="color:#5DE4C7C0">  return</span><span style="color:#5DE4C7;font-style:italic"> this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">children</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span></code></pre>
<p>Метод <code>render</code> отвечает за рендеринг компонента. Если <code>hasError</code> имеет значение <code>true</code>, он возвращает аварийный пользовательский интерфейс, указывающий на то, что что-то пошло не так. В противном случае он рендерит дочерние компоненты (<code>this.props.children</code>), позволяя нормально рендерить дочерние компоненты компонента при отсутствии ошибок.</p>
<p>Заявление на экспорт:</p>
<p><code>export default ErrorBoundary;</code></p>
<p>Эта строка экспортирует компонент <code>ErrorBoundary</code>, делая его доступным для использования в других частях приложения.</p>
<p>В общем, этот компонент <code>ErrorBoundary</code> будет использоваться в качестве обертки для других компонентов. Если внутри обернутых компонентов произойдет какая-либо ошибка, <code>ErrorBoundary</code> поймает ее, обновит свое состояние, сообщит об ошибке в журнал и отобразит резервный пользовательский интерфейс, чтобы сообщить пользователю, что что-то пошло не так.</p>
<h2 id="как-использовать-компонент-границы-ошибки">Как использовать компонент границы ошибки<a aria-hidden="true" tabindex="-1" href="#как-использовать-компонент-границы-ошибки"><span class="icon icon-link"></span></a></h2>
<p>Чтобы использовать этот компонент границы ошибок, оберните его вокруг компонентов, в которых вы хотите отлавливать ошибки. Перед этим мы обновим вспомогательный пользовательский интерфейс в компоненте Error Boundary, чтобы он выдавал более подходящее сообщение.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">// ErrorBoundary.js</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD">,</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> Component</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">class</span><span style="color:#ADD7FF"> ErrorBoundary</span><span style="color:#5DE4C7"> extends</span><span style="color:#ADD7FF"> Component</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">  constructor</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7;font-style:italic">    super</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#5DE4C7;font-style:italic">    this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">state</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">      hasError</span><span style="color:#A6ACCD">:</span><span style="color:#D0679D"> false</span></span>
<span class="line"><span style="color:#A6ACCD">    };</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">  static</span><span style="color:#ADD7FF"> getDerivedStateFromError</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#A6ACCD"> {</span><span style="color:#ADD7FF"> hasError</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> true</span><span style="color:#A6ACCD"> };</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">  componentDidCatch</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">error</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">errorInfo</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7;font-style:italic">    this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">setState</span><span style="color:#A6ACCD">({</span></span>
<span class="line"><span style="color:#ADD7FF">      error</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> error</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">      errorInfo</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> errorInfo</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">      hasError</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> true</span></span>
<span class="line"><span style="color:#A6ACCD">    });</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADD7FF">  render</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#A6ACCD">    if (</span><span style="color:#5DE4C7;font-style:italic">this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">state</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">hasError</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#5DE4C7C0">      return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;</span><span style="color:#E4F0FB">div</span><span style="color:#E4F0FB"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">bg-red-100 border-l-4 border-red-500 text-red-700 p-4</span><span style="color:#A6ACCD">"</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#91B4D5">          &#x3C;</span><span style="color:#E4F0FB">p</span><span style="color:#E4F0FB"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">font-bold</span><span style="color:#A6ACCD">"</span><span style="color:#91B4D5">></span><span style="color:#E4F0FB">Oops</span><span style="color:#91B4D5">!</span><span style="color:#E4F0FB"> Something</span><span style="color:#E4F0FB"> went</span><span style="color:#E4F0FB"> wrong</span><span style="color:#A6ACCD">.</span></span>
<span class="line"><span style="color:#E4F0FB">          This</span><span style="color:#E4F0FB"> is</span><span style="color:#E4F0FB"> not</span><span style="color:#E4F0FB"> a</span><span style="color:#E4F0FB"> car</span><span style="color:#A6ACCD">.</span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      );</span></span>
<span class="line"><span style="color:#A6ACCD">    }</span></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#5DE4C7;font-style:italic"> this</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">props</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">children</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Если в пределах <code>ErrorBoundary</code> произойдет какая-либо ошибка, он поймает ее, обновит состояние и выдаст удобное для пользователя сообщение, а не обрушит все приложение.</p>
<p>Теперь мы создадим компонент и назовем его <code>Carsection</code>. В компоненте <code>CarSection</code> мы будем использовать оператор throw new Error, чтобы сгенерировать ошибку при определенном условии. В данном случае, если переданный компоненту параметр <code>carName</code> равен <code>Airbus</code>, он вызовет ошибку с сообщением <code>не автомобиль</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> CarSection</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> ({ </span><span style="color:#E4F0FB">carName</span><span style="color:#A6ACCD"> }) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#A6ACCD">  if (</span><span style="color:#E4F0FB">carName</span><span style="color:#91B4D5"> ===</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">Airbus</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#D0679D">    throw</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> Error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">not a car</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">  }</span></span>
<span class="line"><span style="color:#5DE4C7C0">  return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#A6ACCD">    &#x3C;</span><span style="color:#A6ACCDC0">div</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#A6ACCD">      {</span><span style="color:#E4F0FB">carName</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#91B4D5">    &#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">  );</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">CarSection</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>По сути, компонент <code>CarSection</code> предназначен для условного выброса ошибки на основе значения свойства <code>carName</code>, демонстрируя, как границы ошибок могут быть реализованы для управления ошибками в приложениях React.</p>
<p>Следующий шаг - обернуть компонент или код, который может выдать ошибку, компонентом <code>ErrorBoundary</code> в компоненте <code>App.js</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">React</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">react</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">CarSection</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">./CarSection</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">ErrorBoundary</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">./ErrorBoundary</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">function</span><span style="color:#ADD7FF"> App</span><span style="color:#A6ACCD">() {</span></span>
<span class="line"><span style="color:#5DE4C7C0">  return</span><span style="color:#A6ACCD"> (</span></span>
<span class="line"><span style="color:#91B4D5">    &#x3C;</span><span style="color:#E4F0FB">div</span><span style="color:#E4F0FB"> className</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">container mx-auto p-4</span><span style="color:#A6ACCD">"</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      &#x3C;</span><span style="color:#A6ACCDC0">ErrorBoundary</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;</span><span style="color:#E4F0FB">CarSection</span><span style="color:#E4F0FB"> carName</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">{</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Toyota</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">} </span><span style="color:#91B4D5">/></span></span>
<span class="line"><span style="color:#91B4D5">      &#x3C;/</span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      &#x3C;</span><span style="color:#A6ACCDC0">ErrorBoundary</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;</span><span style="color:#E4F0FB">CarSection</span><span style="color:#E4F0FB"> carName</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">{</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Honda</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">} </span><span style="color:#91B4D5">/></span></span>
<span class="line"><span style="color:#91B4D5">      &#x3C;/</span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      &#x3C;</span><span style="color:#A6ACCDC0">ErrorBoundary</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;</span><span style="color:#E4F0FB">CarSection</span><span style="color:#E4F0FB"> carName</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">{</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Ford</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">} </span><span style="color:#91B4D5">/></span></span>
<span class="line"><span style="color:#91B4D5">      &#x3C;/</span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">      &#x3C;</span><span style="color:#A6ACCDC0">ErrorBoundary</span><span style="color:#A6ACCD">></span></span>
<span class="line"><span style="color:#91B4D5">        &#x3C;</span><span style="color:#E4F0FB">CarSection</span><span style="color:#E4F0FB"> carName</span><span style="color:#91B4D5">=</span><span style="color:#A6ACCD">{</span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Airbus</span><span style="color:#A6ACCD">"</span><span style="color:#A6ACCD">} </span><span style="color:#91B4D5">/></span></span>
<span class="line"><span style="color:#91B4D5">      &#x3C;/</span><span style="color:#E4F0FB">ErrorBoundary</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#91B4D5">    &#x3C;/</span><span style="color:#E4F0FB">div</span><span style="color:#91B4D5">></span></span>
<span class="line"><span style="color:#A6ACCD">  );</span></span>
<span class="line"><span style="color:#A6ACCD">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7">export default </span><span style="color:#E4F0FB">App</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Когда компонент <code>CarSection</code> получает свойство <code>carName</code> со значением “Airbus”, он вызывает ошибку с помощью <code>throw new Error('not a car')</code>. Компонент <code>ErrorBoundary</code> перехватывает эту ошибку и выводит сообщение, указанное в свойстве <code>errorMessage</code>. В данном случае <code>ErrorBoundary</code> настроен на отображение “Not a car” в качестве сообщения об ошибке. Таким образом, когда компонент <code>CarSection</code> получит сообщение <code>"Airbus"</code>, пользовательский интерфейс отобразит сообщение об ошибке “Not a car”.</p>
<figure class="igorlov-figure"><img  src="/_astro/image.B3bCciHP_27bk3.webp" alt="---" width="1985" height="1088" loading="lazy" decoding="async"><figcaption>---</figcaption></figure>
<h2 id="ограничения-границ-ошибок">Ограничения границ ошибок<a aria-hidden="true" tabindex="-1" href="#ограничения-границ-ошибок"><span class="icon icon-link"></span></a></h2>
<p>Хотя границы ошибок в React являются мощным инструментом для обработки ошибок в компонентах, есть некоторые ограничения и соображения, о которых следует знать:</p>
<p>Асинхронный код: Ошибки в асинхронном коде, такие как <code>setTimeout</code> или сетевые запросы, не будут пойманы границей ошибок, поскольку они происходят вне обычного жизненного цикла компонента. Невозможно поймать ошибки в обработчиках событий: Границы ошибок работают на этапе рендеринга, поэтому они не будут ловить ошибки, возникающие в обработчиках событий или асинхронном коде. Ошибки в самой границе ошибок: Если ошибка возникает в собственных методах <code>render</code>, <code>componentDidCatch</code> или конструкторах, граница ошибок не будет перехватывать эти ошибки. Это может привести к тому, что сама граница ошибок не сработает. Рендеринг на стороне сервера: Границы ошибок не предназначены для отлова ошибок, возникающих при рендеринге на стороне сервера. Лучше всего они работают в клиентских React-приложениях.</p>
<p>Несмотря на эти ограничения, Error Boundaries по-прежнему являются ценным инструментом для повышения надежности вашего приложения, предотвращая сбои и обеспечивая лучший пользовательский опыт при возникновении ошибок.</p>
<h2 id="заключение">Заключение<a aria-hidden="true" tabindex="-1" href="#заключение"><span class="icon icon-link"></span></a></h2>
<p>В этом руководстве мы изучили концепцию границ ошибок в React, поняли их роль в отлове ошибок на этапе рендеринга и в методах жизненного цикла компонентов класса. Мы углубились в их использование, настраивая их для создания резервных пользовательских интерфейсов, и обсудили их ограничения.</p>
<p>Границы ошибок - это мощный механизм для предотвращения страшного белого экрана смерти и повышения устойчивости React-приложений. Стратегически грамотно размещая их в иерархии компонентов, разработчики могут перехватывать ошибки, выводить удобные сообщения и поддерживать более плавный пользовательский опыт.</p>
<p>В заключение следует отметить, что освоение реализации Error Boundaries позволяет разработчикам React создавать более надежные приложения, которые изящно обрабатывают ошибки, обеспечивая более устойчивый и удобный веб-опыт.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Путеводитель по границам ошибок&#38;url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok&#38;title=Путеводитель по границам ошибок&#38;summary=Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой,&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/putevodytel-po-hranytsam-oshybok&#38;media=&#38;description=Эффективное управление ошибками жизненно важно для создания устойчивых и удобных приложений React. Когда ваше приложение сталкивается с непредвиденной ошибкой," target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/uluchshenn-i-obrabotchyk-sostoianyi-na-osnove-redux" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Улучшенный обработчик состояний на основе Redux </a> <a href="/blog/rukovodstvo-dlia-nachynaiuschykh-po-ob-ektno-oryentyrovannomu-prohrammyrovanyiu-oop-na-ruby" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Руководство для начинающих по объектно-ориентированному программированию (ООП) на Ruby </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-extrabold lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>ИГ ФCВР</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>