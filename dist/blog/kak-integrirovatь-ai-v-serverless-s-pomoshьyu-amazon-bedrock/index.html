<!DOCTYPE html><html lang="ru"> <head><title>Как интегрировать ai в Serverless  с помощью Amazon Bedrock - Фул Фронт Дев</title><link rel="canonical" href="https://igorlov.ru/blog/kak-integrirovat%D1%8C-ai-v-serverless-s-pomosh%D1%8Cyu-amazon-bedrock"><meta name="description" content="В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость. Приложения на базе ИИ способны изменить пользова"><meta name="robots" content="index, follow"><!-- favicon --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><!-- theme meta --><meta name="theme-name" content="igorlov.ru"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="generator" content="Astro v4.5.1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- responsive meta --><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><meta name="google-adsense-account" content="ca-pub-0634695143666394"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_regular_.DbkvWnAm.css" />
<style>.breadcrumbs[data-astro-cid-vcbh62el]{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));border-radius:min(1.5rem,1.1625rem + .45vw);padding-left:min(2rem,1.2125rem + 1.05vw);padding-right:min(2rem,1.2125rem + 1.05vw);padding-top:1rem;padding-bottom:1rem}.breadcrumbs[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__list[data-astro-cid-vcbh62el]{display:flex;align-items:center;gap:.125rem}.breadcrumbs__link[data-astro-cid-vcbh62el]{border-radius:9999px;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover{--tw-bg-opacity: 1;background-color:#fce4e1;background-color:rgba(252,228,225,var(--tw-bg-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]{padding:.125rem .75rem}.breadcrumbs__link[data-astro-cid-vcbh62el]:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#6a6a6a;background-color:rgba(106,106,106,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.breadcrumbs__link[data-astro-cid-vcbh62el]:hover:where([class=dark],[class=dark] *){--tw-bg-opacity: 1;background-color:#8a8a93;background-color:rgba(138,138,147,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}
</style>
<link rel="stylesheet" href="/_astro/_single_.BCoIA8H8.css" />
<style>.circular-pagination[data-astro-cid-ihkjvfsn]{display:flex;width:100%;flex-wrap:wrap;align-items:center;justify-content:center;overflow:hidden;border-top-width:1px;--tw-border-opacity: 1;border-color:#020202;border-color:rgba(2,2,2,var(--tw-border-opacity));margin-top:min(1.25rem,1.1375rem + .15vw)}.circular-pagination__link[data-astro-cid-ihkjvfsn]{width:100%;--tw-bg-opacity: 1;background-color:#fef9f8;background-color:rgba(254,249,248,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity));text-decoration-line:none}.circular-pagination__link[data-astro-cid-ihkjvfsn]:hover{--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.circular-pagination__link[data-astro-cid-ihkjvfsn]{padding-left:min(1.5rem,1.1625rem + .45vw);padding-right:min(1.5rem,1.1625rem + .45vw);padding-top:.5rem;padding-bottom:.5rem}
.comments[data-v-533071ec]{margin:auto;margin-top:1.25rem;max-width:42rem;--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.comments:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame[data-v-533071ec]{width:100%;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity: 1;color:#020202;color:rgba(2,2,2,var(--tw-text-opacity))}.giscus-frame:where([class=dark][data-v-533071ec],[class=dark] *[data-v-533071ec]){--tw-bg-opacity: 1;background-color:#131315;background-color:rgba(19,19,21,var(--tw-bg-opacity))}
.theme-toggle[data-v-8d8d9c54]{width:1.25rem;height:1.25rem}
</style><script type="module" src="/_astro/hoisted.DYPnEDpO.js"></script><style>[data-astro-transition-scope="astro-vgmtzcrq-1"] { view-transition-name: blog-image-kak-integrirovat\44C-ai-v-serverless-s-pomosh\44Cyu-amazon-bedrock; }</style></head> <body class="flex min-h-screen flex-col bg-gray-light pt-14 font-inter text-dark fluid:text-lg dark:bg-black dark:text-white"> <header class="header" data-astro-cid-rq644orq> <div class="header__container container" data-astro-cid-rq644orq> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg header__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <div class="nav header__nav" data-astro-cid-7wkmezxd> <button class="nav__open" title="Открыть меню" data-astro-cid-7wkmezxd> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> <span class="nav__open-line" data-astro-cid-7wkmezxd></span> </button> <nav class="nav__container" data-astro-cid-7wkmezxd> <button class="nav__close" title="Закрыть меню" data-astro-cid-7wkmezxd> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> <span class="nav__close-line" data-astro-cid-7wkmezxd></span> </button> <ul class="nav__list" data-astro-cid-7wkmezxd> <li class="nav__item" data-astro-cid-7wkmezxd> <a href="/projects" class="nav__link" data-astro-cid-7wkmezxd> Работы. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="/blog" class="nav__link nav__link--active" data-astro-cid-7wkmezxd> Блог. </a> </li><li class="nav__item" data-astro-cid-7wkmezxd> <a href="#cta" class="nav__link" data-astro-cid-7wkmezxd> Контакты. </a> </li> </ul> </nav> </div>   <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="IJ3dh" component-url="/_astro/ThemeToggle.kpN4JrWQ.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-rq644orq&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}"></astro-island> </div> </header>  <main id="main-content" class="main flex-1">  <div class="blocks"> <div class="blocks__container container"> <nav aria-label="Breadcrumbs" class="breadcrumbs" data-astro-cid-vcbh62el> <ol class="breadcrumbs__list" role="list" data-astro-cid-vcbh62el> <li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/" data-astro-cid-vcbh62el> Главная </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el> <a class="breadcrumbs__link" href="/blog" data-astro-cid-vcbh62el> Blog </a> </li><li class="breadcrumbs__item" role="listitem" data-astro-cid-vcbh62el>  </li> </ol> </nav>  </div> <div class="blocks__container container"> <!-- <TextAds class="fade-in-bottom fluid:my-2" style="--delay: .8s;" /> --><article class="article" data-astro-cid-axzg2cw6> <div class="article__header" data-astro-cid-axzg2cw6> <ul class="article__categories categories" data-astro-cid-axzg2cw6> <li class="categories__item" data-astro-cid-axzg2cw6> <a href="/category/как-закодить" class="categories__link" data-astro-cid-axzg2cw6> Как закодить  </a> </li> </ul> <h1 class="article__title text-wrap" data-astro-cid-axzg2cw6> Как интегрировать ai в Serverless  с помощью Amazon Bedrock </h1> <ul class="article__tags tags" data-astro-cid-axzg2cw6> <li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/ai" data-astro-cid-axzg2cw6> Ai </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/serverless" data-astro-cid-axzg2cw6> Serverless </a> </li><li class="tags__item" data-astro-cid-axzg2cw6> <a class="tags__link" href="/tag/amazon-bedrock" data-astro-cid-axzg2cw6> Amazon Bedrock </a> </li> </ul> <time class="article__date" data-astro-cid-axzg2cw6>
Опубликовано 20 нояб., 2023 by Igor Gorlov </time> <time class="article__date" data-astro-cid-axzg2cw6> Последнее изменение: 21 мар., 2024 </time> </div>  <figure class="article__image" data-astro-cid-axzg2cw6> <picture> <source srcset="/_astro/kak-integrirovat%D1%8C-ai-v-serverless-s-pomosh%D1%8Cyu-amazon-bedrock-Nov-20-2023.CU-8ws81_Z14ytiK.avif" type="image/avif"><source srcset="/_astro/kak-integrirovat%D1%8C-ai-v-serverless-s-pomosh%D1%8Cyu-amazon-bedrock-Nov-20-2023.CU-8ws81_1PWtfE.webp" type="image/webp"> <img src="/_astro/kak-integrirovat%D1%8C-ai-v-serverless-s-pomosh%D1%8Cyu-amazon-bedrock-Nov-20-2023.CU-8ws81_Z2buhhi.png" alt="Как интегрировать ai в Serverless  с помощью Amazon Bedrock" class="aspect-auto h-full w-full object-cover object-center" loading="eager" data-astro-cid-axzg2cw6 data-astro-transition-scope="astro-vgmtzcrq-1" width="1200" height="500" decoding="async"> </picture> </figure>  <div class="article__content prose prose-zinc max-w-full break-words dark:prose-invert prose-p:text-balance prose-a:no-underline hover:prose-a:underline prose-figure:-mx-12 prose-figure:w-screen prose-figure:bg-gray-light prose-figure:p-10 prose-figcaption:text-dark dark:prose-figure:bg-dark dark:prose-figcaption:text-white" data-astro-cid-axzg2cw6> <div id="adfox_17062261612859555"></div> <script>(function(){const blockId = "adfox_17062261612859555";

	window.yaContextCb = window.yaContextCb || [];
	window.yaContextCb.push(() => {
		Ya.adfoxCode.createAdaptive(
			{
				ownerId: 1493338,
				containerId: blockId,
				params: {
					p1: 'dawgg',
					p2: 'p',
				},
			},
			['desktop', 'tablet', 'phone'],
			{
				tabletWidth: 830,
				phoneWidth: 480,
				isAutoReloads: true,
			},
		);
	});
})();</script> <div class="article__meta" data-astro-cid-axzg2cw6> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как интегрировать ai в Serverless  с помощью Amazon Bedrock&#38;url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock&#38;title=Как интегрировать ai в Serverless  с помощью Amazon Bedrock&#38;summary=В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость. Приложения на базе ИИ способны изменить пользова&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock&#38;media=&#38;description=В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость. Приложения на базе ИИ способны изменить пользова" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <a class="article__meta-section" href="#comments" data-astro-cid-axzg2cw6> Комментарии</a> </div> <details open class="toc px-5 border border-gray-light lg:px-10 py-2 cursor-pointer"><summary class="toc__title text-xl font-medium">Содержание</summary><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#краткий-обзор-api-интерфейсов-искусственного-интеллекта">Краткий обзор API-интерфейсов искусственного интеллекта</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#цель-данного-учебного-пособия">Цель данного учебного пособия:</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#текущие-возможности-ai-api">Текущие возможности AI API</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#сравнение-доступных-api-для-искусственного-интеллекта">Сравнение доступных API для искусственного интеллекта</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#ключевые-факторы-которые-необходимо-учитывать-при-выборе-api">Ключевые факторы, которые необходимо учитывать при выборе API</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-запросить-доступ-к-модели">Как запросить доступ к модели</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#проект-построение-api-для-планирования-праздников">Проект: Построение API для планирования праздников</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#что-будет-делать-наш-api">Что будет делать наш API</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-настроить-repo">Как настроить Repo</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#создание-лямбды-с-комментариями">Создание лямбды с комментариями</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#подпишитесь-на-api-службы-национальных-парков">Подпишитесь на API Службы национальных парков</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#добавьте-вызов-api-службы-национальных-парков-в-лямбду">Добавьте вызов API Службы национальных парков в лямбду</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#настройка-конфигурации-serverlessyml">Настройка конфигурации Serverless.yml</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#развертывание-и-тестирование">Развертывание и тестирование</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-подготовить-наш-искусственный-интеллект">Как подготовить наш искусственный интеллект</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-вызвать-ai-api">Как вызвать AI API</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-добавить-разрешения-iam-для-вызова-bedrock">Как добавить разрешения IAM для вызова Bedrock</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#развертывание-и-тестирование-снова">Развертывание и тестирование (снова)</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#исправления-в-коде">Исправления в коде</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-увеличить-лимит-токенов">Как увеличить лимит токенов</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#как-улучшить-маршрут">Как улучшить маршрут</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#неудачные-попытки-улучшения">Неудачные попытки улучшения</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#вариант-2---изменить-другие-параметры">Вариант 2 - изменить другие параметры</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#вариант-3---изменить-модель">Вариант 3 - изменить модель</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#результаты">Результаты</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-перейти-на-новый-уровень">Как перейти на новый уровень</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-использовать-этот-процесс-в-других-приложениях">Как использовать этот процесс в других приложениях</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#как-узнать-больше-о-serverless">Как узнать больше о Serverless</a></li></ol></details open><p>В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость.</p>
<p>Приложения на базе ИИ способны изменить пользовательский опыт, автоматизировать сложные задачи и открыть новые возможности. Понимание и использование API-интерфейсов ИИ - важнейший навык для разработчиков, стремящихся быть в авангарде инноваций.</p>
<h2 id="краткий-обзор-api-интерфейсов-искусственного-интеллекта">Краткий обзор API-интерфейсов искусственного интеллекта<a aria-hidden="true" tabindex="-1" href="#краткий-обзор-api-интерфейсов-искусственного-интеллекта"><span class="icon icon-link"></span></a></h2>
<p>API-интерфейсы искусственного интеллекта - это мощные инструменты, позволяющие разработчикам использовать возможности предварительно обученных моделей машинного обучения. Эти API открывают такие функции, как обработка естественного языка, компьютерное зрение и другие, позволяя разработчикам легко внедрять передовые возможности искусственного интеллекта в свои приложения.</p>
<p>Вам больше не нужно разбираться в эпохах обучения и архитектуре нейронных сетей, чтобы использовать ИИ в своих проектах и создавать невероятно мощные функции для своих пользователей.</p>
<h3 id="цель-данного-учебного-пособия">Цель данного учебного пособия:<a aria-hidden="true" tabindex="-1" href="#цель-данного-учебного-пособия"><span class="icon icon-link"></span></a></h3>
<p>Цель этого урока - дать вам знания и практические навыки, необходимые для беспрепятственной интеграции AI API в ваши проекты.</p>
<p>Я проведу вас через весь процесс, начиная с выбора подходящего API для ваших конкретных нужд и заканчивая практической реализацией и лучшими практиками для бесшовной интеграции.</p>
<p>В итоге вы будете хорошо подготовлены к внедрению интеллекта на основе ИИ в свои приложения, что откроет перед вами мир новых возможностей.</p>
<p>Так давайте же вместе отправимся в это путешествие и раскроем истинный потенциал AI API.</p>
<h2 id="текущие-возможности-ai-api">Текущие возможности AI API<a aria-hidden="true" tabindex="-1" href="#текущие-возможности-ai-api"><span class="icon icon-link"></span></a></h2>
<p>Сейчас становится все больше и больше сервисов искусственного интеллекта, доступных через простой API, чем когда-либо прежде. В этой статье мы будем использовать <a href="https://aws.amazon.com/bedrock/" rel="noopener noreferrer nofollow" target="_blank">Amazon Bedrock</a>, но их существует гораздо больше. Даже в Amazon Bedrock доступно 6 моделей, а в будущем появятся новые.</p>
<h3 id="сравнение-доступных-api-для-искусственного-интеллекта">Сравнение доступных API для искусственного интеллекта<a aria-hidden="true" tabindex="-1" href="#сравнение-доступных-api-для-искусственного-интеллекта"><span class="icon icon-link"></span></a></h3>
<p>Чтобы помочь вам принять взвешенное решение, давайте сравним некоторые из ведущих API-интерфейсов искусственного интеллекта, представленных на рынке. Ниже приведена сравнительная таблица некоторых известных вариантов:</p>















































<table><thead><tr><th>API</th><th>Описание</th><th>Цена</th><th>Стоимость</th></tr></thead><tbody><tr><td>GPT-3.5 (16 тыс.)</td><td>Передовая языковая модель, способная как понимать, так и генерировать естественный язык или код</td><td>0,0003 долл. за 1000 входных лексем0,004 долл. за 1000 выходных лексем</td><td></td></tr><tr><td>GPT-4 (32K)</td><td>Самая совершенная система OpenAI, создающая более безопасные и полезные ответы</td><td>$0.06/ 1000 входных лексем$0.12/ 1000 выходных лексем</td><td></td></tr><tr><td>A2I Jurassic-2 Mid model (Bedrock)</td><td>Модель среднего размера, разработанная для достижения баланса между исключительным качеством и доступной ценой</td><td>$0,0125/ 1000 входных жетонов$0,0125/ 1000 выходных жетонов</td><td></td></tr><tr><td>A2I Jurassic-2 Ultra (Bedrock)</td><td>Самая мощная модель AI21, обеспечивающая исключительное качество</td><td>$0,0188/ 1000 входных жетонов$0,0188/ 1000 выходных жетонов</td><td></td></tr><tr><td>Anthropic Claude Instant (Bedrock)</td><td>Передовая крупноязычная модель общего назначения</td><td>$0.00163/ 1000 входных лексем$0.01102/ 1000 выходных лексем</td><td></td></tr><tr><td>Stability AI (Bedrock)</td><td>Генерация изображений</td><td>$0.018 - $0.072 за изображение в зависимости от размера и качества</td><td></td></tr></tbody></table>
<h3 id="ключевые-факторы-которые-необходимо-учитывать-при-выборе-api">Ключевые факторы, которые необходимо учитывать при выборе API<a aria-hidden="true" tabindex="-1" href="#ключевые-факторы-которые-необходимо-учитывать-при-выборе-api"><span class="icon icon-link"></span></a></h3>
<p>При выборе AI API для своего проекта важно учитывать несколько ключевых факторов:</p>
<ol>
<li>** Возможности и особенности API:** Оцените конкретные функциональные возможности, предлагаемые API, и убедитесь, что они соответствуют требованиям вашего проекта. Качество генерируемого контента также может сильно различаться между моделями, поэтому целесообразно протестировать их и посмотреть, насколько хорошо они подходят для вашего случая использования.</li>
<li><strong>Масштабируемость и производительность:</strong> Оцените способность API работать с различными рабочими нагрузками и убедитесь, что он соответствует вашим ожиданиям по производительности, особенно в пиковые нагрузки.</li>
<li><strong>Стоимость:</strong> Понять модель ценообразования API, включая любые сопутствующие расходы на использование, и определить, насколько она соответствует вашему бюджету.</li>
<li><strong>4. Конфиденциальность и безопасность данных:</strong> Убедитесь, что поставщик API соблюдает правила защиты данных и принимает надежные меры безопасности для защиты конфиденциальной информации.</li>
</ol>
<p>Приняв во внимание эти факторы, вы сможете выбрать API для искусственного интеллекта, наиболее полно отвечающий потребностям вашего проекта.</p>
<p>В данном руководстве мы будем использовать Amazon Bedrock, используя <a href="https://aws.amazon.com/bedrock/jurassic/" rel="noopener noreferrer nofollow" target="_blank">A2I Jurassic-2 Mid model.</a>.</p>
<h2 id="как-запросить-доступ-к-модели">Как запросить доступ к модели<a aria-hidden="true" tabindex="-1" href="#как-запросить-доступ-к-модели"><span class="icon icon-link"></span></a></h2>
<p>Поскольку данный сервис является новым, вам необходимо запросить доступ к моделям, которые вы хотите использовать.</p>
<p>Для этого войдите в свою учетную запись AWS, найдите “Bedrock” и выберите вкладку “Base models” слева. Наведите курсор мыши на любую модель, и появится сообщение о том, что в настоящее время у вас нет доступа, и о необходимости запросить доступ в разделе “Model Access”.</p>
<p>Здесь перечислены все модели. Нажмите кнопку редактирования в правом верхнем углу, выберите модели, к которым вы хотите получить доступ, и нажмите кнопку ”Сохранить”. Для этого вам нужно выбрать <code>Jurassic-2 Ultra</code> и <code>Jurassic-2 Mid</code>.</p>
<figure class="igorlov-figure"><img src="https://www.freecodecamp.org/news/content/images/2023/10/Screenshot-2023-09-30-at-18.12.43.png" alt="Screenshot-2023-09-30-at-18.12.43"><figcaption>Screenshot-2023-09-30-at-18.12.43</figcaption></figure>
<p>Выберите модели, для которых вы хотите запросить доступ</p>
<p>Одобрение займет всего минуту или две, но лучше сделать это как можно скорее.</p>
<h2 id="проект-построение-api-для-планирования-праздников">Проект: Построение API для планирования праздников<a aria-hidden="true" tabindex="-1" href="#проект-построение-api-для-планирования-праздников"><span class="icon icon-link"></span></a></h2>
<h2 id="что-будет-делать-наш-api">Что будет делать наш API<a aria-hidden="true" tabindex="-1" href="#что-будет-делать-наш-api"><span class="icon icon-link"></span></a></h2>
<p>Наш API предназначен для упрощения планирования отпуска. Указав код штата места назначения и продолжительность визита, мы составим индивидуальный маршрут, предложив лучшие развлечения и места для посещения.</p>
<h3 id="как-настроить-repo">Как настроить Repo<a aria-hidden="true" tabindex="-1" href="#как-настроить-repo"><span class="icon icon-link"></span></a></h3>
<p>В этом проекте мы будем использовать Serverless Framework. Если вы никогда не использовали его раньше, то можете последовать этому краткому <a href="https://completecoding.io/how-to-deploy-to-aws-from-the-serverless-framework/" rel="noopener noreferrer nofollow" target="_blank">руководству по установке Serverless</a> и все настроить.</p>
<p>В этом проекте мы будем использовать JavaScript, поэтому создайте новое репо следующим образом:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">sls</span><span style="color:#ADD7FF"> create</span><span style="color:#ADD7FF"> --template</span><span style="color:#ADD7FF"> aws-nodejs</span><span style="color:#ADD7FF"> --path</span><span style="color:#ADD7FF"> aiTourGuide</span></span>
<span class="line"></span></code></pre>
<h3 id="создание-лямбды-с-комментариями">Создание лямбды с комментариями<a aria-hidden="true" tabindex="-1" href="#создание-лямбды-с-комментариями"><span class="icon icon-link"></span></a></h3>
<p>Для начала нам нужно создать нашу лямбда-функцию. Я предпочитаю хранить ее в папке <code>/src/functions/{functionName}/index.js</code>. В данном случае имя моей функции будет <code>aiTourGuide</code>.</p>
<p>В новом файле <code>index.js</code> мы можем начать с этого кода. Он пытается получить из запроса состояние и продолжительность, а затем возвращает ответ.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">exports</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">handler</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">state_code</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">duration</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">parse</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">	// Код для генерации маршрута будет находиться здесь</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> response</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">		statusCode</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 200</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">		body</span><span style="color:#A6ACCD">:</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">stringify</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Маршрут сгенерирован успешно!</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">),</span></span>
<span class="line"><span style="color:#A6ACCD">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> response</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<h3 id="подпишитесь-на-api-службы-национальных-парков">Подпишитесь на API Службы национальных парков<a aria-hidden="true" tabindex="-1" href="#подпишитесь-на-api-службы-национальных-парков"><span class="icon icon-link"></span></a></h3>
<p>Теперь мы хотим получить некоторые данные для передачи искусственному интеллекту. Мы могли бы просто попросить его сгенерировать для нас маршрут, но если предоставить ему конкретные данные для работы, то результат обычно оказывается гораздо лучше.</p>
<ol>
<li>Зайдите на сайт [National Park Service API website] (<a href="https://www.nps.gov/subjects/developer/get-started.htm" rel="noopener noreferrer nofollow" target="_blank">https://www.nps.gov/subjects/developer/get-started.htm</a>) и зарегистрируйте API-ключ.</li>
<li>После регистрации вы получите по электронной почте API-ключ для доступа к их сервисам.</li>
</ol>
<h3 id="добавьте-вызов-api-службы-национальных-парков-в-лямбду">Добавьте вызов API Службы национальных парков в лямбду<a aria-hidden="true" tabindex="-1" href="#добавьте-вызов-api-службы-национальных-парков-в-лямбду"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> axios</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> require</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">axios</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> parksApiKey</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> process</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">env</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">parksApiKey</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">exports</span><span style="color:#A6ACCD">.</span><span style="color:#ADD7FF">handler</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> async</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#A6ACCD"> { </span><span style="color:#E4F0FB">state_code</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">duration</span><span style="color:#A6ACCD"> } </span><span style="color:#91B4D5">=</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">parse</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">event</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">    // Выполняем запрос к API Службы национальных парков</span></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#E4F0FB"> parksApiUrl</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> `</span><span style="color:#5DE4C7">https://developer.nps.gov/api/v1/parks?stateCode=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">state_code</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">&#x26;api_key=</span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">parksApiKey</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#E4F0FB"> parksResponse</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#E4F0FB"> axios</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">get</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">parksApiUrl</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">    // Извлечение соответствующих данных из ответа</span></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#E4F0FB"> parks</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> parksResponse</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">park</span><span style="color:#91B4D5"> =></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">        return</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">            name</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> park</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">fullName</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">            описание</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> park</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">description</span></span>
<span class="line"><span style="color:#A6ACCD">        };</span></span>
<span class="line"><span style="color:#A6ACCD">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">    // Код для генерации маршрута с данными о парке будет находиться здесь</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#E4F0FB"> responseBody</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> parks</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">    const</span><span style="color:#E4F0FB"> response</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">        statusCode</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 200</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">        body</span><span style="color:#A6ACCD">:</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">stringify</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">responseBody</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DE4C7C0">    return</span><span style="color:#E4F0FB"> response</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Мы делаем запрос к API парков с помощью Axios, а затем получаем из ответа только <code>название</code> и <code>описание</code> каждого парка. Сейчас мы просто вернем эти данные в API и посмотрим, что мы получим.</p>
<p>Одна вещь, которую мы делаем, - это получение <code>parksApiKey</code> из переменных окружения в начале файла. Чтобы добавить <code>parksApiKey</code> в качестве переменной окружения в файл Serverless Framework <code>serverless.yml</code>, можно выполнить следующие действия:</p>
<ol>
<li>Откройте файл <code>serverless.yml</code> в текстовом редакторе.</li>
<li>Найдите секцию <code>provider</code>, в которой определяются настройки провайдера AWS. Под ней добавьте блок <code>environment</code>, если он еще не существует.</li>
<li>В блоке <code>environment</code> определите переменную окружения следующим образом:</li>
</ol>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">provider</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#5DE4C7">имя</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">aws</span></span>
<span class="line"><span style="color:#5DE4C7">время выполнения</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">nodejs18.x</span></span>
<span class="line"><span style="color:#5DE4C7">окружение</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#5DE4C7">parksApiKey</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">YOUR API KEY</span><span style="color:#A6ACCD">'</span></span>
<span class="line"></span></code></pre>
<h3 id="настройка-конфигурации-serverlessyml">Настройка конфигурации Serverless.yml<a aria-hidden="true" tabindex="-1" href="#настройка-конфигурации-serverlessyml"><span class="icon icon-link"></span></a></h3>
<p>Чтобы развернуть API и наш код, нам нужно указать Serverless, что именно развертывать. Для этого мы изменим секцию <code>functions</code> в конфигурации.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">functions</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#5DE4C7">  aiTourGuide</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#5DE4C7">    handler</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">src/functions/aiTourGuide/index.handler</span></span>
<span class="line"><span style="color:#5DE4C7">    события</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#A6ACCD">      - </span><span style="color:#5DE4C7">httpApi</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#5DE4C7">          path</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">/tourguide</span></span>
<span class="line"><span style="color:#5DE4C7">          метод</span><span style="color:#A6ACCD">: </span><span style="color:#ADD7FF">post</span></span>
<span class="line"></span></code></pre>
<p>Это означает, что мы развернем лямбда-функцию <code>aiTourGuide</code> с конечной точкой post API, указывающей на <code>/tourguide</code>. Просто убедитесь, что в секции handler указан правильный путь для вашего репо и структуры папок.</p>
<p>Если у вас есть <a href="https://completecoding.io/aws-credentials-setup/" rel="noopener noreferrer nofollow" target="_blank">configured your AWS credentials to a specific profile</a>, вам необходимо добавить это в секцию provider, иначе будут использоваться учетные данные AWS по умолчанию.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">provider</span><span style="color:#A6ACCD">: </span><span style="color:#91B4D5">имя</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">aws</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">runtime</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">nodejs18</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">x</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">profile</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Ваш профиль</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">; </span><span style="color:#767C9DB0;font-style:italic">// опционально</span></span>
<span class="line"></span></code></pre>
<h3 id="развертывание-и-тестирование">Развертывание и тестирование<a aria-hidden="true" tabindex="-1" href="#развертывание-и-тестирование"><span class="icon icon-link"></span></a></h3>
<p>Теперь, когда мы создали нашу функцию Lambda и интегрировали API Службы национальных парков, пришло время развернуть и протестировать наш API планирования отдыха.</p>
<ol>
<li><strong>Развертывание:</strong> Все, что нам нужно сделать, - это запустить <code>sls deploy</code> еще раз, и наши изменения будут развернуты.</li>
<li><strong>Тестирование</strong>: С помощью инструмента типа Postman отправьте POST-запрос к вашему API с необходимыми параметрами, такими как <code>state_code</code> и <code>duration</code>. Вы должны получить ответ следующего вида.</li>
</ol>
<figure class="igorlov-figure"><img src="https://www.freecodecamp.org/news/content/images/2023/10/Screenshot-2023-09-30-at-15.56.11.png" alt="Screenshot-2023-09-30-at-15.56.11"><figcaption>Screenshot-2023-09-30-at-15.56.11</figcaption></figure>
<p>Изображение, показывающее ответ</p>
<p>Видно, что у нас есть массив объектов с названием парка и описанием. Именно то, что мы хотели.</p>
<h3 id="как-подготовить-наш-искусственный-интеллект">Как подготовить наш искусственный интеллект<a aria-hidden="true" tabindex="-1" href="#как-подготовить-наш-искусственный-интеллект"><span class="icon icon-link"></span></a></h3>
<p>Далее мы подготовим запрос к API искусственного интеллекта для улучшения рекомендаций по планированию отдыха. Мы будем использовать модель A2I Jurassic-2 Mid с помощью Amazon Bedrock для создания увлекательных описаний рекомендуемых мероприятий.</p>
<p>Как правило, я начинаю с относительно простых подсказок и совершенствую их по мере того, как вижу, как они работают. Я также оборачиваю свою генерацию подсказок в функцию. Впоследствии она может стать довольно большой и сложной, поэтому удобнее не размещать ее в основном обработчике. Часто я размещаю его в отдельном файле!</p>
<p>Начнем с чего-то подобного:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> generatePrompt</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> ({ </span><span style="color:#E4F0FB">parks</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">duration</span><span style="color:#A6ACCD"> }) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> stringListOfParks</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> parks</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">map</span><span style="color:#A6ACCD">(({ </span><span style="color:#E4F0FB">название</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">описание</span><span style="color:#A6ACCD"> }) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#A6ACCD"> `</span><span style="color:#5DE4C7">Название парка: </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">name</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7">:</span></span>
<span class="line"><span style="color:#5DE4C7">	description: </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">description</span><span style="color:#A6ACCD">}`</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	}).</span><span style="color:#E4F0FBD0">join</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">`</span></span>
<span class="line"><span style="color:#5DE4C7">	</span></span>
<span class="line"><span style="color:#A6ACCD">	`</span><span style="color:#A6ACCD">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">	const</span><span style="color:#E4F0FB"> prompt</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> `</span><span style="color:#5DE4C7">Вы являетесь экспертом-гидом в США, который специализируется на разработке итинаров для отдыха в национальных парках.</span></span>
<span class="line"><span style="color:#5DE4C7">	Я собираюсь дать вам описание нескольких парков в этом районе, а также указать продолжительность поездки.</span></span>
<span class="line"><span style="color:#5DE4C7">	Составьте маршрут для этой поездки, указав, какие мероприятия можно провести в каждый день.</span></span>
<span class="line"><span style="color:#5DE4C7">	</span></span>
<span class="line"><span style="color:#5DE4C7">	Продолжительность поездки = </span><span style="color:#A6ACCD">${</span><span style="color:#E4F0FB">длительность</span><span style="color:#A6ACCD">}</span><span style="color:#5DE4C7"> дней</span></span>
<span class="line"><span style="color:#5DE4C7">	</span></span>
<span class="line"><span style="color:#5DE4C7">	Местные национальные парки:</span></span>
<span class="line"><span style="color:#A6ACCD">	${</span><span style="color:#E4F0FB">stringListOfParks</span><span style="color:#A6ACCD">}</span></span>
<span class="line"><span style="color:#A6ACCD">	`</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> prompt</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span></code></pre>
<p>Функция <code>stringListOfParks</code> превращает массив объектов в длинную строку. Возможно, в этом нет необходимости, но подождем и посмотрим.</p>
<p>Затем мы создаем подсказку для ИИ. Мы говорим ИИ, кем он должен быть, какую информацию мы собираемся ему дать и что мы хотим, чтобы он сделал. Для начала все будет в порядке, но со временем мы можем протестировать различные изменения в подсказке, чтобы увидеть, что дает наилучшие результаты.</p>
<h3 id="как-вызвать-ai-api">Как вызвать AI API<a aria-hidden="true" tabindex="-1" href="#как-вызвать-ai-api"><span class="icon icon-link"></span></a></h3>
<p>Теперь, когда у нас есть подсказка, мы можем передать ее в Amazon Bedrock для обработки нашей подсказки. Для этого нужно импортировать AWS SDK и создать <code>bedrockruntime</code>.</p>
<p>Вам также потребуется установить AWS SDK для bedrock, поскольку в настоящее время он не включен ни в одну из версий лямбды:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">npm</span><span style="color:#ADD7FF"> i</span><span style="color:#ADD7FF"> -S</span><span style="color:#ADD7FF"> @aws-sdk/client-bedrock-runtime</span></span>
<span class="line"></span></code></pre>
<p>И добавляем этот код в верхнюю часть нашего файла Lambda.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">{</span><span style="color:#ADD7FF"> BedrockRuntime</span><span style="color:#A6ACCD"> }</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">@aws-sdk/client-bedrock-runtime</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">axios</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">axios</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> bedrockruntime</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7"> new</span><span style="color:#E4F0FBD0"> BedrockRuntime</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span></code></pre>
<p>Мы также используем импорт, а это значит, что нам нужно изменить наш файл <code>index.js</code> на <code>index.mjs</code>. Если бы вы делали это с помощью TypeScript, то переименовывать файл не пришлось бы.</p>
<p>Нам нужно вызвать команду <code>invokeModel</code> и передать ей набор параметров. Я считаю, что проще создать отдельный объект для параметров, чем делать это в одном месте.</p>
<p>В настоящее время не существует асинхронной версии команды <code>invokeModel</code>, поэтому мы обернем ее в обещание.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiPrompt</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> generatePrompt</span><span style="color:#A6ACCD">({</span><span style="color:#E4F0FB"> parks</span><span style="color:#A6ACCD">,</span><span style="color:#E4F0FB"> duration</span><span style="color:#A6ACCD"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiModelId</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">ai21.j2-mid-v1</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">; </span><span style="color:#767C9DB0;font-style:italic">// мы используем модель A2I Jurassic-2 Mid</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> invokeModelParams</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">	body</span><span style="color:#A6ACCD">:</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">stringify</span><span style="color:#A6ACCD">({</span></span>
<span class="line"><span style="color:#ADD7FF">		prompt</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> aiPrompt</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">		maxTokens</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 200</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">		температура</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 0.5</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">		topP</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 0.5</span><span style="color:#A6ACCD">,</span><span style="color:#767C9DB0;font-style:italic"> // необязательно</span></span>
<span class="line"><span style="color:#A6ACCD">	}),</span></span>
<span class="line"><span style="color:#ADD7FF">	modelId</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> aiModelId</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">	accept</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">application/json</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">	contentType</span><span style="color:#A6ACCD">:</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">application/json</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiResponse</span><span style="color:#91B4D5"> =</span><span style="color:#5DE4C7C0"> await</span><span style="color:#5DE4C7"> new</span><span style="color:#ADD7FF"> Promise</span><span style="color:#A6ACCD">((</span><span style="color:#E4F0FB">resolve</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">reject</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#E4F0FB">	bedrockruntime</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">invokeModel</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">invokeModelParams</span><span style="color:#A6ACCD">, </span><span style="color:#91B4D5">function</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">err</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">err</span><span style="color:#A6ACCD">) {</span></span>
<span class="line"><span style="color:#E4F0FBD0">			reject</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">err</span><span style="color:#A6ACCD">); </span><span style="color:#767C9DB0;font-style:italic">// произошла ошибка</span></span>
<span class="line"><span style="color:#A6ACCD">		} else {</span></span>
<span class="line"><span style="color:#E4F0FBD0">			resolve</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">); </span><span style="color:#767C9DB0;font-style:italic">// успешный ответ</span></span>
<span class="line"><span style="color:#A6ACCD">		}</span></span>
<span class="line"><span style="color:#A6ACCD">	});</span></span>
<span class="line"><span style="color:#A6ACCD">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#767C9DB0;font-style:italic">// Извлечение сгенерированного ИИ текста из ответа</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiResponseJson</span><span style="color:#91B4D5"> =</span><span style="color:#ADD7FF"> JSON</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">parse</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">new</span><span style="color:#E4F0FBD0"> TextDecoder</span><span style="color:#A6ACCD">().</span><span style="color:#E4F0FBD0">decode</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">aiResponse</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">body</span><span style="color:#A6ACCD">));</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiItinerary</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> aiResponseJson</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">completions</span><span style="color:#A6ACCD">[</span><span style="color:#5DE4C7">0</span><span style="color:#A6ACCD">].</span><span style="color:#E4F0FB">data</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">text</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> responseBody</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> aiItinerary</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> response</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> {</span></span>
<span class="line"><span style="color:#ADD7FF">	statusCode</span><span style="color:#A6ACCD">:</span><span style="color:#5DE4C7"> 200</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#ADD7FF">	body</span><span style="color:#A6ACCD">:</span><span style="color:#E4F0FB"> responseBody</span><span style="color:#A6ACCD">,</span></span>
<span class="line"><span style="color:#A6ACCD">};</span></span>
<span class="line"><span style="color:#5DE4C7C0">return</span><span style="color:#E4F0FB"> response</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span></code></pre>
<p>Вы можете заметить, что в body мы передаем не только наш запрос. Это связано с тем, что мы можем изменить некоторые другие параметры, чтобы получить другой результат.</p>
<p>LLM работают, выбирая следующее слово в предложении. Параметры <code>temperature</code> и <code>topP</code> управляют тем, выбирает ли модель необычные слова или придерживается наиболее вероятного слова.</p>
<ul>
<li>Температура: Ближе к 1 означает, что будут выбраны более необычные слова, ближе к 0 - более вероятные.</li>
<li>topP: При выборе следующего слова ограничивает количество вариантов, из которых ИИ может выбирать, суммируя вероятности. Числа ближе к 1 означают, что будут выбраны более маловероятные слова.</li>
</ul>
<p>В нашем случае мы хотим, чтобы ответ был относительно творческим, но в то же время правильным, поэтому 0,5 - хорошее начальное значение для обоих вариантов. Если бы мы попросили его описать фантастическую сцену, мы бы выбрали значение temp=0,7 topP=0,8, или если бы мы попросили его написать код обработки данных, мы бы снизили значение до 0,2, так как мы хотим получить ответ, который с большей вероятностью будет правильным.</p>
<p>Эти параметры можно менять и тестировать, чтобы определить, какие значения дают наилучшие результаты. То, какие параметры вы передаете, также [зависит от модели] (<a href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters.html" rel="noopener noreferrer nofollow" target="_blank">https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters.html</a>).</p>
<h3 id="как-добавить-разрешения-iam-для-вызова-bedrock">Как добавить разрешения IAM для вызова Bedrock<a aria-hidden="true" tabindex="-1" href="#как-добавить-разрешения-iam-для-вызова-bedrock"><span class="icon icon-link"></span></a></h3>
<p>Если вашей функции Lambda требуется доступ к ресурсам AWS или сервисам, таким как Amazon Bedrock, необходимо настроить соответствующие разрешения IAM.</p>
<p>В файле serverless.yml в разделе provider необходимо добавить следующее. Это означает, что данная Lambda имеет разрешение на использование <code>bedrock:InvokeModel</code>.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">provider</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">  имя</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">aws</span></span>
<span class="line"><span style="color:#E4F0FB">  время</span><span style="color:#91B4D5"> выполнения</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">nodejs18</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">x</span></span>
<span class="line"><span style="color:#91B4D5">  окружение</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">    parksApiKey</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">ВАШ</span><span style="color:#E4F0FB"> КЛЮЧ</span><span style="color:#E4F0FB"> API</span></span>
<span class="line"><span style="color:#91B4D5">  iam</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">    роль</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">      statements</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">        -</span><span style="color:#91B4D5"> Effect</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">Allow</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5">          Действие</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">            -</span><span style="color:#A6ACCD"> "</span><span style="color:#5DE4C7">bedrock:InvokeModel</span><span style="color:#A6ACCD">"</span></span>
<span class="line"><span style="color:#91B4D5">          Ресурс</span><span style="color:#A6ACCD">: </span><span style="color:#A6ACCD">"</span><span style="color:#5DE4C7">*</span><span style="color:#A6ACCD">"</span></span>
<span class="line"></span></code></pre>
<h3 id="развертывание-и-тестирование-снова">Развертывание и тестирование (снова)<a aria-hidden="true" tabindex="-1" href="#развертывание-и-тестирование-снова"><span class="icon icon-link"></span></a></h3>
<p>После интеграции AI API и обеспечения соответствующих IAM-прав повторно разверните функцию Lambda, выполнив <code>sls deploy</code>. После этого мы можем еще раз протестировать ее, чтобы убедиться, что сгенерированный искусственным интеллектом маршрут отдыха работает правильно.</p>
<p>Используя тот же запрос, что и в прошлый раз, я получил вот такой ответ, и вы должны получить нечто похожее.</p>
<p>День 1:</p>
<ul>
<li>Прибытие в Джексон, штат Миссисипи, и заселение в отель.</li>
<li>Посещение национального монумента ”Дом Медгара и Мирли Эверс”.</li>
<li>Ночь в Джексоне.</li>
</ul>
<p>День 2:</p>
<ul>
<li>Поездка в Натчез, штат Миссисипи, и регистрация в отеле.</li>
<li>Посетите Национальный исторический парк Натчез.</li>
<li>Ночь в Натчезе.</li>
</ul>
<p>День 3:</p>
<ul>
<li>Поездка в Виксбург, штат Миссисипи, и заселение в отель.</li>
<li>Посещение Национального военного парка Виксбурга.</li>
<li>Ночь в Виксбурге.</li>
</ul>
<p>День 4:</p>
<ul>
<li>Поездка в Тупело, штат Миссисипи, и регистрация в отеле.</li>
<li>Посещение Национального поля битвы в Тупело.</li>
<li>Ночь в Тупело.</li>
</ul>
<p>День 5:</p>
<ul>
<li>Поездка в Коринф, штат Миссисипи, и заселение в отель.</li>
<li>Посещение Национального военного парка Шилох.</li>
<li>Ночь в Коринфе.</li>
</ul>
<p>День 6:</p>
<ul>
<li>Переезд в Джексон, штат Миссисипи, и регистрация в отеле.</li>
<li>Посещение национального поля боя Брикс Кросс Роудс.</li>
<li>Ночь в Джексоне.</li>
</ul>
<p>День 7:</p>
<ul>
<li>Поездка в Национальный морской заповедник островов Персидского залива и регистрация в отеле.</li>
</ul>
<h2 id="исправления-в-коде">Исправления в коде<a aria-hidden="true" tabindex="-1" href="#исправления-в-коде"><span class="icon icon-link"></span></a></h2>
<p>Имеется несколько небольших проблем:</p>
<ul>
<li>Он обрывается на половине 7-го дня, хотя мы говорили о 8 днях.</li>
<li>Описания не очень интересны.</li>
</ul>
<h3 id="как-увеличить-лимит-токенов">Как увеличить лимит токенов<a aria-hidden="true" tabindex="-1" href="#как-увеличить-лимит-токенов"><span class="icon icon-link"></span></a></h3>
<p>Причина обрыва ответа заключается в том, что мы изначально передали <code>maxTokens: 200</code> в нашей команде AI. Это можно легко исправить, увеличив это число.</p>
<p>Мы можем установить очень высокое значение, например 10 000, но при этом нам все равно придется платить за все сгенерированные токены. Установка значения 10 000 не сделает каждый ответ длиной в 10 000 токенов, но наличие более разумного лимита защитит нас от неожиданного счета от AWS.</p>
<p>Я установил значение 1000. Если вы хотите пофантазировать, то можете изменить это значение в зависимости от количества дней, на которые они едут.</p>
<h3 id="как-улучшить-маршрут">Как улучшить маршрут<a aria-hidden="true" tabindex="-1" href="#как-улучшить-маршрут"><span class="icon icon-link"></span></a></h3>
<p>С этим вопросом немного сложнее. Проблема в том, что он очень скучен и повторяет множество пунктов: ”Поездка сюда и заселение в отель”, “Ночевка в Y”.</p>
<p>Мы можем попробовать улучшить нашу подсказку, чтобы получить лучший результат. Во-первых, давайте прямо скажем, что не нужно рассказывать о том, что нужно ехать или заселяться в отель.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#767C9DB0;font-style:italic">// Новое содержание</span></span>
<span class="line"><span style="color:#E4F0FB">Не</span><span style="color:#E4F0FB"> пишите</span><span style="color:#E4F0FB"> о</span><span style="color:#E4F0FB"> вождении</span><span style="color:#E4F0FB"> автомобиля</span><span style="color:#A6ACCD">. </span><span style="color:#E4F0FB">Не</span><span style="color:#E4F0FB"> пишите</span><span style="color:#E4F0FB"> о</span><span style="color:#E4F0FB"> заселении</span><span style="color:#E4F0FB"> в</span><span style="color:#E4F0FB"> гостиницы</span><span style="color:#A6ACCD">. </span><span style="color:#E4F0FB">Не</span><span style="color:#E4F0FB"> пишите</span><span style="color:#E4F0FB"> о</span><span style="color:#E4F0FB"> том</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">где</span><span style="color:#E4F0FB"> переночевать</span><span style="color:#A6ACCD">.</span></span>
<span class="line"></span></code></pre>
<p>Мы также можем попросить дать более описательный результат. Я добавил еще одну строку в подсказку:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#E4F0FB">Дайте</span><span style="color:#E4F0FB"> описание</span><span style="color:#E4F0FB"> того</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">что</span><span style="color:#E4F0FB"> они</span><span style="color:#E4F0FB"> увидят</span><span style="color:#E4F0FB"> и</span><span style="color:#E4F0FB"> чем</span><span style="color:#E4F0FB"> можно</span><span style="color:#E4F0FB"> заняться</span><span style="color:#E4F0FB"> в</span><span style="color:#E4F0FB"> каждом</span><span style="color:#E4F0FB"> парке</span><span style="color:#A6ACCD">.</span></span>
<span class="line"></span></code></pre>
<p>Одним из приемов для переразвертывания, когда вы изменили только код, является развертывание функций. Вы можете выполнить команду <code>sls deploy function -f {function name}</code>, которая в нашем случае будет <code>sls deploy function -f aiTourGuide</code>. Это намного быстрее, чем развертывание всего приложения, что позволяет быстрее провести тестирование и, следовательно, быстрее выполнить итерацию.</p>
<h3 id="неудачные-попытки-улучшения">Неудачные попытки улучшения<a aria-hidden="true" tabindex="-1" href="#неудачные-попытки-улучшения"><span class="icon icon-link"></span></a></h3>
<p>Внеся это изменение, я надеялся, что результат улучшится, но этого не произошло. Я перепробовал около 15 различных запросов, и все они имели одинаковую структуру и игнорировали мои указания не говорить об отелях, поездках или ночевках.</p>
<h3 id="вариант-2---изменить-другие-параметры">Вариант 2 - изменить другие параметры<a aria-hidden="true" tabindex="-1" href="#вариант-2---изменить-другие-параметры"><span class="icon icon-link"></span></a></h3>
<p>Если ИИ постоянно дает очень похожие и скучные ответы, можно начать изменять другие параметры. Чтобы повысить креативность ИИ, увеличьте температуру. Я выбрал значение 0,8.</p>
<p>Это должно заставить ИИ выбирать более необычные слова и создавать менее структурированные и более случайные ответы.</p>
<p>К сожалению, ответ получился практически идентичным.</p>
<h3 id="вариант-3---изменить-модель">Вариант 3 - изменить модель<a aria-hidden="true" tabindex="-1" href="#вариант-3---изменить-модель"><span class="icon icon-link"></span></a></h3>
<p>Одним из замечательных моментов в использовании Bedrock является наличие нескольких моделей, и переключение между ними может быть очень простым.</p>
<p>До сих пор мы использовали модель <code>Jurassic-2 Mid</code>, но она не подходит для этой задачи. Возможно, она хороша для более мелких подсказок или более простых задач. Пока же мы можем перейти на использование <code>Jurassic-2 Ultra</code>. Самое удивительное, что это всего лишь одна строка кода:</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> aiModelId</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">ai21.j2-ultra-v1</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">; </span><span style="color:#767C9DB0;font-style:italic">// раньше было ai21.j2-mid-v1</span></span>
<span class="line"></span></code></pre>
<p>BПоскольку они принадлежат одной и той же компании, то имеют одинаковые параметры. Если вы хотите переключиться на одну из других моделей, то, возможно, придется изменить еще несколько параметров в теле <code>invokeModelParams</code>.</p>
<p>Единственное, что я советую сделать с этой более крупной моделью, - увеличить таймаут Lambda. По умолчанию он составляет 6 с, но иногда этого недостаточно.</p>
<pre class="astro-code poimandres" style="background-color:#1b1e28;color:#a6accd; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#91B4D5">функции</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">  aiTourGuide</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">    handler</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">src</span><span style="color:#91B4D5">/</span><span style="color:#E4F0FB">functions</span><span style="color:#91B4D5">/</span><span style="color:#E4F0FB">aiTourGuide</span><span style="color:#91B4D5">/</span><span style="color:#E4F0FB">index</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FB">handler</span></span>
<span class="line"><span style="color:#91B4D5">    таймаут</span><span style="color:#A6ACCD">: </span><span style="color:#5DE4C7">26</span><span style="color:#A6ACCD"> # </span><span style="color:#91B4D5">&#x3C;</span><span style="color:#E4F0FB"> новая</span><span style="color:#E4F0FB"> строка</span><span style="color:#E4F0FB"> конфигурации</span></span>
<span class="line"><span style="color:#91B4D5">    события</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">      -</span><span style="color:#91B4D5"> httpApi</span><span style="color:#A6ACCD">:</span></span>
<span class="line"><span style="color:#91B4D5">          path</span><span style="color:#A6ACCD">: </span><span style="color:#91B4D5">/</span><span style="color:#E4F0FB">tourguide</span></span>
<span class="line"><span style="color:#91B4D5">          метод</span><span style="color:#A6ACCD">: </span><span style="color:#E4F0FB">post</span></span>
<span class="line"></span></code></pre>
<h2 id="результаты">Результаты<a aria-hidden="true" tabindex="-1" href="#результаты"><span class="icon icon-link"></span></a></h2>
<p>С обновленной подсказкой и новой моделью мы получаем гораздо лучший результат:</p>
<p>_День 1:
Начните свое путешествие с осмотра Национального поля боя Брайс-Кросс-Роудс. Вы узнаете о том, что победа конфедератов при Брайс-Кросс-Роудс стала значительной для генерал-майора Натана Бедфорда Форреста, но ее долгосрочное влияние на ход войны оказалось дорогостоящим для конфедератов. Брайс-Кросс-Роудс - прекрасный пример того, как можно выиграть битву, но проиграть войну.</p>
<p>День 2:
Сегодня вы посетите Национальный памятник Эмметту Тиллу и Мейми Тилл-Мобли. В 1955 г. 14-летний Эммет Тилл приехал в город Мони, штат Миссисипи, чтобы навестить родственников. Он был похищен, подвергнут пыткам и убит после того, как якобы свистнул в адрес белой женщины. Его мать, Мэйми Тилл-Мобли, настояла на похоронах с открытым гробом недалеко от их родного города Чикаго. Ее смелое решение позволило миру увидеть расистское насилие, которому подвергся ее сын, и положило начало движению за гражданские права.</p>
<p>День 3:
Национальное морское побережье островов Персидского залива - идеальное место для посещения сегодня. Миллионы посетителей привлекают изумрудные воды Мексиканского залива, великолепные белые пляжи, плодородные болота и исторические ландшафты Gulf Islands National Seashore. Приезжайте на экскурсию вместе с нами!</p>
<p>День 4:
Следующий по списку - Национальный монумент ”Дом Медгара и Мирли Эверс”. Медгар и Мирли Эверс были партнерами в борьбе за гражданские права. Убийство Медгара Эверса в гараже их дома 12 июня 1963 г. стало первым убийством общенационально значимого лидера американского движения за гражданские права и послужило катализатором принятия Закона о гражданских правах 1964 года. Мирли Эверс продолжала отстаивать вопросы расового равенства и социальной справедливости.</p>
<p>День 5:
Национальный исторический парк Натчез - прекрасное место для посещения сегодня. Откройте для себя историю всех народов, населяющих Натчез, штат Миссисипи, от европейского заселения, африканского рабства, американской хлопковой экономики до борьбы за гражданские права в низовьях реки Миссисипи.</p>
<p>День 6:
Сегодня вы отправитесь на экскурсию по Национальной живописной тропе Натчез-Трейс (Natchez Trace National Scenic Trail). Национальная пешеходная тропа Натчез-Трейс - это пять участков пешеходной тропы, проходящей примерно параллельно 444-мильной живописной автомобильной дороге Натчез-Трейс Парквей. Общая протяженность пешеходных троп составляет более 60 миль, что позволяет исследовать водно-болотные угодья, болота, лиственные леса и познакомиться с историей этой местности. Информацию о том, что открыто и что закрыто, можно найти на сайте <a href="http://www.nps.gov/natr/planyourvisit/what-is-open-what-is-closed.htm" rel="noopener noreferrer nofollow" target="_blank">www.nps.gov/natr/planyourvisit/what-is-open-what-is-closed.htm</a>.</p>
<p>День 7:
Парковая дорога Natchez Trace Parkway - идеальное место для посещения сегодня. Natchez Trace Parkway - это 444-мильная рекреационная дорога и живописный маршрут, проходящий через три штата. Она проходит по ”Старому Натчезскому тракту” - историческому коридору, по которому ездили американские индейцы, “кайнтуки”, европейские поселенцы, работорговцы, солдаты и будущие президенты. Сегодня вдоль Паркуэя можно не только проехать, но и совершить пешие, велосипедные, конные прогулки, а также разбить палаточный лагерь.</p>
<p>День 8:
Завершите свое путешествие знакомством с Национальным военным парком Шилох (Shiloh National Military Park). Посетите места самого грандиозного сражения на западном театре Гражданской войны. Почти 110 000 американских солдат сражались в кровавом поединке, в результате которого погибло 23 746 человек - больше, чем во всех предыдущих войнах Америки, вместе взятых. Исследуйте поля сражений в Шилохе и Коринфе, чтобы узнать, как эта битва повлияла на солдат и на всю страну.</p>
<p>Затем я решил попробовать это с моделями Claude Instant, чтобы посмотреть, насколько хорошо это получается. Для этого необходимо изменить <a href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters.html#model-parameters-claude" rel="noopener noreferrer nofollow" target="_blank">переданные параметры модели</a>, но это не слишком отличается.</p>
<p>Как видите, эта модель работает примерно так же, как и модель <code>Jurassic-2 Ultra</code>, но если посмотреть на таблицу цен, то она в 10 раз дешевле по входным жетонам и на 60% дешевле по выходным жетонам.</p>
<p>На основе приведенных описаний можно составить 8-дневный маршрут, в котором основное внимание будет уделено посещению национальных парков.</p>
<p>День 1: Проведите утро в национальном парке Брикс-Кросс-Роудс (Brices Cross Roads National Battlefield Site), чтобы узнать о победе конфедератов в этом месте с помощью путевых экспонатов и короткометражного фильма. Во второй половине дня посетите Национальный памятник Эмметту Тиллу и Мейми Тилл-Мобли, чтобы узнать об их истории и ее влиянии на движение за гражданские права.</p>
<p><em>День 2: Посвятите весь день знакомству с Национальным морским побережьем островов Персидского залива. Прогуляйтесь пешком или на велосипеде по живописным прибрежным тропам, собирайте ракушки на пляже, наблюдайте за дикими животными вдоль береговой линии и в болотах.</em></p>
<p>День 3: Проведите утро, осматривая сохранившийся Национальный монумент ”Дом Медгара и Мирли Эверс” и узнавая об их деятельности по защите гражданских прав. Во второй половине дня посетите Национальный исторический парк Натчез (Natchez National Historical Park), чтобы познакомиться с разнообразной историей района Натчез через исторические здания, пешеходные тропы и экспозиции.</p>
<p>День 4: Насладитесь живописной поездкой по трассе Natchez Trace Parkway, останавливаясь на различных обзорных площадках для фотографирования. Для более активного времяпрепровождения можно совершить пешую или велосипедную прогулку по прилегающей Национальной живописной тропе Natchez Trace National Scenic Trail.</p>
<p>День 5: Погрузитесь в эпическую историю Гражданской войны в Национальном военном парке Шилох, осмотрев места сражений и узнав о кровопролитной двухдневной битве, произошедшей там.</p>
<p>День 6: Проведите утро на Национальном поле битвы в Тупело (Tupelo National Battlefield), узнав о сражении 1864 года, произошедшем в этом городе. Во второй половине дня вы отправитесь в Национальный военный парк Виксбурга, где вам покажут обзорный фильм и проведут экскурсию по обширным полям сражений и укреплениям.</p>
<p>День 7: Еще один день посвятите дальнейшему знакомству с Виксбургским национальным военным парком, например, посетите экскурсию под руководством рейнджера или пройдитесь по дополнительным тропам, чтобы узнать о нюансах длительной осады, которая здесь проходила.</p>
<p>День 8: Перед отъездом вернитесь в любимый парк, который вы посетили в начале недели, для дополнительного изучения или для того, чтобы увидеть то, что вы, возможно, пропустили вначале.</p>
<p>Я также протестировал модель Claude v2, которая является более продвинутой, но при этом стоит примерно столько же, сколько модель Jurassic-2 Ultra. Это не дало заметного улучшения отклика, поэтому для данного случая использования я бы однозначно остановился на модели Anthropic Claude Instant.</p>
<h2 id="как-перейти-на-новый-уровень">Как перейти на новый уровень<a aria-hidden="true" tabindex="-1" href="#как-перейти-на-новый-уровень"><span class="icon icon-link"></span></a></h2>
<p>Это действительно хорошее начало для такой простой подсказки. Вы можете продолжить работу над ней, улучшая ее и тестируя различные стили и формулировки. Можно попытаться найти другие источники информации, которые можно было бы включить в подсказку, поскольку предоставление полезной информации для использования в ответе часто является лучшим способом улучшить результаты таких моделей.</p>
<h2 id="как-использовать-этот-процесс-в-других-приложениях">Как использовать этот процесс в других приложениях<a aria-hidden="true" tabindex="-1" href="#как-использовать-этот-процесс-в-других-приложениях"><span class="icon icon-link"></span></a></h2>
<p>В ходе этого процесса вы научились создавать приложение, использующее возможности искусственного интеллекта. Теперь вы можете следовать этому процессу, чтобы добавить возможности ИИ в свои собственные приложения AWS.</p>
<ul>
<li>Найдите сценарий использования, в котором ИИ мог бы генерировать контент</li>
<li>Соберите некоторые данные, которые помогут ИИ создать лучший ответ.</li>
<li>Сгенерируйте подсказку</li>
<li>Вызовите функцию <code>InvokeModel</code> в Bedrock</li>
<li>Разверните и протестируйте свою функцию ИИ</li>
<li>Измените запрос и параметры, чтобы увидеть, что приводит к наилучшим ответам</li>
</ul>
<h2 id="как-узнать-больше-о-serverless">Как узнать больше о Serverless<a aria-hidden="true" tabindex="-1" href="#как-узнать-больше-о-serverless"><span class="icon icon-link"></span></a></h2>
<p>Теперь, когда вы знаете, как встроить искусственный интеллект в свои приложения, у вас наверняка есть множество идей.</p>
<p>Если вы хотите узнать, как реализовать остальные идеи, ознакомьтесь с моим <a href="https://completecoding.io/the-ultimate-guide-to-backend-serverless-development/" rel="noopener noreferrer nofollow" target="_blank">Окончательным руководством по Serverless</a> или с моим курсом <a href="https://serverlessmasterclass.com/7-serverless-projects?utm_source=freecodecamp&#x26;utm_medium=text" rel="noopener noreferrer nofollow" target="_blank">Освойте Serverless, создав 7 реальных проектов</a>.</p> <div class="share article__share" data-astro-cid-g7nhfqu5> <h3 class="share__title" data-astro-cid-g7nhfqu5>Поделиться:</h3> <ul class="share__list" data-astro-cid-g7nhfqu5> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://vk.com/share.php?url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Vk
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="facebook share button" href="https://facebook.com/sharer/sharer.php?u=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Fb
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="twitter share button" href="https://twitter.com/share?title=Как интегрировать ai в Serverless  с помощью Amazon Bedrock&#38;url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
X
</a> </li><li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="linkedin share button" href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock&#38;title=Как интегрировать ai в Serverless  с помощью Amazon Bedrock&#38;summary=В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость. Приложения на базе ИИ способны изменить пользова&#38;source=https://igorlov.ru/" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Linkd
</a> </li> <li class="share__item" data-astro-cid-g7nhfqu5> <a class="share__link" aria-label="pinterest share button" href="https://pinterest.com/pin/create/button/?url=https://igorlov.ru/blog/kak-integrirovatь-ai-v-serverless-s-pomoshьyu-amazon-bedrock&#38;media=&#38;description=В современном технологическом ландшафте интеграция искусственного интеллекта уже не роскошь, а необходимость. Приложения на базе ИИ способны изменить пользова" target="_blank" rel="noreferrer noopener nofollow" data-astro-cid-g7nhfqu5>
Pint
</a> </li> </ul>  </div> <nav class="circular-pagination" aria-label="Circular Pagination" data-astro-cid-ihkjvfsn> <a href="/blog/kak-poluchyt-yzobrazhenyia-cherez-unsplash-api-s-pomoschiu-javascript" class="circular-pagination__link circular-pagination__link--prev" data-astro-cid-ihkjvfsn> Как получить изображения через Unsplash API с помощью Javascript </a> <a href="/blog/realizaciya-live-search-na-javascript" class="circular-pagination__link circular-pagination__link--next" data-astro-cid-ihkjvfsn> Реализация live search на JavaScript </a> </nav>  </div> </article> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1T5Wnr" prefix="r0" component-url="/_astro/YandexRelatedAds.svLg6TOn.js" component-export="default" renderer-url="/_astro/client.D9Vng9vH.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;YandexRelatedAds&quot;,&quot;value&quot;:true}" await-children=""><div id="yandex_rtb_C-A-2592503-2"></div><!--astro:end--></astro-island> <astro-island uid="Z2a8j9B" component-url="/_astro/CommentBlock.BwogX8bT.js" component-export="default" renderer-url="/_astro/client.DtEXyQF-.js" props="{&quot;data-astro-cid-axzg2cw6&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;CommentBlock&quot;,&quot;value&quot;:true}"></astro-island>  </div> <!-- <div class="blocks__container container">
			<CtaBlock id="cta" class=""
			/>
		</div> --> </div>    </main> <footer class="footer" data-astro-cid-dwelrhxs> <div class="footer__container container" data-astro-cid-dwelrhxs> <a href="/" class="logo font-medium lowercase transition-colors fluid:text-lg footer__logo dark:hover:text-light text-dark  dark:text-gray" aria-label="logo" data-astro-cid-ijoll5s5>Фул фронт дев</a>  <small class="footer__copyright" data-astro-cid-dwelrhxs>все права защищены. © 2024</small> </div> </footer>  </body></html>