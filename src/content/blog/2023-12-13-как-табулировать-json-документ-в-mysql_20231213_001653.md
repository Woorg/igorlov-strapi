---
title: –ö–∞–∫ —Ç–∞–±—É–ª–∏—Ä–æ–≤–∞—Ç—å JSON-–¥–æ–∫—É–º–µ–Ω—Ç –≤ MySQL
meta_title: –ö–∞–∫ —Ç–∞–±—É–ª–∏—Ä–æ–≤–∞—Ç—å JSON-–¥–æ–∫—É–º–µ–Ω—Ç –≤ MySQL - –§—É–ª –§—Ä–æ–Ω—Ç –î–µ–≤
description: >-
  –í—ã –º–æ–∂–µ—Ç–µ —Ç–∞–±—É–ª–∏—Ä–æ–≤–∞—Ç—å JSON–¥–æ–∫—É–º–µ–Ω—Ç (–ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏) –≤ MySQL —Å
  –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `JSON_TABLE`.

   **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï**: –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω
date: 2023-12-12T21:09:24.836Z
image: ../../assets/images/kak-tabulyrovat-json-dokument-v-mysql-Dec-13-2023.avif
categories:
  - –£—á–µ–±–Ω–∏–∫
author: Igor Gorlov
tags:
  - Mysql
  - Json
draft: false
translated: ''
translatedPosition: ''
type: blog
slug: kak-tabulyrovat-json-dokument-v-mysql
lastmod: 2024-03-20T21:26:45.595Z
---

–í—ã –º–æ–∂–µ—Ç–µ —Ç–∞–±—É–ª–∏—Ä–æ–≤–∞—Ç—å JSON-–¥–æ–∫—É–º–µ–Ω—Ç (–ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏) –≤ MySQL —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `JSON_TABLE`.

> **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï**: –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ [MySQL JSON functions documentation page](https://dev.mysql.com/doc/refman/8.0/en/json.html)

üëâ –ù—É–∂–Ω–∞ **–ë–ï–°–ü–õ–ê–¢–ù–ê–Ø** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL? –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã Aiven](https://go.aiven.io/francesco-signup)üëà

## [](https://dev.to/ftisiot/how-to-tabulate-a-json-document-in-mysql-57ip#the-dataset)–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É—é—â–∏–π:

```json
{
	"id": 778,
	"shop": "Luigis Pizza",
	"name": "–≠–¥–≤–∞—Ä–¥ –û–ª—Å–æ–Ω",
	"phoneNumbers": ["(935)503-3765x4154", "(935)12345"],
	"address": "Unit 9398 Box 2056 DPO AP 24022",
	"image": null,
	"pizzas": [
		{
			"pizzaName": "–°–∞–ª—è–º–∏",
			"additionalToppings": ["ü•ì", "üå∂Ô∏è"]
		},
		{
			"pizzaName": "Margherita",
			"additionalToppings": ["üçå", "üå∂Ô∏è", "üçç"]
		}
	]
}
```

–í —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø–∏—Ü—Ü—ã, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –∑–∞–∫–∞–∑:

- `id`: 778
- `–º–∞–≥–∞–∑–∏–Ω`: ‚ÄúLuigis Pizza‚Äù
- `–∏–º—è`: ‚Äù`–≠–¥–≤–∞—Ä–¥ –û–ª—Å–æ–Ω`.
- `phoneNumbers`:\[‚Äù(935)503-3765x4154‚Äù,‚Äù(935)12345‚Äù\]
- `–ê–¥—Ä–µ—Å`: ‚ÄúUnit 9398 Box 2056 DPO AP 24022‚Äù
- `–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ`: null
- –∏ –¥–≤–µ –ø–∏—Ü—Ü—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤ —ç–ª–µ–º–µ–Ω—Ç–µ `pizzas`:

```json
[
	{
		"pizzaName": "–°–∞–ª—è–º–∏",
		"additionalToppings": ["ü•ì", "üå∂Ô∏è"]
	},
	{
		"pizzaName": "Margherita",
		"additionalToppings": ["üçå", "üå∂Ô∏è", "üçç"]
	}
]
```

–ï–≥–æ –º–æ–∂–Ω–æ –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

```sql
—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É test(id serial primary key, json_data json);

insert into test(json_data) values (
'{
    "id": 778,
    "shop": "Luigis Pizza",
    "name": "–≠–¥–≤–∞—Ä–¥ –û–ª—Å–æ–Ω",
    "phoneNumbers":
        ["(935)503-3765x4154","(935)12345"],
    "address": "Unit 9398 Box 2056 DPO AP 24022",
    "image": null,
    "pizzas": [
        {
            "pizzaName": "–°–∞–ª—è–º–∏",
            "additionalToppings": ["ü•ì", "üå∂Ô∏è"]
        },
        {
            "pizzaName": "Margherita",
            "additionalToppings": ["üçå", "üå∂Ô∏è", "üçç"]
        }
    ]
}');
```

## [](https://dev.to/ftisiot/how-to-tabulate-a-json-document-in-mysql-57ip#tabulate-a-json-document-with-raw-jsontable-endraw-function)–¢–∞–±—É–ª—è—Ü–∏—è JSON-–¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `JSON_TABLE`.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ JSON-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —Å—Ç—Ä–æ–∫, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `JSON_TABLE`. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∏—Ü—Ü –∏ –∏—Ö –ø–µ—Ä–≤—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—á–∏–Ω–æ–∫ –∏–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤—ã—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã, –≤—ã –º–æ–∂–µ—Ç–µ:

```sql
select tbl.* from
    test,
    JSON_TABLE(
        json_data,
        '$.pizzas[*]'
        COLUMNS (
            pizzaName VARCHAR(100) PATH '$.pizzaName',
            additionalToppings VARCHAR(100) PATH '$.additionalToppings[0]'
            )
        ) tbl;
```

–ì–¥–µ

- `json_data` - —Å—Ç–æ–ª–±–µ—Ü JSON
- `'$.pizzas[*]'` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∏—Ü—Ü—ã –≤ –º–∞—Å—Å–∏–≤–µ `pizzas`.
- `pizzaName VARCHAR(100) PATH '$.pizzaName'` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª–µ `pizzaName`.
- `additionalToppings VARCHAR(100) PATH '$.additionalToppings[0]'` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (`[0]`) –º–∞—Å—Å–∏–≤–∞ `additionalToppings`.

–†–µ–∑—É–ª—å—Ç–∞—Ç

```sql
+------------+--------------------+
| pizzaName | additionalToppings |
+------------+--------------------+
| –°–∞–ª—è–º–∏ | ü•ì |
| –ú–∞—Ä–≥–µ—Ä–∏—Ç–∞ | üçå |
+------------+--------------------+
```

–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è JSON MySQL, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –Ω–∞ [–≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ](https://ftisiot.net/mysqljson/main)
