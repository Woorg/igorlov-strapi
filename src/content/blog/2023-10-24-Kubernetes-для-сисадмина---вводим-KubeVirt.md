---
title: Kubernetes –¥–ª—è —Å–∏—Å–∞–¥–º–∏–Ω–∞ - –≤–≤–æ–¥–∏–º KubeVirt
meta_title: |
  Kubernetes –î–ª—è –°–∏—Å–∞–¥–º–∏–Ω–∞ - –í–≤–æ–¥–∏–º KubeVirt - –§—É–ª –§—Ä–æ–Ω—Ç –î–µ–≤
description: >
  –í—Å–µ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –∫–∞–∫–æ–π-—Ç–æ –≤–∏–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–∞–º–∏
  –ø–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ/—Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏. –û–¥–Ω–∏ –ø–∏—Å–∞–ª–∏ –∫–æ–¥, –∞ –¥—Ä—É–≥–∏–µ...
date: 2023-10-23T22:00:18.408Z
image: ../../assets/images/kubernetes-dlya-sisadmina-vvodim-kubevirt-Oct-24-2023.avif
categories:
  - –ö–∞–∫ –∑–∞–∫–æ–¥–∏—Ç—å
author: Igor Gorlov
tags:
  - DevOps
  - Kubernetes
  - KubeVirt
draft: false
keywords:
  - Kubernetes –¥–ª—è —Å–∏—Å–∞–¥–º–∏–Ω–∞
type: blog
slug: kubernetes-dlya-sisadmina-vvodim-kubevirt
lastmod: 2024-03-20T21:26:45.583Z
---

–í—Å–µ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –∫–∞–∫–æ–π-—Ç–æ –≤–∏–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–∞–º–∏ –ø–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ/—Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏. –û–¥–Ω–∏ –ø–∏—Å–∞–ª–∏ –∫–æ–¥, –∞ –¥—Ä—É–≥–∏–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —ç—Ç–æ—Ç –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–ª. –° —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –¥–≤–∏–∂–µ–Ω–∏—è–º–∏, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–º–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –æ–±–ª–∞—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, DevOps –∏ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –≤–∫–ª–∞–¥–∞ –≤ open source –ø—Ä–æ–µ–∫—Ç—ã, –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –Ω–∏–º–∏ —Å—Ç–∞–ª–∏ —Ä–∞–∑–º—ã—Ç—ã–º–∏. –í—Å–µ –Ω–∞—á–∞–ª–∏ –ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ–±–ª–∞–∫–µ.

–° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º Kubernetes —ç—Ç–∏ –≥—Ä–∞–Ω–∏ –µ—â–µ –±–æ–ª–µ–µ —Ä–∞–∑–º—ã—Ç—ã. –í—Å–µ –Ω–∞—á–∞–ª–∏ –ø–∏—Å–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –∫—É—Å–∫–∏ –∫–æ–¥–∞ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–∫–∏–º–∏ –≤–µ—â–∞–º–∏, –∫–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–µ—Ç–∏ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ù–æ —á—Ç–æ –∂–µ –Ω–∞—Å—á–µ—Ç —Ç–µ—Ö —Å—Ä–µ–¥, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ –µ—â–µ —Ç—Ä–µ–±—É—é—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω (VMs)? –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω—ã VMs –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∞–∑–º—ã—Ç–∏–µ –ª–∏–Ω–∏–π –º–µ–∂–¥—É Dev –∏ Ops.

–ò –∑–¥–µ—Å—å –Ω–∞ —Å—Ü–µ–Ω—É –≤—ã—Ö–æ–¥–∏—Ç KubeVirt.

## –ß—Ç–æ —Ç–∞–∫–æ–µ KubeVirt?

–ö–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥–µ—Ç –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏ –∏ Kubernetes, –Ω–∞–º –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö. –í –º–∏—Ä–µ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω, –∏, —á–µ—Å—Ç–Ω–æ –≥–æ–≤–æ—Ä—è, —ç—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –æ—á–µ–Ω—å –¥–æ–ª–≥–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –µ—Å–ª–∏ –≤–æ–æ–±—â–µ –∫–æ–≥–¥–∞-–ª–∏–±–æ. –ü–æ–¥—É–º–∞–π—Ç–µ –æ–± —ç—Ç–æ–º ‚Äì –≥–ª–∞–≤–Ω—ã–µ—Ñ—Ä–µ–π–º—ã –¥–æ —Å–∏—Ö –ø–æ—Ä —Ä–∞–±–æ—Ç–∞—é—Ç.

–ù–µ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–µ–Ω —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏ –≤ Kubernetes, –µ—Å–ª–∏ Kubernetes —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±—ã—Ç—å –±—É–¥—É—â–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –ø–æ –≤—ã–±–æ—Ä—É.

–í–≤–æ–¥–∏–º KubeVirt.

KubeVirt –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–µ—Ç–æ–¥, –ø–æ —Å—É—Ç–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω. –≠—Ç–æ –ø–æ—á—Ç–∏ –ø–æ—Ö–æ–∂–µ –Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω—É—é –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é. –í—ã –±–µ—Ä–µ—Ç–µ –æ–±—Ä–∞–∑ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO –∏–ª–∏ .img –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –µ–≥–æ –≤ Kubernetes. –í—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ, –∫–∞–∫ —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –ø–æ–¥–æ–º, –Ω–æ –æ–Ω "—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è" –≤ Kubernetes –∫–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞.

## –ü–æ—á–µ–º—É KubeVirt

KubeVirt —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è —Ä–∞–±–æ—á–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –≤ Kubernetes ‚Äì –∫–∞–∫ Pod —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (CRD –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏).

KubeVirt –¥–µ–ª–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏ –≤ Kubernetes. –í–∞–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –Ω—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–≤ –µ–µ –∂–µ—Å—Ç–∫–∏–π –¥–∏—Å–∫ –≤ —Ç–æ–º Kubernetes, –∞ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏–≤ –µ–µ –∏–∑ —ç—Ç–æ–≥–æ —Ç–æ–º–∞.

–≠—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏. –ü–æ–¥–æ–±–Ω–æ —Ç–æ–º—É, –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å, –≤–æ–∑–º–æ–∂–Ω–æ, —Å Ansible –∏–ª–∏ Chef –¥–ª—è VMs, –Ω–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Kubernetes. –ï—Å–ª–∏ Kubernetes –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.

–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å: –≤—ã –Ω–µ –ü–û–î–ö–õ–Æ–ß–ê–ï–¢–ï–°–¨ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç. –í—ã –±–µ—Ä–µ—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –±—ã –Ω–∞ —ç—Ç–∏—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö, –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∏—Ö –≤–Ω—É—Ç—Ä–∏ Kubernetes.

–í—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –Ω–∞–ø—Ä—è–º—É—é –∫ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ.

## –†–∞–∑–±–æ—Ä KubeVirt

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ KubeVirt —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏–ª–∏ –æ–±–∞.

–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞. –ï—Å—Ç—å CRD –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –∏ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è, –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏. –° –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API kubevirt.io/v1 —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–∏–º –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ—Å—É—Ä—Å/–æ–±—ä–µ–∫—Ç VirtualMachine.

–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ç–∏–ª–∏—Ç—É –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ virtctl –¥–ª—è KubeVirt. Kubernetes –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–µ–Ω, –ø–æ—ç—Ç–æ–º—É —Ü–µ–ª—å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CLI. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã image-upload –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ ISO –∏–ª–∏ .dmg –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Kubernetes –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é CLI.

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--oMQP_UmC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ps6fsfeiimffkotzolc9.png" alt="–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"/></figure>
<!-- /wp:image -->

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI), —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:

Krew - —ç—Ç–æ —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞–º–∏ –¥–ª—è Kubernetes. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ: <a href="https://krew.sigs.k8s.io/">https://krew.sigs.k8s.io/</a>

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ <code>virtctl</code> —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Krew –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

```bash
kubectl krew install virt
```

## –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –±–∞–∑–µ ARM (–Ω–∞–ø—Ä–∏–º–µ—Ä, Mac M1).

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–ª–∞–≥–∏–Ω virtctl –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Krew, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –±–∞–∑–µ ARM, –Ω–∞–ø—Ä–∏–º–µ—Ä, Mac M1. –ö —Å—á–∞—Å—Ç—å—é, —Å –≤–µ—Ä—Å–∏–∏ 1.0 KubeVirt —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ virtctl –¥–ª—è ARM –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ: <a href="https://github.com/kubevirt/kubevirt/releases/tag/v1.1.0-alpha.0">https://github.com/kubevirt/kubevirt/releases/tag/v1.1.0-alpha.0</a>

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å –∏–º–µ–Ω–µ–º "deployvm" —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

```bash
./virtctl-v1.1.0-alpha.0-darwin-arm64 start deployvm


```

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å virtctl –≤ –≤–∞—à $PATH.

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É Ubuntu –≤ Kubernetes —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º KubeVirt.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ KubeVirt

–°–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å KubeVirt:

- –£–∫–∞–∑–∞–≤ –≤–µ—Ä—Å–∏—é KubeVirt, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π.
- –£—Å—Ç–∞–Ω–æ–≤–∏–≤ CRD (Custom Resource Definitions) –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏.
- –£—Å—Ç–∞–Ω–æ–≤–∏–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏.

```bash
export VERSION=$(curl -s https://api.github.com/repos/kubevirt/kubevirt/releases | grep tag_name | grep -v -- '-rc' | sort -r | head -1 | awk -F': ' '{print $2}' | sed 's/,//' | xargs)

echo $VERSION

kubectl apply -f https://github.com/kubevirt/kubevirt/releases/download/$VERSION/kubevirt-operator.yaml

kubectl apply -f https://github.com/kubevirt/kubevirt/releases/download/$VERSION/kubevirt-cr.yaml


```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>kubectl get all -n kubevirt</code>, –∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤—ã–≤–æ–¥, –ø–æ–¥–æ–±–Ω—ã–π –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º—É –Ω–∏–∂–µ:

```bash
kubectl get all -n kubevirt
                               READY   STATUS    RESTARTS      AGE
pod/virt-api-5db54b85bd-65j59          1/1     Running   1 (22h ago)   26h
pod/virt-api-5db54b85bd-th5z8          1/1     Running   1 (22h ago)   26h
pod/virt-controller-594d556ff5-gmqdr   1/1     Running   1 (22h ago)   26h
pod/virt-controller-594d556ff5-r2vmr   1/1     Running   1 (22h ago)   26h
pod/virt-handler-ch522                 1/1     Running   0             26h
pod/virt-handler-sx7cs                 1/1     Running   0             26h
pod/virt-handler-wzdnr                 1/1     Running   0             25h
pod/virt-handler-xxkq8                 1/1     Running   0             26h
pod/virt-operator-599794b899-pmcj5     1/1     Running   0             26h
pod/virt-operator-599794b899-qkvcp     1/1     Running   0             26h

NAME                                  TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE
service/kubevirt-operator-webhook     ClusterIP   10.0.217.253   <none>        443/TCP   26h
service/kubevirt-prometheus-metrics   ClusterIP   None           <none>        443/TCP   26h
service/virt-api                      ClusterIP   10.0.226.106   <none>        443/TCP   26h
service/virt-exportproxy              ClusterIP   10.0.206.74    <none>        443/TCP   26h


```

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ KubeVirt –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç VirtualMachine –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –º–∞–Ω–∏—Ñ–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å –∏–º–µ–Ω–µ–º "deployvm" –∏ –æ–±—Ä–∞–∑–æ–º Ubuntu.

```yaml
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  name: deployvm
spec:
  running: true
  template:
    metadata:
      labels:
        kubevirt.io/size: medium
        kubevirt.io/domain: test
    spec:
      domain:
        devices:
          disks:
            - name: containerdisk
              disk:
                bus: virtio
            - name: cloudinitdisk
              disk:
                bus: virtio
          interfaces:
            - name: default
              masquerade: {}
        resources:
          requests:
            memory: 64M
      networks:
        - name: default
          pod: {}
      volumes:
        - name: containerdisk
          containerDisk:
            image: mcas/kubevirt-ubuntu-20.04:latest
        - name: cloudinitdisk
          cloudInitNoCloud:
            userDataBase64: SGkuXG4=
```

üí° –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É <code>start vm</code> –≤–Ω—É—Ç—Ä–∏ <code>virtctl</code>.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ VirtualMachine, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É <code>kubectl get vms</code>, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.

```bash
NAME       AGE   STATUS     READY
deployvm   3s    Starting   False


```

–ß–µ—Ä–µ–∑ –ø—Ä–∏–º–µ—Ä–Ω–æ 30 —Å–µ–∫—É–Ω–¥, —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ "Running".

```bash
NAME       AGE   STATUS    READY
deployvm   42s   Running   True


```

### –î–æ—Å—Ç—É–ø –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —á–µ—Ä–µ–∑ —Ç–æ, —á—Ç–æ –ø–æ —Å—É—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è SSH-–∫–æ–Ω—Å–æ–ª—å—é, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É <code>console</code> –≤–Ω—É—Ç—Ä–∏ CLI <code>virtctl</code>.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–∞—à–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "deployvm", –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

```bash
virtctl console deployvm


```

## –ó–æ–ª–æ—Ç—ã–µ –æ–±—Ä–∞–∑—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ–ø—ã—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–ª–∏ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ç–µ—Ä–º–∏–Ω "–∑–æ–ª–æ—Ç–æ–π –æ–±—Ä–∞–∑" –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –∑–Ω–∞–∫–æ–º –≤–∞–º. –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –æ–±–ª–∞—á–Ω–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏, –≤—ã –º–æ–∂–µ—Ç–µ –∑–Ω–∞—Ç—å –µ–≥–æ –∫–∞–∫ AMI (Amazon Machine Image).

–≠—Ç–æ –æ–±—Ä–∞–∑, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∏–º–µ–Ω–Ω–æ –¥–ª—è –≤–∞—à–∏—Ö –Ω—É–∂–¥. –ù—É–∂–µ–Ω –æ–±—Ä–∞–∑ Ubuntu —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º? –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–æ–Ω –æ–±—Ä–∞–∑–∞, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ. –ù—É–∂–µ–Ω –æ–±—Ä–∞–∑ Windows Server 2019 —Å Active Directory? –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–∫–æ–π –æ–±—Ä–∞–∑, —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∫–ª–æ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–ª–æ–Ω –∫–∞–∫ "–∑–æ–ª–æ—Ç–æ–π –æ–±—Ä–∞–∑".

–í Kubernetes –µ—Å—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞:

<!-- wp:list {"ordered":true} -->
<ol><!-- wp:list-item -->
<li>Containerized Data Importer (CDI).</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>–•—Ä–∞–Ω–µ–Ω–∏–µ ISO-–æ–±—Ä–∞–∑–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–º –æ–±—Ä–∞–∑–µ.</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

CDI - —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤–∑—è—Ç—å .img –∏–ª–∏ ISO, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤ —Ç–æ–º–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã. CDI –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é CRD (Custom Resource Definition) –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –æ—Ç KubeVirt.

–•—Ä–∞–Ω–µ–Ω–∏–µ ISO-–æ–±—Ä–∞–∑–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–º –æ–±—Ä–∞–∑–µ - —ç—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∂–µ—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–º –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –±—É–¥–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥ —Å "ISO –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–º –æ–±—Ä–∞–∑–µ".

–í –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è ISO-–æ–±—Ä–∞–∑ Windows Server 2019.

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Windows

–°–Ω–∞—á–∞–ª–∞ —Å–∫–∞—á–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π ISO-–æ–±—Ä–∞–∑: <a href="https://www.microsoft.com/en-US/evalcenter/evaluate-windows-server-2019?filetype=ISO">—Å—Å—ã–ª–∫–∞ –Ω–∞ ISO Windows Server 2019</a>

–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Dockerfile, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ISO-

```yaml
FROM scratch
ADD  17763.3650.221105-1748.rs5_release_svc_refresh_SERVER_EVAL_x64FRE_en-us.iso /disk/
```

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_xP_kwc---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/z9w2if8biw68w72zc9xh.png" alt="Image description"/></figure>
<!-- /wp:image -->

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –æ–±—Ä–∞–∑ –Ω–∞ Dockerhub. –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ Dockerhub, –≤—ã –º–æ–∂–µ—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å: <a href="https://hub.docker.com/signup">—Å—Å—ã–ª–∫–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ Dockerhub</a>

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ–π—Ç–∏ –≤ —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å Dockerhub —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É.

```bash
docker login name_of_dockerhub_org


```

–í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å.

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –æ–±—Ä–∞–∑, –ø–æ–º–µ—Ç—å—Ç–µ –µ–≥–æ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –Ω–∞ Dockerhub. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è Dockerhub –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è adminturneddevops, –ø–æ—ç—Ç–æ–º—É —è –∏—Å–ø–æ–ª—å–∑—É—é –µ–µ –∏–º—è –≤ –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ.

```bash
docker build -t adminturneddevops/winkube/w2k9_iso:sep2020 .
docker tag docker_id adminturneddevops/winkube:latest
docker push adminturneddevops/winkube:latest

```

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –í–ú

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–æ–∑–¥–∞–Ω –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ Dockerhub, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –í–ú.

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–º (PVC). –ö–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤—ã—à–µ, —Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã –í–ú. –≠—Ç–æ –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –∂–µ—Å—Ç–∫–∏–º –¥–∏—Å–∫–æ–º –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏, –∫–∞–∫–æ–π Storage Class –≤–∞–º –Ω—É–∂–µ–Ω –¥–ª—è –≤–∞—à–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ä–µ–¥—ã.

```yaml
kubectl apply -f - <<EOF
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: winhd
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 100Gi
  storageClassName: name_of_storageclass
EOF


```

–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–π—Ç–µ –í–ú. –í–ú —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞/—Ä–µ—Å—É—Ä—Å–∞ VirtualMachine –∏–∑ API KubeVirt.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Å—Ç—Ä–æ–∫–µ image: –≤—ã —É–∫–∞–∑–∞–ª–∏ –∏–º—è –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ Dockerhub.

```yaml
kubectl apply -f - <<EOF
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  generation: 1
  labels:
    kubevirt.io/os: windows
  name: windowsonkubernetes
spec:
  running: true
  template:
    metadata:
      labels:
        kubevirt.io/domain: vm1
    spec:
      domain:
        cpu:
          cores: 2
        devices:
          disks:
          - cdrom:
              bus: sata
            bootOrder: 1
            name: iso
          - disk:
              bus: virtio
            name: harddrive
          - cdrom:
              bus: sata
              readonly: true
            name: virtio-drivers
        machine:
          type: q35
        resources:
          requests:
            memory: 4096M
      volumes:
      - name: harddrive
        persistentVolumeClaim:
          claimName: winhd
      - name: iso
        containerDisk:
          image: YOUR_DOCKER_HUB_ORG/winkube:latest
      - name:  virtio-drivers
        containerDisk:
          image: kubevirt/virtio-container-disk
EOF


```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ kubectl get vm, –∏ —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –í–ú –∑–∞–ø—É—â–µ–Ω–∞.

```bash
kubectl get vm

NAME                  AGE   STATUS    READY
windowsonkubernetes   21m   Running   True

```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ VNC, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ remote-viewer. –ï—Å–ª–∏ —É –≤–∞—Å –µ—ë –Ω–µ—Ç, –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–æ–π: <a href="https://www.realvnc.com/en/connect/download/viewer/macos/">https://www.realvnc.com/en/connect/download/viewer/macos/</a>

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω virtctl —á–µ—Ä–µ–∑ Krew, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ VNC:

```bash
kubectl virt vnc windowsonkubernetes


```

–ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ virtctl –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

```bash
virtctl vnc windowsonkubernetes


```

–¢–µ–ø–µ—Ä—å –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏ VNC.

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--qO_Y6QlK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h0mirxuxqgg2zrp8x83i.png" alt="Image description"/></figure>
<!-- /wp:image -->

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å Windows –≤ Kubernetes.
