---
title: >-
  –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–æ–∫ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ Rails: –ò—Å–∫—É—Å—Å—Ç–≤–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Å—Ç–∏–ª–µ –ú–∞—Ä–∏
  –ö–æ–Ω–¥–æ
meta_title: >-
  –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–æ–∫ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ Rails: –ò—Å–∫—É—Å—Å—Ç–≤–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Å—Ç–∏–ª–µ –ú–∞—Ä–∏
  –ö–æ–Ω–¥–æ | –ò–≥–æ—Ä—å –ì–æ—Ä–ª–æ–≤ - –§—Ä–æ–Ω—Çe–Ω–¥–µ—Ä
description: >-
  –í–∞–º –∑–Ω–∞–∫–æ–º–æ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –≤—ã –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≤–∑–ª–æ–º–∞—Ç—å –∫–∞–∫–æ–π–Ω–∏–±—É–¥—å –∫–æ–¥,
  —Å–¥–µ–ª–∞—Ç—å –º–æ–∑–≥–æ–≤—É—é —Å–≤–∞–ª–∫—É –∏–¥–µ–π –∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏—Ö? –£–≤–µ—Ä–µ–Ω, —Ç–∞–∫ –±—ã–≤–∞–µ—Ç —É –≤—Å–µ—Ö, –∏
  —ç—Ç–æ —Å–æ–≤
date: 2023-12-18T00:00:00.000Z
categories:
  - –£—á–µ–±–Ω–∏–∫
author: –ò–≥–æ—Ä—å –ì–æ—Ä–ª–æ–≤
type: blog
draft: false
slug: >-
  pryvedenye-v-poriadok-vasheho-koda-rails-yskusstvo-refaktorynha-v-style-mary-kondo
tags:
  - Rails
image: >-
  ../../assets/images/pryvedenye-v-poriadok-vasheho-koda-rails-yskusstvo-refaktorynha-v-style-mary-kondo-Dec-18-2023.avif
lastmod: 2024-03-20T21:26:48.917Z
---

–í–∞–º –∑–Ω–∞–∫–æ–º–æ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –≤—ã –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≤–∑–ª–æ–º–∞—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∫–æ–¥, —Å–¥–µ–ª–∞—Ç—å ‚Äù–º–æ–∑–≥–æ–≤—É—é —Å–≤–∞–ª–∫—É" –∏–¥–µ–π –∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏—Ö? –£–≤–µ—Ä–µ–Ω, —Ç–∞–∫ –±—ã–≤–∞–µ—Ç —É –≤—Å–µ—Ö, –∏ —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ù–æ –∏–Ω–æ–≥–¥–∞ –º—ã –∑–∞–±—ã–≤–∞–µ–º –æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π "—Å–≤–∞–ª–∫–µ –º–æ–∑–≥–æ–≤" –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∂–∏—Ç—å, —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∫–æ–¥–∏—Ç—å, –¥–æ–±–∞–≤–ª—è—è –≤—Å–µ –Ω–æ–≤—ã–µ –∏ –Ω–æ–≤—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É. –ü–æ–∫–∞ –≤ –æ–¥–∏–Ω –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å –≤–∞—Å –Ω–µ –æ—Å–µ–Ω—è–µ—Ç, –∏ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ "—Å—Ç–∞—Ä–æ–º—É –¥—Ä—É–≥—É" - —Å—Ç–∞—Ä–æ–º—É –∫–æ–¥—É - –∏ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ—Ç–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –ø–æ–ª–µ–∑–Ω—ã–º, –ø—Ä–æ—Å—Ç—ã–º –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±—É–¥—É—â–µ–º. –•–æ—Ä–æ—à–∞—è –º—ã—Å–ª—å! –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ –º–Ω–æ–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ - —Ç–∞–∫–æ–µ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—á—É—Å—å –∏ —Ä–∞—Å—Ç—É –≤ —Å–≤–æ–µ–º —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–∏ –¥–æ–±–∏—Ç—å—Å—è –ª—É—á—à–µ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ.

üèÅ –ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥

–í –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º–Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ç–æ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–ª–æ —Ç–æ–ª—å–∫–æ 3 –ø–æ—Å—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–≥–æ–≤–æ—Ä–∏–º –æ–± —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ—Å—Ç–∏, –¥–∞?). –í–æ—Ç –º–æ–π –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥:

`class PostsController < ApplicationController before_action :check_limited_posts, if: :signed_in?, only: :new private def check_limited_posts limited_posts = 3 return unless current_user.posts.size == limited_posts redirect_to posts_path, notice: '–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º 3 –ø–æ—Å—Ç–∞.' end end`

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –∑–¥–µ—Å—å –Ω–µ—Ç –Ω–∏—á–µ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ, –∏ –∫–æ–¥ –≤ –ø–æ—Ä—è–¥–∫–µ - –æ–Ω –Ω–µ ‚Äù–¥–æ–ª–∂–µ–Ω" –º–µ–Ω—è—Ç—å—Å—è, –≤–µ—Ä–Ω–æ? –ù–æ –º—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º, –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ - –æ–¥–Ω–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö, –∫ –∫–æ—Ç–æ—Ä–æ–π –º—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è (–∫–∞–∫ —Å—É–ø–µ—Ä–≥–µ—Ä–æ–∏ —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞!).

## üßπ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

–ò—Ç–∞–∫, —è –∑–∞—Å—É—á–∏–ª —Ä—É–∫–∞–≤–∞ –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–ª –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º –∫–æ–¥–∞, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∏ –≤–æ—Ç —á—Ç–æ —è —Ö–æ—á—É —Å–¥–µ–ª–∞—Ç—å:

–í—ã–≤–µ—Å—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É (–ø–æ—Ç–æ–º—É —á—Ç–æ, –∫—Ç–æ –∑–Ω–∞–µ—Ç, –º–æ–∂–µ—Ç –±—ã—Ç—å, –æ–¥–Ω–∞–∂–¥—ã –º—ã –ø–æ—á—É–≤—Å—Ç–≤—É–µ–º —Å–µ–±—è –±–æ–ª–µ–µ —â–µ–¥—Ä—ã–º–∏).

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –ö–∞–∫ –≤—ã —É–∂–µ –ø–æ–Ω—è–ª–∏, –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ - –¥–µ–ª–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ–µ.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è –º–µ—Ç–æ–¥–∞ `before_action`.

`class PostsController < ApplicationController MAX_POSTS_ALLOWED = 3 before_action :check_max_posts_allowed, if: :signed_in?, only: :new private def check_max_posts_allowed if current_user.posts.size >= MAX_POSTS_ALLOWED redirect_to posts_path, notice: "–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º #{MAX_POSTS_ALLOWED} –ø–æ—Å—Ç–æ–≤" end end`.

–ò –≤—É–∞–ª—è! –ú–µ—Ç–æ–¥ check_max_posts_allowed —Å—Ç–∞–ª –±–æ–ª–µ–µ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–º, –∏ —É –Ω–µ–≥–æ –¥–∞–∂–µ –ø–æ—è–≤–∏–ª–æ—Å—å –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –ª–µ–≥–∫–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—Ä—É—Ç–æ–π –≥—Ä—É–ø–ø—ã –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥). –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —á—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –±—É–¥—É—â–µ–º (–∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è—é—â–∏—Ö—Å—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞). –ò–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å—Ç–∞–ª–∏ –±–æ–ª–µ–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º, –∫–∞–∫ —Ö–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π —Ä–æ–º–∞–Ω.

## üóû –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ–π, –Ω–æ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –°–ª–µ–¥—É—è –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É—è –∫–æ–¥, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–µ –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –≤—Å–µ —Ä–∞–≤–Ω–æ —á—Ç–æ –Ω–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –Ω–∞—à–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–º —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –∏ –Ω–∞—à–∏ –±—É–¥—É—â–∏–µ –¥—Ä—É–∑—å—è —Å–∫–∞–∂—É—Ç –Ω–∞–º —Å–ø–∞—Å–∏–±–æ!

–¢–∞–∫ —á—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ, —á—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥, –≤—Å–ø–æ–º–Ω–∏—Ç–µ –æ —Å–∏–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –ü—Ä–∏–º–∏—Ç–µ –≤—ã–∑–æ–≤, –∏ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –Ω–∞—à –∫–æ–¥ –ª—É—á—à–µ, —á–∏—â–µ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–µ–µ. –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –º—ã –∂–µ —Å—É–ø–µ—Ä–≥–µ—Ä–æ–∏ —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞, –≤–µ—Ä–Ω–æ?

üòâ –ò –µ—â–µ –æ–¥–Ω–æ

–ù–æ –º—ã –µ—â–µ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏! –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –Ω–∞—à –∫–æ–¥ –µ—â–µ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è, –ø–µ—Ä–µ–Ω–µ—Å—è –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å–µ—Ä–≤–∏—Å–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –£—Ö —Ç—ã, –º–æ–¥–Ω—ã–µ —à—Ç—É—á–∫–∏ üòé

## –®–∞–≥ 1: –ü–µ—Ä–µ–Ω–æ—Å–∏–º –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –æ–±—ä–µ–∫—Ç —Å–µ—Ä–≤–∏—Å–∞

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å–µ—Ä–≤–∏—Å–∞ PostValidator –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `app/services`:

`class PostValidator MAX_POSTS_ALLOWED = 3 def self.check_max_posts_allowed(user) user.posts.size >= MAX_POSTS_ALLOWED end end`.

–¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–∏—Ç–µ `PostsController`, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å–µ—Ä–≤–∏—Å–∞ `PostValidator`:

`class PostsController < ApplicationController before_action :check_max_posts_allowed, if: :signed_in?, only: :new private def check_max_posts_allowed if PostValidator.check_max_posts_allowed(current_user) redirect_to posts_path, notice: "–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º #{PostValidator::MAX_POSTS_ALLOWED} –ø–æ—Å—Ç–æ–≤." end end`.

## –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `views.en.yml` –≤ –ø–∞–ø–∫–µ `config/locales`:

`en: posts: new: max_posts_notice: "–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º %{max_posts} –ø–æ—Å—Ç(–æ–≤)."`.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —è –∏—Å–ø–æ–ª—å–∑—É—é —Ñ–∞–π–ª views, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `en.yml`, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ —Ä–µ–ª—å—Å–∞–º–∏. –§–∞–π–ª views —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è—Ö `new, index, show, ...` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `post`.

–î–∞–ª–µ–µ –æ–±–Ω–æ–≤–∏—Ç–µ `PostsController`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:

`class PostsController < ApplicationController before_action :check_max_posts_allowed, if: :signed_in?, only: :new private def check_max_posts_allowed if PostValidator.check_max_posts_allowed(current_user) redirect_to posts_path, notice: t('.posts.max_posts_notice', max_posts: PostValidator::MAX_POSTS_ALLOWED) end end end`.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ `.` –≤ `t('.posts.max_posts_notice',` —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç posts –≤ —Ñ–∞–π–ª–µ views. –ï—Å–ª–∏ –≤—ã –∑–∞–±—É–¥–µ—Ç–µ –æ–± —ç—Ç–æ–º, —Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É `translation missing: en.max_posts_notice`.

–í–æ—Ç –∏ –≤—Å–µ! –¢–µ–ø–µ—Ä—å –Ω–∞—à –∫–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º –∏ –≥–æ—Ç–æ–≤—ã–º –∫ –ª—é–±—ã–º –±—É–¥—É—â–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. –° –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–µ–º–æ–≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º—ã —É–ª—É—á—à–∏–ª–∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞ Ruby on Rails, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≤–µ—Å–µ–ª–∏–≤—à–∏—Å—å. –Ø–ø–ø–∏ üëèüèºü§ñ

–ò –∫–∞–∫ –≤—Å–µ–≥–¥–∞, —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –∫–æ–¥–∏–Ω–≥–∞ üòÄ üíª

[–ò—Å—Ç–æ—á–Ω–∏–∫](https://dev.to/ahmednadar/tidying-up-your-rails-code-the-art-of-refactoring-marie-kondo-style-4lgd)
