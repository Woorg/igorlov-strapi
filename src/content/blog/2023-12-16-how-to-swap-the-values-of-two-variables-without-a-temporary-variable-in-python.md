---
title: >-
  Как поменять местами значения двух переменных без временной переменной в
  Python
meta_title: >-
  Как поменять местами значения двух переменных без временной переменной в
  Python | Игорь Горлов - Фронтeндер
description: >-
  Поменять местами значения двух переменных  распространенная задача в
  программировании. Хотя самый простой подход предполагает использование
  временной переменн
date: 2023-12-16T00:00:00.000Z
categories:
  - Учебник
author: Игорь Горлов
draft: false
slug: >-
  kak-pomeniat-mestamy-znachenyia-dvukh-peremenn-kh-bez-vremennoi-peremennoi-v-python
tags:
  - Python
image: >-
  ../../assets/images/kak-pomeniat-mestamy-znachenyia-dvukh-peremenn-kh-bez-vremennoi-peremennoi-v-python-Dec-16-2023.avif
lastmod: 2024-03-20T21:26:45.215Z
---

Поменять местами значения двух переменных - распространенная задача в программировании. Хотя самый простой подход предполагает использование временной переменной, Python предлагает несколько элегантных методов, позволяющих добиться того же результата без использования дополнительной переменной.

В этом уроке мы рассмотрим некоторые методы замены значений переменных в Python без использования временной переменной.

Почему вы захотите поменять местами значения двух переменных без временной переменной в Python

Обмен значениями двух переменных без использования временной переменной важен в ситуациях, когда вы хотите минимизировать использование памяти или сложность кода.

Хотя использование временной переменной является простым и распространенным методом замены значений, есть ситуации, когда вы можете предпочесть альтернативные методы.

## Преимущества замены без временной переменной

- Эффективность использования памяти: Замена без временной переменной сокращает объем памяти, поскольку вам не нужна дополнительная переменная для временного хранения одного из значений. В некоторых средах с ограниченными ресурсами это может быть важно.
- Краткость: Такие методы, как распаковка кортежей и побитовые операции XOR, предлагают более лаконичные и элегантные решения. Они могут сделать ваш код более читабельным и потребовать меньше строк, что особенно полезно для небольших фрагментов кода.Функциональный и выразительный код: Некоторые разработчики предпочитают лаконичный и выразительный код. Использование этих методов может сделать замысел кода более ясным и уменьшить беспорядок.

## Преимущества использования временной переменной

- Совместимость: Не все сценарии позволяют использовать некоторые продвинутые техники замены. Например, метод побитовой операции XOR предназначен для целых чисел и не очень хорошо работает с другими типами данных.
- Ясность и читаемость: Это проще для понимания разработчиков, которые могут быть не знакомы с более продвинутыми техниками.

Замена значений с помощью временной переменной - самый простой и общепризнанный метод. Удобство обслуживания: Код, в котором используется временная переменная, часто более удобен для сопровождения в долгосрочной перспективе, потому что его легче понять и он меньше подвержен ошибкам.

## Как поменять переменные местами в Python с помощью распаковки кортежей

Python позволяет нам поменять значения двух переменных в одной строке кода с помощью распаковки кортежей. (Подробнее о кортежах в Python вы можете прочитать здесь, если вам нужен обзор).

Распаковка кортежа, также известная как присвоение кортежа или декомпозиция кортежа, позволяет разработчикам присваивать элементы кортежа нескольким переменным в одном операторе.

Эта техника возможна благодаря тому, что вы можете назначить сразу несколько переменных, используя кортеж в правой части оператора присваивания. Вот пример:

```py
a = 5 b = 10 a, b = b, a print("a:", a) print("b:", b)
```

## Использование распаковки кортежей

В этом коде `a` и `b` меняются местами без временной переменной. Значения переназначаются за один шаг, что делает этот подход лаконичным и читабельным.

## Как поменять переменные местами в Python с помощью арифметических операций

Другой подход к замене значений - использование арифметических операций. Здесь мы используем сложение и вычитание, чтобы выполнить замену без дополнительной переменной.

```py
a = 5 b = 10 a = a + b b = a - b a = a - b print("a:", a) print("b:", b)
```

## использование арифметических операций

В этом методе сумма `a` и `b` присваивается `a`, а затем `b` обновляется до разности между новым `a` и старым `b`. Наконец, `a` обновляется, чтобы показать разницу между новым `a` и новым `b`. Результатом является успешная замена значений.

## Как поменять переменные местами в Python с помощью побитового оператора XOR

Для целочисленных значений можно использовать побитовый оператор XOR (^), чтобы поменять значения местами без временной переменной.

Оператор XOR, обозначаемый символом `^`, - это побитовый оператор, который оперирует отдельными битами чисел. Применяя его к целым числам, можно ловко поменять местами значения переменных без временной переменной.

```py
a = 5 b = 10 a = a ^ b b = a ^ b a = a ^ b print("a:", a) print("b:", b)
```

Вот как пошагово работает этот метод

Давайте разберемся, что происходит в приведенном выше коде:

- Начальные значения: В начале `a` устанавливается в 5, а `b` - в 10.
- В двоичном исчислении `a` - это `0101`, а `b` - `1010`.
- XORing `a` и `b` (первая строка):
- Оператор XOR (^) сравнивает двоичные представления `a` и `b` побитно. В двоичном виде `a` - это `0101`, а `b` - `1010`. При XOR он переворачивает биты, которые отличаются, и оставляет биты, которые одинаковы. Результат - `1111` в двоичной системе, что равно 15 в десятичной. Таким образом, после первой строки `a` становится 15.
- XORing `a` и новый `b` (вторая строка):
- Теперь, когда `a` имеет значение 15, а `b` по-прежнему 10, мы XOR `a` с новым `b`.`a ^ b` - это `15 ^ 10`. В двоичном исчислении `a` - это `1111`, а `b` - `1010`. Операция XOR переворачивает разные биты, поэтому результат - `0101` в двоичном исчислении, что равно 5 в десятичном. После этой строки `b` становится 5.
- Снова XORing `a` и новое `b` (третья строка):
  Теперь, Так как `a` равно 15, а `b` равно 5, мы XOR `a` с новым `b` еще раз. `a ^ b` равно `15 ^ 5`. В двоичном исчислении `a` - это `1111`, а `b` - `0101`.Операция XOR снова переворачивает разные биты, так что в результате получается `1010` в двоичном исчислении, что равно 10 в десятичном.После этой строки `a` становится 10.

В этот момент значения `a` и `b` фактически поменялись местами. Операция XOR позволила нам выполнить подмену без использования дополнительной временной переменной.

Этот метод работает потому, что при операции XOR между двумя одинаковыми числами получается 0, а при XOR любого числа с 0 число остается неизменным.

Эта техника - умный способ добиться подмены значений для целочисленных переменных и может быть полезна в сценариях, где приоритетом является эффективность использования памяти или краткость кода. Однако важно помнить, что она разработана специально для целочисленных значений и может работать не так, как ожидается, для других типов данных.

## Как поменять местами переменные в Python с помощью математических выражений (для числовых значений)

Другой простой метод заключается в использовании математических выражений для замены значений.

```python
a = 3 b = 7 a = a + b - (b := a) print("a:", a) print("b:", b)
```

использование математических выражений для обмена значениями.

В Python выражение присваивания `(:=)` позволяет присваивать значение переменной как часть более крупного выражения. Его часто используют для того, чтобы в одной строке одновременно присвоить переменной значение и использовать это присвоенное значение. Это может быть особенно полезно, когда вы хотите избежать повторений и написать более лаконичный код.

Вот что происходит шаг за шагом `b := a`: Эта часть выражения является выражением присваивания. Оно присваивает значение `a` значению `b`. Таким образом, после этого присваивания `b` будет иметь значение `a`, а `a` останется неизменным. Это присваивание происходит внутри более крупного выражения `a + b - (b := a)`: Остальная часть выражения выполняет математические операции. Оно вычисляет сумму `a` и исходного `b`, вычитая значение `b` после того, как ему было присвоено значение `a`.`a + b` складывает исходные значения `a` и `b`.`(b := a)` уже обновило `b` до значения `a`, поэтому эта часть оценивается как `a`.Наконец, результат вычитается из суммы `a` и исходного `b`.

По сути, эта единственная строка кода меняет местами значения `a` и `b` без необходимости использования временной переменной. Она присваивает значение `a` к `b` и значение `b` к `a`, выполняя операцию обмена в одной строке.

Но следует помнить, что выражения присваивания могут сделать код более лаконичным, но также могут сделать его менее читабельным, если вы не знакомы с этой функцией. Поэтому используйте выражения присваивания осторожно и учитывайте удобство чтения и сопровождения при принятии решения об их использовании.

## Как поменять переменные местами в Python с помощью функции

Если вам нужно поменять местами переменные в нескольких местах вашего кода, вы можете создать функцию, чтобы сделать этот процесс более многоразовым.

```py
def swap(a, b): return b, a a = 5 b = 10 a, b = swap(a, b) print("a:", a) print("b:", b)
```

Использование функции в python для логической замены и возврата поменянных значений

Эта функция скрывает логику подстановки и возвращает подмененные значения, делая код более модульным и читабельным.

## Когда использовать каждый метод

Каждый метод замены значений в Python без временной переменной имеет свои сильные и слабые стороны. Выбор метода зависит от конкретного случая использования и ваших предпочтений в кодировании.

Вот краткое описание случаев использования, которые лучше всего подходят для каждого примера, а также некоторые соображения:

### Распаковка кортежа

Пример использования: замена двух значений с учетом простоты и читабельности.Сильные стороны: этот метод лаконичен, прост для понимания и особенно хорошо подходит для замены двух переменных ясным и понятным образом.
Соображения: Метод лучше всего работает с двумя переменными и не подходит для более сложных структур данных.

### Арифметические операции

Пример использования: Простой и понятный метод замены значений, подходящий для широкого спектра сценариев.Сильные стороны: Арифметический подход - это универсальный метод, который хорошо работает с числовыми значениями и легко применяется в различных контекстах.
Минусы: Требуется три арифметические операции, что может быть менее лаконичным, чем другие методы.

### Побитовый оператор XOR

Применение: замена целочисленных значений при минимальном использовании памяти.

Сильные стороны: Этот метод экономит память и лаконичен. Он подходит для сценариев, в которых необходимо сэкономить память и использовать более продвинутый, эффективный подход.

Минусы: Метод специфичен для целых чисел и может быть не очень удобен для разработчиков, не знакомых с побитовыми операциями.

### Математические выражения (выражение присваивания)

Пример использования: Лаконичный метод замены значений при сохранении читабельности кода.

Сильные стороны: Эта техника может быть использована для лаконичной замены значений в одной строке. Она особенно полезна, когда вам нужен баланс между краткостью и удобочитаемостью: Она основана на использовании выражений присваивания (:=), которые могут быть знакомы не всем.

### Использование функции

Полезный пример: Когда вам нужно поменять значения в нескольких местах вашего кода.

Сильные стороны: Создание функции для подмены значений инкапсулирует логику и делает ее многократно используемой. Это полезно, когда вам нужно поменять значения в разных частях кода.

Минусы: Вводится вызов функции, что может быть менее лаконичным для простой одноразовой замены.

Не существует универсального метода, который работал бы лучше в любой ситуации. При выборе следует руководствоваться такими факторами, как конкретный случай использования, типы данных и важность эффективности использования памяти или читабельности кода.

Что касается простоты, то такие методы, как распаковка кортежей и арифметические операции, обычно проще для понимания большинства разработчиков Python. Побитовый метод XOR, хотя и эффективен, может быть менее читабельным и не так часто используется. Метод математических выражений с использованием выражений присваивания лаконичен, но может быть менее привычен для разработчиков, не знакомых с последними возможностями Python.

В конечном итоге выбор оптимального метода зависит от ваших конкретных требований и предпочтений в стиле кодирования. При выборе метода замены значений важно найти баланс между эффективностью, читабельностью и удобством сопровождения.

## Заключение

В этой статье я рассказал, как можно поменять местами значения двух переменных в Python без временной переменной. Мы рассмотрели несколько методов, таких как распаковка кортежей, арифметические операции, побитовые операции XOR, математические выражения или инкапсуляция (скрытие) логики внутри функции.

Эти методы предоставляют варианты для различных ситуаций, от кратких однострочных выражений до многократно используемых функций. Выбирайте тот, который лучше всего подходит для ваших конкретных нужд, учитывая типы данных и контекст вашего кода. Независимо от того, что для вас является приоритетом - удобство чтения, производительность или краткость, Python предлагает решение для всех случаев.
