---
title: >-
  –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å js/ts –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Ç–µ–≤—ã—Ö
  –¥–∞–Ω–Ω—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å x-crawl
meta_title: >-
  –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å js/ts –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Ç–µ–≤—ã—Ö
  –¥–∞–Ω–Ω—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å x-crawl | –ò–≥–æ—Ä—å –ì–æ—Ä–ª–æ–≤ - Fullstack Developer 
description: >-
  xcrawl  —ç—Ç–æ –≥–∏–±–∫–∞—è –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫—Ä–∞—É–ª–µ—Ä–∞ –¥–ª—è Node.js.
  –ì–∏–±–∫–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–º–æ–≥—É—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏
  —Å—Ç–∞–±–∏–ª—å–Ω–æ
date: 2024-02-09T00:00:00.000Z
categories:
  - –ö–∞–∫ –∑–∞–∫–æ–¥–∏—Ç—å
author: –ò–≥–æ—Ä—å –ì–æ—Ä–ª–æ–≤
type: blog
draft: false
slug: >-
  esly-vam-nuzhno-yspolzovat-js_ts-dlia-poluchenyia-bolshoho-kolychestva-setev-kh-dann-kh-v-mozhete-poprobovat-x-crawl
translatedPosition: 24
tags:
  - Node.js
  - TypeScript
image: >-
  ../../assets/images/esly-vam-nuzhno-yspolzovat-js_ts-dlia-poluchenyia-bolshoho-kolychestva-setev-kh-dann-kh-v-mozhete-poprobovat-x-crawl-Feb-09-2024.avif
lastmod: 2024-03-20T21:26:48.637Z
---

x-crawl - —ç—Ç–æ –≥–∏–±–∫–∞—è –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫—Ä–∞—É–ª–µ—Ä–∞ –¥–ª—è Node.js. –ì–∏–±–∫–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–º–æ–≥—É—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ñ–∞–π–ª—ã.

–ï—Å–ª–∏ –≤–∞–º —Ç–∞–∫–∂–µ –Ω—Ä–∞–≤–∏—Ç—Å—è x-crawl, –≤—ã –º–æ–∂–µ—Ç–µ –¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é x-crawl –∑–≤–µ–∑–¥—É, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ, —Å–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à—É –ø–æ–¥–¥–µ—Ä–∂–∫—É!

GitHubÔºöhttps://github.com/coder-hxl/x-crawl

## –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

üî• –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π - –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ mode, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–ª–∑–∞–Ω–∏—è.

‚öôÔ∏èMultiple - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Ñ–∞–π–ª–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–ø—Ä–æ—Å–∞.

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚öíÔ∏è - –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–≤–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å–æ–±—ã—Ç–∏—è–º –∏ —Ç.–¥.

üñãÔ∏è –ì–∏–±–∫–∏–π —Å—Ç–∏–ª—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ API –¥–ª—è –∫—Ä–∞—É–ª–∏–Ω–≥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º, –∏ –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—á–µ–Ω—å —É–Ω–∏–∫–∞–ª–µ–Ω.

‚è±Ô∏è Interval Crawling - –ë–µ–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –∏ —Å–ª—É—á–∞–π–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–∑–∞–Ω–∏—è.

üîÑ Failed Retry (–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å) - –∏–∑–±–µ–≥–∞–π—Ç–µ –Ω–µ—É–¥–∞—á –≤ –ø–æ–ª–∑–∞–Ω–∏–∏ –∏–∑-–∑–∞ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫.

‚û°Ô∏è Proxy Rotation - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏ –æ—Ç–∫–∞–∑–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –æ—à–∏–±–∫–∏ –∏ –∫–æ–¥–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP.

üëÄ –û—Ç–ø–µ—á–∞—Ç–∫–∏ –ø–∞–ª—å—Ü–µ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ - –Ω—É–ª–µ–≤–∞—è –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ –ø–∞–ª—å—Ü–µ–≤ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞—Å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç.

üöÄ –û—á–µ—Ä–µ–¥—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ - –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –æ–¥–Ω–æ–π —Ü–µ–ª–∏ –¥–ª—è –∫—Ä–∞—É–ª–∏–Ω–≥–∞, –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–π–¥–µ–Ω–∞ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π.

üßæ –ñ—É—Ä–Ω–∞–ª –ø–æ–ª–∑–∞–Ω–∏—è - –í–µ–¥–µ—Ç –∂—É—Ä–Ω–∞–ª –ø–æ–ª–∑–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

ü¶æ TypeScript - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω—ã—Ö —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏.

## –ü—Ä–∏–º–µ—Ä

–í–æ–∑—å–º–µ–º, –∫ –ø—Ä–∏–º–µ—Ä—É, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π –∏ –¥–æ–º–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å:

```ts
// Import module ES/CJS
import xCrawl from 'x-crawl';

// Create a crawler instance
const myXCrawl = xCrawl({
	maxRetry: 3,
	intervalTime: { max: 2000, min: 1000 },
});

// Set the crawling task
/* Call the startPolling API to start the polling function, and the callback function will be called every other day */
myXCrawl.startPolling({ d: 1 }, async (count, stopPolling) => {
	// Call the crawlPage API to crawl the page
	const pageResults = await myXCrawl.crawlPage({
		targets: ['https://www.airbnb.cn/s/*/experiences', 'https://www.airbnb.cn/s/plus_homes'],
		viewport: { width: 1920, height: 1080 },
	});

	// Obtain the image URL by traversing the crawled page results
	const imgUrls = [];
	for (const item of pageResults) {
		const { id } = item;
		const { page } = item.data;
		const elSelector = id === 1 ? '.i9cqrtb' : '.c4mnd7m';

		// wait for the page element to appear
		await page.waitForSelector(elSelector);

		// Get the URL of the page image
		const urls = await page.$eval(`${elSelector} picture img`, (imgEls) =>
			imgEls.map((item) => item.src),
		);
		imgUrls.push(...urls.slice(0, 6));

		// close the page
		page.close();
	}

	// Call crawlFile API to crawl pictures
	await myXCrawl.crawlFile({
		targets: imgUrls,
		storeDirs: './upload',
	});
});
```

## —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:

![run-example.gif](../../assets/images/run-example.gif)

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –ø–æ–ª–∑–∞–π—Ç–µ –Ω–∞—É–≥–∞–¥, –ø–µ—Ä–µ–¥ –ø–æ–ª–∑–∞–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª robots.txt. –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ —Å–∞–π—Ç–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≥–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å x-crawl.

## –ü–æ–¥—Ä–æ–±–Ω–µ–µ

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç–µ: https://github.com/coder-hxl/x-crawl.
