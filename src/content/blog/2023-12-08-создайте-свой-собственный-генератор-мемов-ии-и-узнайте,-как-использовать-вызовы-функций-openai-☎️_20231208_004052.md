---
title: >-
  –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ–º–æ–≤ –ò–ò –∏ —É–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π OpenAI ‚òéÔ∏è.
meta_title: >-
  –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ–º–æ–≤ –ò–ò –∏ —É–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π OpenAI ‚òéÔ∏è. - –§—É–ª –§—Ä–æ–Ω—Ç –î–µ–≤
description: >-
  # TL;DR


  –í —ç—Ç–æ–º —É—Ä–æ–∫–µ, —Å–æ—Å—Ç–æ—è—â–µ–º –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π, –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
  –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–µ–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è:

   React & NodeJS w/ T
date: 2023-12-07T21:34:11.173Z
image: >-
  ../../assets/images/sozdaite-svoi-sobstvenn-i-henerator-memov-yy-y-uznaite-kak-yspolzovat-v-zov-funktsyi-openai-Dec-08-2023.avif
categories:
  - –ö–∞–∫ –∑–∞–∫–æ–¥–∏—Ç—å
author: Igor Gorlov
tags:
  - NodeJS
  - React
  - TypeScript
draft: false
translated: ''
translatedPosition: 0
type: blog
slug: >-
  sozdaite-svoi-sobstvenn-i-henerator-memov-yy-y-uznaite-kak-yspolzovat-v-zov-funktsyi-openai
lastmod: 2024-03-20T21:26:43.177Z
---

# TL;DR

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ, —Å–æ—Å—Ç–æ—è—â–µ–º –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π, –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–µ–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è:

- React & NodeJS w/ TypeScript
- OpenAI‚Äôs [Function Calling API](https://platform.openai.com/docs/guides/gpt/function-calling)

https://www.youtube.com/watch?v=4rTXljsphQ8

- ImgFlip.com‚Äôs [Meme creator API](https://imgflip.com/api)

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å, –∑–¥–µ—Å—å: [The Memerator](https://damemerator.netlify.app/../../assets/images/0a0bc9uxabyg8cue2axu.png

[‚≠êÔ∏è –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É üôè](https://www.github.com/wasp-lang/wasp)

# [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#intro)Intro

## [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#call-me-maybe)Call Me, Maybe

–° –ø–æ–º–æ—â—å—é [OpenAI‚Äôs chat completions API](https://platform.openai.com/docs/guides/gpt) —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫—Ä—É—Ç—ã–µ –≤–µ—â–∏. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ChatGPT, –Ω–æ –≤ –≤–∏–¥–µ –≤—ã–∑—ã–≤–∞–µ–º–æ–≥–æ API, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–ù–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å API –º–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ö–æ—Ç–µ–ª–∏, —á—Ç–æ–±—ã GPT –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä JSON, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∏ –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –µ—Å–ª–∏ –≤—ã –ø—Ä–æ—Å–∏–ª–∏ ChatGPT –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –æ–Ω –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É [OpenAI –≤—ã–ø—É—Å—Ç–∏–ª–∞ —Ñ—É–Ω–∫—Ü–∏—é –≤—ã–∑–æ–≤–∞](https://platform.openai.com/docs/guides/gpt/function-calling).

–ü–æ –∏—Ö —Å–ª–æ–≤–∞–º, –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º ‚Äù‚Ä¶–æ–ø–∏—Å—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ GPT, –∞ –º–æ–¥–µ–ª—å —Ä–∞–∑—É–º–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –¥–ª—è –≤—ã–≤–æ–¥–∞ JSON-–æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π".

–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ –≤ –≤—ã–∑–æ–≤ API.

–ò—Ç–∞–∫, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π GPT –ø–æ –≤—ã–∑–æ–≤—É —Ñ—É–Ω–∫—Ü–∏–π, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –≤—ã–∑–æ–≤–∞ [Imgflip.com‚Äôs meme creator API](https://imgflip.com/api)!

## [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#lets-build)Let‚Äôs Build

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ, —Å–æ—Å—Ç–æ—è—â–µ–º –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π, –º—ã –ø–æ—Å—Ç—Ä–æ–∏–º –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React/NodeJS:

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–º–æ–≤ —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π OpenAI –∏ API ImgFlip.com
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ cron –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –º–µ–º–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –º–µ–º–æ–≤
- –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!

–Ø —É–∂–µ –≤—ã–ª–æ–∂–∏–ª —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–¥–µ—Å—å: [https://damemerator.netlify.app](https://damemerator.netlify.app/) - —Ç–∞–∫ —á—Ç–æ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏ –¥–∞–≤–∞–π—Ç–µ‚Ä¶ –Ω–∞—á–Ω–µ–º.

–í –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∑–∏–º –º–µ–º—ã.

–í–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –º—ã –¥–æ–±–∞–≤–∏–º –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è cron –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –º–µ–º–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –º–µ–º—ã.

BTW, –¥–≤–∞ –±—ã—Å—Ç—Ä—ã—Ö —Å–æ–≤–µ—Ç–∞:

1. –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –≥–æ—Ç–æ–≤–æ–º—É –∫–æ–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º —Å —ç—Ç–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å [GitHub Repo –∑–¥–µ—Å—å](https://github.com/vincanger/memerator).
2. –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∑–∞–π—Ç–∏ –Ω–∞ [Wasp Discord Server](https://discord.gg/rzdnErX) –∏ –∑–∞–¥–∞—Ç—å –∏—Ö –Ω–∞–º!

# [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#part-1)–ß–∞—Å—Ç—å 1

## [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#configuration)Configuration

–ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ React/NodeJS, –ø–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ. –ù–æ –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å, —ç—Ç–æ –Ω–µ –∑–∞–π–º–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Wasp](https://wasp-lang.dev/).

Wasp —Å–¥–µ–ª–∞–µ—Ç –∑–∞ –Ω–∞—Å –≤—Å—é —Ç—è–∂–µ–ª—É—é —Ä–∞–±–æ—Ç—É. –í—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ —è –∏–º–µ—é –≤ –≤–∏–¥—É, —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É.  
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#setup)

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#set-up-your-wasp-project)–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç Wasp

–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Wasp, –≤—ã–ø–æ–ª–Ω–∏–≤ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–ª–µ–¥—É—é—â–µ–µ:

```bash
curl -sSL <https://get.wasp-lang.dev/installer.sh> | sh
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–î–∞–ª–µ–µ –¥–∞–≤–∞–π—Ç–µ –∫–ª–æ–Ω–∏—Ä—É–µ–º –≤–µ—Ç–∫—É `start` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è [Memerator](http://damemerator.netlify.app/), –∫–æ—Ç–æ—Ä—É—é —è –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è –≤–∞—Å:

```bash
git clone -b start https://github.com/vincanger/memerator.git
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ `Memerator` –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ VS Code:

```bash
cd Memerator && code .
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–í—ã –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ Wasp —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–∞—à–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ñ–∞–π–ª–æ–≤:

```bash
.
‚îú‚îÄ‚îÄ‚îÄ‚îÄ main.wasp # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ wasp.
‚îî‚îÄ‚îÄ‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ client # –°—é–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –∫–æ–¥ –≤–∞—à–µ–≥–æ React-–∫–ª–∏–µ–Ω—Ç–∞ (JS/CSS/HTML).
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ server # –°—é–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –∫–æ–¥ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (Node JS).
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ shared # –í–∞—à –æ–±—â–∏–π (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è) –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—é–¥–∞.

```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ–∞–π–ª `main.wasp`. –í—ã –º–æ–∂–µ—Ç–µ —Å—á–∏—Ç–∞—Ç—å –µ–≥–æ ‚Äù—Å–∫–µ–ª–µ—Ç–æ–º", –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π, –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞ –≤–∞—Å ü§Ø:

```js
app Memerator {
  –æ—Å–∞: {
    –≤–µ—Ä—Å–∏—è: "^0.11.3"
  },
  title: "Memerator",
  –∫–ª–∏–µ–Ω—Ç: {
    rootComponent: import { Layout } –∏–∑ "@client/Layout",
  },
  db: {
    —Å–∏—Å—Ç–µ–º–∞: PostgreSQL,
    prisma: {
      clientPreviewFeatures: ["extendedWhereUnique"]
    }
  },
  –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: {
    userEntity: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
    –º–µ—Ç–æ–¥—ã: {
      usernameAndPassword: {}
    },
    onAuthFailedRedirectTo: "/login",
    onAuthSucceededRedirectTo: "/"
  },
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: [
    ("openai", "4.2.0"),
    ("axios", "^1.4.0"),
    ("react-icons", "4.10.1"),
  ]
}

entity User {=psl
    id Int @id @default(autoincrement())
    –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è String @unique
    –ø–∞—Ä–æ–ª—å String
    memes Meme[]
    isAdmin Boolean @default(false)
    credits Int @default(2)
psl=}

entity Meme {=psl
    id String @id @default(uuid())
    url String
    —Ç–µ–∫—Å—Ç0 –°—Ç—Ä–æ–∫–∞
    —Ç–µ–∫—Å—Ç1 –°—Ç—Ä–æ–∫–∞
    —Ç–µ–º—ã String
    –∞—É–¥–∏—Ç–æ—Ä–∏—è –°—Ç—Ä–æ–∫–∞
    —à–∞–±–ª–æ–Ω –®–∞–±–ª–æ–Ω @relation(–ø–æ–ª—è: [templateId], —Å—Å—ã–ª–∫–∏: [id])
    templateId String
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @relation(fields: [userId], references: [id])
    userId Int
    createdAt DateTime @default(now())
psl=}

—Å—É—â–Ω–æ—Å—Ç—å –®–∞–±–ª–æ–Ω {=psl
    id String @id @unique
    –∏–º—è –°—Ç—Ä–æ–∫–∞
    url String
    —à–∏—Ä–∏–Ω–∞ Int
    –≤—ã—Å–æ—Ç–∞ Int
    boxCount Int
    –º–µ–º—ã Meme[]
psl=}

–º–∞—Ä—à—Ä—É—Ç HomePageRoute { path: "/", to: HomePage }
—Å—Ç—Ä–∞–Ω–∏—Ü–∞ HomePage {
  –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: import { HomePage } –∏–∑ "@client/pages/Home",
}

route LoginRoute { path: "/login", to: LoginPage }
—Å—Ç—Ä–∞–Ω–∏—Ü–∞ LoginPage {
  –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: import Login from "@client/pages/auth/Login"
}
route SignupRoute { path: "/signup", to: SignupPage }
—Å—Ç—Ä–∞–Ω–∏—Ü–∞ SignupPage {
  –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: import Signup from "@client/pages/auth/Signup"
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `main.wasp` –ø–æ—è–≤–∏–ª—Å—è –Ω–∞—à:

- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
- –º–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏,
- —Ç–∏–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏
- –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (‚Äù—Å—É—â–Ω–æ—Å—Ç–∏")
- —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞

–í—ã —Ç–∞–∫–∂–µ –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å —ç—Ç–æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `{=psl psl=}` –≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö –≤—ã—à–µ. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å–µ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å–∫–æ–±–∫–∞–º–∏ `psl`, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —è–≤–ª—è–µ—Ç—Å—è –¥—Ä—É–≥–∏–º —è–∑—ã–∫–æ–º, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ [Prisma Schema Language](https://www.prisma.io/docs/concepts/components/prisma-schema). Wasp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Prisma –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, –ø–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –≤—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Prisma, –≤—Å–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ.

–¢–∞–∫–∂–µ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [Wasp VS code extension](https://marketplace.visualstudio.com/items?itemName=wasp-lang.wasp), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ö–æ—Ä–æ—à—É—é –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ –Ω–∞–∏–ª—É—á—à–µ–µ –æ–±—â–µ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.  
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#db)

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#setting-up-the-database)–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ù–∞–º –µ—â–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Postgres.

–û–±—ã—á–Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ —Ö–ª–æ–ø–æ—Ç–Ω–æ, –Ω–æ —Å Wasp —ç—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ.

1. –ü—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ [Docker Deskop](https://www.docker.com/products/docker-desktop/),
2. –æ—Ç–∫—Ä–æ–π—Ç–µ **–æ—Ç–¥–µ–ª—å–Ω—É—é –≤–∫–ª–∞–¥–∫—É/–æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞,**.
3. `cd` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `Memerator`, –∞ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
wasp start db
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Postgres. –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å el—Å–µ! ü§Ø

–ü—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤—å—Ç–µ —ç—Ç—É –≤–∫–ª–∞–¥–∫—É —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤–º–µ—Å—Ç–µ —Å —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º docker –æ—Ç–∫—Ä—ã—Ç–æ–π –∏ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

–¢–µ–ø–µ—Ä—å –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
wasp db migrate-dev
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–∏ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `init`.  
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#env)

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#environment-variables)–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Ñ–∞–π–ª `.env.server.example`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```yaml
# —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ https://imgflip.com/signup –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .env.server
# –ü–†–ò–ú–ï–ß–ê–ù–ò–ï: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª–µ–º (–Ω–µ google)
IMGFLIP_USERNAME=
IMGFLIP_PASSWORD=

# –ø–æ–ª—É—á–∏—Ç–µ —Å–≤–æ–π api –∫–ª—é—á —Å https://platform.openai.com/
OPENAI_API_KEY=

JWT_SECRET=–∑–∞—Å–µ–∫—Ä–µ—á–µ–Ω–Ω–∞—è —Ñ—Ä–∞–∑–∞ –¥–ª–∏–Ω–æ–π –Ω–µ –º–µ–Ω–µ–µ —Ç—Ä–∏–¥—Ü–∞—Ç–∏ –¥–≤—É—Ö —Å–∏–º–≤–æ–ª–æ–≤
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ `.env.server` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –Ω–µ–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π:

- [—É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Imgflip](https://imgflip.com/signup) –∏
- [OpenAI API –∫–ª—é—á–∏](https://platform.openai.com/)

—Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞—à–∏—Ö –º–µ–º–æ–≤ ü§°
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#start)

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#start-your-app)–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
–∑–∞–ø—É—Å—Ç–∏—Ç—å wasp
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `wasp start` Wasp —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã npm, –∑–∞–ø—É—Å—Ç–∏—Ç –Ω–∞—à NodeJS-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç 3001 –∏ –Ω–∞—à React-–∫–ª–∏–µ–Ω—Ç –Ω–∞ –ø–æ—Ä—Ç 3000.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É [localhost:3000](http://localhost:3000/) –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ. –û—Å–Ω–æ–≤–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

–í –∫–æ–¥–µ —à–∞–±–ª–æ–Ω–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–æ–≤:

- —Ç–µ–º—ã
- —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

–≠—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –Ω–∞ –±—ç–∫–µ–Ω–¥ –¥–ª—è –≤—ã–∑–æ–≤–∞ OpenAI API —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π. –ó–∞—Ç–µ–º –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ [imglfip.com API](https://imgflip.com/api) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–∞.

–ù–æ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ **/caption_image** API imgflip –Ω—É–∂–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —à–∞–±–ª–æ–Ω–∞ –º–µ–º–∞. –ò —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–æ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–∞–º —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤ –∏–∑ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ **/get_memes** imgflip.

–¢–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏–º —ç—Ç–æ —Å–µ–π—á–∞—Å.  
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#generate-server)

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#serverside-code)–ö–æ–¥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `src/server/` —Å –∏–º–µ–Ω–µ–º `utils.ts`:

```js
import axios from 'axios';
import { stringify } from 'querystring';
import HttpError from '@wasp/core/HttpError.js';

type GenerateMemeArgs = {
  text0: string;
  text1: string;
  templateId: string;
};

export const fetchMemeTemplates = async () => {
  try {
    const response = await axios.get('https://api.imgflip.com/get_memes');
    return response.data.data.memes;
  } catch (error) {
    console.error(error);
    throw new HttpError(500, 'Error fetching meme templates');
  }
};

export const generateMemeImage = async (args: GenerateMemeArgs) => {
  console.log('args: ', args);

  try {
    const data = stringify({
      template_id: args.templateId,
      –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: process.env.IMGFLIP_USERNAME,
      –ø–∞—Ä–æ–ª—å: process.env.IMGFLIP_PASSWORD,
      text0: args.text0,
      text1: args.text1,
    });

    // –†–µ–∞–ª–∏–∑—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–µ–º–æ–≤ —Å –ø–æ–º–æ—â—å—é Imgflip API
    const res = await axios.post('https://api.imgflip.com/caption_image', data, {
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
    });

    const url = res.data.data.url;

    console.log('generated meme url: ', url);

    –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç url –∫–∞–∫ —Å—Ç—Ä–æ–∫—É;
  } catch (error) {
    console.error(error);
    throw new HttpError(500, 'Error generating meme image');
  }
};
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –Ω–∞–º –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –º–æ–∂–µ–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–º–æ–≤.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ POST-–∑–∞–ø—Ä–æ—Å –∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ **/caption_image** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

- **–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –∏ **–ø–∞—Ä–æ–ª—å** –Ω–∞—à–µ–≥–æ imgflip.
- **ID** —à–∞–±–ª–æ–Ω–∞ –º–µ–º–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- —Ç–µ–∫—Å—Ç –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –º–µ–º–∞, —Ç.–µ. **—Ç–µ–∫—Å—Ç0**
- —Ç–µ–∫—Å—Ç –¥–ª—è –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –º–µ–º–∞, —Ç.–µ. **text1**

–ê—Ä–≥—É–º–µ–Ω—Ç—ã text0 –∏ text1 —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª—è –Ω–∞—Å –Ω–∞—à –º–∏–ª—ã–π –¥—Ä—É–≥, ChatGPT. –ù–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã GPT –º–æ–≥ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—ã–∑–æ–≤ –µ–≥–æ API.

–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `src/server/` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `actions.ts`.

–ó–∞—Ç–µ–º –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `main.wasp` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ Wasp Action –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Ñ–∞–π–ª–∞:

```js
//...

–¥–µ–π—Å—Ç–≤–∏–µ createMeme {
  fn: import { createMeme } –∏–∑ "@server/actions.js",
  entities: [Meme, Template, User]
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–î–µ–π—Å—Ç–≤–∏–µ [Action - —ç—Ç–æ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ Wasp Operation](https://wasp-lang.dev/docs/data-model/operations/actions), –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è NodeJS, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–æ Wasp –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ —ç—Ç–æ –∑–∞ –≤–∞—Å.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ HTTP API –¥–ª—è Action, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –¥–∞–∂–µ –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É!

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [Wasp VS Code](https://marketplace.visualstudio.com/items?itemName=wasp-lang.wasp), –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É (–≤–≤–µ—Ä—Ö—É). –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –Ω–µ–µ –∫—É—Ä—Å–æ—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ `Quick Fix` > `create function createMeme`.

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–ª—è –≤–∞—Å —Ñ—É–Ω–∫—Ü–∏—é `createMeme` (–Ω–∏–∂–µ) –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ `actions.ts`, –µ—Å–ª–∏ —Ç–∞–∫–æ–π —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –û—á–µ–Ω—å –∫—Ä—É—Ç–æ!

```js
import { CreateMeme } from '@wasp/actions/types'

—Ç–∏–ø CreateMemeInput = void
—Ç–∏–ø CreateMemeOutput = void

export const createMeme: CreateMeme<CreateMemeInput, CreateMemeOutput> = async (args, context) => {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–¥–µ—Å—å
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–í—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —á—Ç–æ –æ–Ω —Ç–∞–∫–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π.

–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –±—É–¥–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –º–∞—Å—Å–∏–≤ `topics` –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É `audience` –¥–ª—è –º–µ–º–∞ –∏–∑ –Ω–∞—à–µ–π –≤–Ω–µ—à–Ω–µ–π —Ñ–æ—Ä–º—ã, –∞ –≤ –∫–æ–Ω—Ü–µ –≤–µ—Ä–Ω–µ–º —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å `Meme`, –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –º—ã –∏ –¥–æ–ª–∂–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—à–∏ —Ç–∏–ø—ã.

–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç—å `Meme` - —ç—Ç–æ –º–æ–¥–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `main.wasp`.

–ó–Ω–∞—è —ç—Ç–æ, –º—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `actions.ts` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
import type { CreateMeme } from '@wasp/actions/types'
import type { Meme } from '@wasp/entities';

type CreateMemeArgs = { topics: string[]; audience: string };

export const createMeme: CreateMeme<CreateMemeArgs, Meme> = async ({ topics, audience }, context) => {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–¥–µ—Å—å
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ü—Ä–µ–∂–¥–µ —á–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É, –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è, –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è `createMeme` –∏ –∫–∞–∫ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞—à `Meme`:

1. –ø–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω –º–µ–º–∞ —Å imgflip, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
2. –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–º—ã –∏ —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –≤ OpenAI‚Äôs chat completions API
3. —Å–æ–æ–±—â–∏—Ç—å OpenAI, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞—à–µ–π —Å–ª–µ–¥—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, —Ç. –µ. [–≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏](https://platform.openai.com/docs/guides/gpt/function-calling) OpenAI.
4. –ø–µ—Ä–µ–¥–∞–µ–º —ç—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É imgflip **/caption-image** –∏ –ø–æ–ª—É—á–∞–µ–º url –Ω–∞—à–µ–≥–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –º–µ–º–∞
5. —Å–æ—Ö—Ä–∞–Ω—è–µ–º url –º–µ–º–∞ –∏ –¥—Ä—É–≥—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–∞—à–µ–π –ë–î –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç—å `Meme`.

–£—á–∏—Ç—ã–≤–∞—è –≤—Å–µ —ç—Ç–æ, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –ø–æ–ª–Ω–æ–π –∑–∞–º–µ–Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –Ω–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ `actions.ts` –Ω–∞ –≥–æ—Ç–æ–≤—ã–π —ç–∫—à–µ–Ω `createMeme`:

```js
import HttpError from '@wasp/core/HttpError.js';
import OpenAI from 'openai';
import { fetchMemeTemplates, generateMemeImage } –∏–∑ './utils.js';

import type { CreateMeme } from '@wasp/actions/types';
import type { Meme, Template } from '@wasp/entities';

type CreateMemeArgs = { topics: string[]; audience: string };

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

export const createMeme: CreateMeme<CreateMemeArgs, Meme> = async ({ topics, audience }, context) => {
  if (!context.user) {
    throw new HttpError(401, '–í—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã');
  }

  if (context.user.credits === 0 && !context.user.isAdmin) {
    throw new HttpError(403, '–£ –≤–∞—Å –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å –∫—Ä–µ–¥–∏—Ç–æ–≤');
  }

  const topicsStr = topics.join(', ');

  let templates: Template[] = await context.entities.Template.findMany({});

    if (templates.length === 0) {
    const memeTemplates = await fetchMemeTemplates();
    templates = await Promise.all(
      memeTemplates.map(async (template: any) => {
        const addedTemplate = await context.entities.Template.upsert({
          where: { id: template.id },
          create: {
            id: template.id,
            –∏–º—è: template.name,
            url: template.url,
            width: template.width,
            –≤—ã—Å–æ—Ç–∞: template.height,
            boxCount: template.box_count
          },
          update: {}
        });

        return addedTemplate;
      })
    );
  }

  // –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —Å box_count > 2
  templates = templates.filter((template) => template.boxCount <= 2);
  const randomTemplate = templates[Math.floor(Math.random() * templates.length)];

  console.log('—Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω: ', randomTemplate);

  const sysPrompt = `–í—ã —è–≤–ª—è–µ—Ç–µ—Å—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º –∏–¥–µ–π –¥–ª—è –º–µ–º–æ–≤. –í—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å imgflip api –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π –≤–∞–º–∏ –∏–¥–µ–∏. –ü–æ–ª—É—á–∏–≤ —Å–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∏ —Ç–µ–º—ã, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –º–µ–º –¥–ª—è —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω`;
  const userPrompt = `–¢–æ–ø–∏–∫–∏: ${topicsStr} \n –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: ${–∞—É–¥–∏—Ç–æ—Ä–∏—è} \n –®–∞–±–ª–æ–Ω: ${randomTemplate.name} \n`;

  let openAIResponse: OpenAI.Chat.Completions.ChatCompletion;
  try {
    openAIResponse = await openai.chat.completions.create({
      —Å–æ–æ–±—â–µ–Ω–∏—è: [
        { —Ä–æ–ª—å: 'system', —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: sysPrompt }
        { —Ä–æ–ª—å: 'user', —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: userPrompt }
      ],
      —Ñ—É–Ω–∫—Ü–∏–∏: [
        {
          name: 'generateMemeImage',
          description: '–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–º —á–µ—Ä–µ–∑ API imgflip –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–π –∏–¥–µ–∏',
          –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: {
            —Ç–∏–ø: 'object',
            —Å–≤–æ–π—Å—Ç–≤–∞: {
              text0: { type: 'string', description: '–¢–µ–∫—Å—Ç –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–π –Ω–∞–¥–ø–∏—Å–∏ –º–µ–º–∞' },
              text1: { type: 'string', description: '–¢–µ–∫—Å—Ç –¥–ª—è –Ω–∏–∂–Ω–µ–π –Ω–∞–¥–ø–∏—Å–∏ –º–µ–º–∞' }
            },
            required: ['templateName', 'text0', 'text1'],
          },
        },
      ],
      function_call: {
        name: 'generateMemeImage',
      },
      model: 'gpt-4-0613',
    });
  } catch (error: any) {
    console.error('–û—à–∏–±–∫–∞ –≤—ã–∑–æ–≤–∞ openAI: ', error);
    throw new HttpError(500, '–û—à–∏–±–∫–∞ –≤—ã–∑–æ–≤–∞ openAI');
  }

  console.log(openAIResponse.choices[0]);

  /**
   * –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π openAI, –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
   */
  // {
  // index: 0,
  // —Å–æ–æ–±—â–µ–Ω–∏–µ: {
  // —Ä–æ–ª—å: '–ø–æ–º–æ—â–Ω–∏–∫',
  // —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: null,
  // function_call: {
  // name: 'generateMeme',
  // arguments: '{\n' +
  // `"text0": "CSS, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–∏—Å–∞–ª–∏ –≤–µ—Å—å –¥–µ–Ω—å",\n` + // ``—Ç–µ–∫—Å—Ç0''.
  // ' "text1": "–≠—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —É–∂–∞—Å–Ω–æ"\n' + // '
  // '}'
  // }
  // },
  // finish_reason: 'stop'
  // }
  if (!openAIResponse.choices[0].message.function_call) throw new HttpError(500, 'No function call in openAI response');

  const gptArgs = JSON.parse(openAIResponse.choices[0].message.function_call.arguments);
  console.log('gptArgs: ', gptArgs);

  const memeIdeaText0 = gptArgs.text0;
  const memeIdeaText1 = gptArgs.text1;

  console.log('meme Idea args: ', memeIdeaText0, memeIdeaText1);

  const memeUrl = await generateMemeImage({
    templateId: randomTemplate.id,
    text0: memeIdeaText0,
    text1: memeIdeaText1,
  });

  const newMeme = await context.entities.Meme.create({
    data: {
      text0: memeIdeaText0,
      text1: memeIdeaText1,
      —Ç–µ–º—ã: topicsStr,
      –∞—É–¥–∏—Ç–æ—Ä–∏—è: –∞—É–¥–∏—Ç–æ—Ä–∏—è,
      url: memeUrl,
      —à–∞–±–ª–æ–Ω: { connect: { id: randomTemplate.id } },
      –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: { connect: { id: context.user.id } },
    },
  });

  return newMeme;
};
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ –∫–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—è—Å–Ω–µ–Ω–∏–π, –Ω–æ —è —Ö–æ—á—É –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–∞—Ä—É –º–æ–º–µ–Ω—Ç–æ–≤:

1. –û–±—ä–µ–∫—Ç `context` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö –∏ –∑–∞–ø—Ä–æ—Å–∞—Ö Wasp. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∏–µ–Ω—Ç [Prisma](https://prisma.io/) —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å—É—â–Ω–æ—Å—Ç—è–º –ë–î, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `main.wasp`.
2. –°–Ω–∞—á–∞–ª–∞ –º—ã –∏—â–µ–º —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤ imgflip –≤ –Ω–∞—à–µ–π –ë–î. –ï—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –∏—Ö —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `fetchTemplates`, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Ä–∞–Ω–µ–µ. –ó–∞—Ç–µ–º –º—ã `–≤—Å—Ç–∞–≤–ª—è–µ–º` –∏—Ö –≤ –Ω–∞—à—É –ë–î.
3. –ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª–µ–µ 2 —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π, –Ω–æ –≤ —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤ —Å 2 —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏, —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ.
4. –ú—ã –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤—ã –¥–ª—è –Ω–∞—à–µ–≥–æ –º–µ–º–∞ (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–ª—É—á–∞–π–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –º–µ–º–æ–≤).
5. –ú—ã —Å–æ–æ–±—â–∞–µ–º OpenAI API –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤ `functions` –∏ `function_call`, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –µ–º—É –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON-–∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `generateMemeImage`.

–û—Ç–ª–∏—á–Ω–æ! –ù–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –Ω–∞—á–Ω–µ–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–º—ã, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö –Ω–∞ –Ω–∞—à–µ–º —Ñ—Ä–æ–Ω—Ç-—ç–Ω–¥–µ.

–ü–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∑–∞–ø—Ä–æ—Å Wasp Query. –ó–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –¥–µ–π—Å—Ç–≤–∏–µ, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è _—á—Ç–µ–Ω–∏—è_ –¥–∞–Ω–Ω—ã—Ö.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `src/server –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `queries.ts`.

–ó–∞—Ç–µ–º –≤ —Ñ–∞–π–ª–µ `main.wasp` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```js
//...

–∑–∞–ø—Ä–æ—Å getAllMemes {
  fn: import { getAllMemes } from "@server/queries.js",
  entities: [Meme]
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ó–∞—Ç–µ–º –≤ —Ñ–∞–π–ª–µ `queries.ts` –¥–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `getAllMemes`:

```js
import HttpError from '@wasp/core/HttpError.js';

import type { Meme } from '@wasp/entities';
import type { GetAllMemes } from '@wasp/queries/types';

export const getAllMemes: GetAllMemes<void, Meme[]> = async (_args, context) => {
  const memeIdeas = await context.entities.Meme.findMany({
    orderBy: { createdAt: 'desc' },
    include: { template: true },
  });

  return memeIdeas;
};
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

### [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#clientside-code)–ö–æ–¥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–¥ `createMeme` –∏ `getAllMemes`, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏–º –µ–≥–æ –∫ –Ω–∞—à–µ–º—É –∫–ª–∏–µ–Ω—Ç—É.

Wasp –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏, –∏ –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –Ω–∞ –Ω–∞—à–µ–º —Ñ—Ä–æ–Ω—Ç-—ç–Ω–¥–µ.

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ `src/client/pages/Home.tsx` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞:

```js
//...–¥—Ä—É–≥–∏–µ –∏–º–ø–æ—Ä—Ç—ã...
import { useQuery } from '@wasp/queries';
import createMeme from '@wasp/actions/createMeme';
import getAllMemes from '@wasp/queries/getAllMemes';
import useAuth from '@wasp/auth/useAuth';

export function HomePage() {
  const [topics, setTopics] = useState(['']);
  const [audience, setAudience] = useState('');
  const [isMemeGenerating, setIsMemeGenerating] = useState(false);

  // üòé üòé üòé
  const { data: user } = useAuth();
  const { –¥–∞–Ω–Ω—ã–µ: memes, isLoading, error } = useQuery(getAllMemes);

  const handleGenerateMeme: FormEventHandler<HTMLFormElement> = async (e) => {
    e.preventDefault();
    if (!user) {
      history.push('/login');
      return;
    }
    if (topics.join('').trim().length === 0 || audience.length === 0) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–µ–º—É –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é');
      return;
    }
    try {
      setIsMemeGenerating(true);
      await createMeme({ topics, audience }); // <--- üòé üòé üòé üòé
    } catch (error: any) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–∞: ' + error.message);
    } finally {
      setIsMemeGenerating(false);
    }
  };

//...
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ `createMeme` –∏ `getAllMemes` (üòé).

–î–ª—è `getAllMemes` –º—ã –æ–±–µ—Ä–Ω—É–ª–∏ –µ–≥–æ –≤ —Ö—É–∫ `useQuery`, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∞—Ç—å –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –Ω–∞—à —ç–∫—à–µ–Ω `createMeme` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `handleGenerateMeme`, –∫–æ—Ç–æ—Ä—ã–π –º—ã –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞—à–µ–π —Ñ–æ—Ä–º—ã.

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–¥ –≤ —Ñ–∞–π–ª `Home.tsx` –ø–æ —á–∞—Å—Ç—è–º, –≤–æ—Ç —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º –∫–æ–¥–æ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–º–æ–≤. –ó–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Å—å —Ñ–∞–π–ª `Home.tsx` —ç—Ç–∏–º –∫–æ–¥–æ–º, –∞ –Ω–∏–∂–µ —è —Ä–∞—Å—Å–∫–∞–∂—É –æ –Ω–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ:

```js
import { useState, FormEventHandler } from 'react';
import { useQuery } from '@wasp/queries';
import createMeme from '@wasp/actions/createMeme';
import getAllMemes from '@wasp/queries/getAllMemes';
import useAuth from '@wasp/auth/useAuth';
import { useHistory } from 'react-router-dom';
–∏–º–ø–æ—Ä—Ç {
  AiOutlinePlusCircle,
  AiOutlineMinusCircle,
  AiOutlineRobot,
} –∏–∑ 'react-icons/ai';

export function HomePage() {
  const [topics, setTopics] = useState(['']);
  const [audience, setAudience] = useState('');
  const [isMemeGenerating, setIsMemeGenerating] = useState(false);

  const history = useHistory();
  const { data: user } = useAuth();
  const { data: memes, isLoading, error } = useQuery(getAllMemes);

  const handleGenerateMeme: FormEventHandler<HTMLFormElement> = async (e) => {
    e.preventDefault();
    if (!user) {
      history.push('/login');
      return;
    }
    if (topics.join('').trim().length === 0 || audience.length === 0) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–µ–º—É –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é');
      return;
    }
    try {
      setIsMemeGenerating(true);
      await createMeme({ topics, audience });
    } catch (error: any) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–∞: ' + error.message);
    } finally {
      setIsMemeGenerating(false);
    }
  };

  const handleDeleteMeme = async (id: string) => {
    //...
  };

  if (isLoading) return 'Loading...';
  if (error) return 'Error: ' + error;

  return (
    <div className='p-4'>
      <h1 className='text-3xl font-bold mb-4'>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ Memerator!</h1>
      <p className='mb-4'>–ù–∞—á–Ω–∏—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ–∏ –º–µ–º–æ–≤, —É–∫–∞–∑–∞–≤ —Ç–µ–º—ã –∏ —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é.
      <form onSubmit={handleGenerateMeme}>.
        <div className='mb-4 max-w-[500px]'>
          <label htmlFor='topics' className='block font-bold mb-2'>
            –¢–µ–º—ã:
          </label>
          {topics.map((topic, index) => (
            <input
              key={index}
              type='text'
              id='topics'
              value={topic}
              onChange={(e) => {
                const updatedTopics = [...topics];
                updatedTopics[index] = e.target.value;
                setTopics(updatedTopics);
              }}
              className='p-1 mr-1 mb-1 border rounded text-lg focus:outline-none focus:ring-2focus:ring-primary-600 focus:border-transparent'
            />
          ))}
          <div className='flex items-center my-2 gap-1'>
            <–∫–Ω–æ–ø–∫–∞
              type='button'
              onClick={() => topics.length < 3 && setTopics([...topics, ''])}
              className='flex items-center gap-1 bg-primary-200 hover:bg-primary-300 border-2 text-black text-xs py-1 px-2 rounded'
            >
              <AiOutlinePlusCircle /> –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É
            </button>
            {topics.length > 1 && (
              <–∫–Ω–æ–ø–∫–∞
                onClick={() => setTopics(topics.slice(0, -1))}
                className='flex items-center gap-1 bg-red-500 hover:bg-red-700 border-2 text-white text-xs py-1 px-2 rounded'
              >
                <AiOutlineMinusCircle /> –£–¥–∞–ª–∏—Ç—å —Ç–µ–º—É
              </button>
            )}
          </div>
        </div>
        <div className='mb-4'>
          <label htmlFor='audience' className='block font-bold mb-2'>
            –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:
          </label>
          <input
            type='text'
            id='audience'
            value={audience}
            onChange={(e) => setAudience(e.target.value)}
            className='p-1 border rounded text-lg focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent'
          />
        </div>
        <–∫–Ω–æ–ø–∫–∞
          type='submit'
          className={`flex items-center gap-1 bg-primary-200 hover:bg-primary-300 border-2 text-black text-sm font-bold py-1 px-2 rounded ${{
            isMemeGenerating ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'
          } $}`}
        >
          <AiOutlineRobot />
          {!isMemeGenerating ? 'Generate Meme' : 'Generating...'}
        </button>
      </form>

      {!!memes && memes.length > 0 ? (
        memes.map((memeIdea) => (
          <div key={memeIdea.id} className='mt-4 p-4 bg-gray-100 rounded-lg'>
            <img src={memeIdea.url} width='500px' />
            <div className='flex flex-col items-start mt-2'>
              <div>
                <span className='text-sm text-gray-700'>–¢–µ–º—ã: </span>
                <span className='text-sm italic text-gray-500'>{memeIdea.topics}</span>.
              </div>
              <div>
                <span className='text-sm text-gray-700'>–ê—É–¥–∏—Ç–æ—Ä–∏—è: </span>
                <span className='text-sm italic text-gray-500'>{memeIdea.audience}</span>.
              </div>
            </div>
            {/* TODO: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –º–µ–º–æ–≤ */}
          </div>
        ))
      ) : (
        <div className='flex justify-center mt-5'> :( –º–µ–º–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
      )}
    </div>
  );
}
```

–í—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

–í —ç—Ç–æ–º –∫–æ–¥–µ –µ—Å—Ç—å –¥–≤–µ –≤–µ—â–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —è —Ö–æ—Ç–µ–ª –±—ã –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ:

1. –•—É–∫ `useQuery` –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—à –∑–∞–ø—Ä–æ—Å `getAllMemes`, –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è. –û–Ω —Ç–∞–∫–∂–µ –∫—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –Ω–∞—Å, –∞ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–µ–º –≤ –Ω–∞—à—É –ë–î —Å –ø–æ–º–æ—â—å—é `createMeme`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–µ–º–∞.
2. –•—É–∫ `useAuth` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞—à–µ–º –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É, –º—ã –∑–∞—Å—Ç–∞–≤–∏–º –µ–≥–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω —Å–º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–º.

–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫–ª–∞—Å—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Wasp, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ–±–ª–µ–≥—á–∞—é—Ç –≤–∞—à—É –∂–∏–∑–Ω—å –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ üôÇ .

–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–º. –í–æ—Ç —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —è —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª:

–•–∞—Ö–∞. –î–æ–≤–æ–ª—å–Ω–æ –Ω–µ–ø–ª–æ—Ö–æ!

–ù–æ –±—ã–ª–æ –±—ã –∑–¥–æ—Ä–æ–≤–æ, –µ—Å–ª–∏ –±—ã –º—ã –º–æ–≥–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –Ω–∞—à–∏ –º–µ–º—ã? –ê –µ—Å–ª–∏ –±—ã –º—ã –º–æ–≥–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞–±–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤ –º–µ–º–æ–≤ –¥–ª—è –Ω–∞—à–µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞? –†–∞–∑–≤–µ —ç—Ç–æ –Ω–µ –±—ã–ª–æ –±—ã —Ç–æ–∂–µ –∫—Ä—É—Ç–æ?

–î–∞, –±—ã–ª–æ –±—ã. –¢–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ.  
[](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#tbc)

# [](https://dev.to/wasp/build-your-own-ai-meme-generator-learn-how-to-use-openais-function-calls-1p21#to-be-continued)To Be Continued‚Ä¶

–í–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –º—ã –∑–∞–π–º–µ–º—Å—è –æ—Å—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏–º –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞–Ω–∏—è cron –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –º–µ–º–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å –∏ –¥–µ–ª–∏—Ç—å—Å—è –º–µ–º–∞–º–∏.

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ —ç—Ç–æ –ø–æ–ª–µ–∑–Ω—ã–º, **–ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∫–∞–∂–∏—Ç–µ –Ω–∞–º —Å–≤–æ—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, [–¥–∞–≤ –Ω–∞–º –∑–≤–µ–∑–¥—É –Ω–∞ GitHub](https://github.com/wasp-lang/wasp)**! –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–µ–ª–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ–¥–æ–±–Ω—ã—Ö –≤–µ—â–µ–π.
