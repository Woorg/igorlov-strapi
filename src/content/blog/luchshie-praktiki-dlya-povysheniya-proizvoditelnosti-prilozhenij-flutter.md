---
title: Лучшие практики для повышения производительности приложений Flutter
meta_title: >-
  Лучшие практики для повышения производительности приложений Flutter - Фул
  Фронт Дев
description: Несколько советов по улучшению производительности приложений на Flutter.
date: 2023-09-09T14:11:00.000Z
image: ../../assets/images/undefined-Sep-09-2023.avif
categories:
  - Как закодить
author: Igor Gorlov
tags:
  - Flutter
draft: false
lastmod: 2024-03-20T21:26:48.017Z
---

В современном технологическом мире производительность является основой любого передового приложения. Но не всегда это возможно для разработчиков, поскольку пропущенные кадры и ошибки влияют на надежность и приводят к негативным впечатлениям пользователей.

Именно поэтому использование Flutter достигло такого уровня, что он стал самым популярным фреймворком для разработки приложений в 2021 году. Разумеется, без глубокого понимания этого фреймворка невозможно добиться успеха. Чтобы помочь вам в этом, мы привели несколько советов по улучшению производительности приложений на Flutter.

<!-- wp:rank-math/toc-block {"title":"Оглавление","headings":[{"key":"2681fbd8-316b-4013-84d9-b902f621973c","content":"Не перестраивайте виджеты","level":2,"link":"#не-перестраивайте-виджеты","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"675cc7a6-27cc-480d-b632-8da09b6325f3","content":"Ключевое слово Const может помочь разделить виджеты","level":2,"link":"#ключевое-слово-const-может-помочь-разделить-виджеты","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"c773e970-34e3-4218-82c3-89a69966fb7c","content":"Async/Await","level":2,"link":"#async-await","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"8a3de724-45a6-47b5-b55b-f622af676b60","content":"Сведите виджет Opacity к минимуму","level":2,"link":"#сведите-виджет-opacity-к-минимуму","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"f9df3141-80db-4d02-8ccc-d8c19dfc0785","content":"16 мс или менее","level":2,"link":"#16-мс-или-менее","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"a16ad3b6-7563-47f4-a90c-4b3ec74d73fa","content":"Рендерить только видимые виджеты","level":2,"link":"#рендерить-только-видимые-виджеты","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"68d5102b-f474-447c-94d8-11a6ac3b2a04","content":"Избегайте использования ListView для длинных списков","level":2,"link":"#избегайте-использования-list-view-для-длинных-списков","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"3b48969a-8492-48dd-8125-4e35980bc579","content":"Используйте виджеты без состояния, чтобы избежать разделения","level":2,"link":"#используйте-виджеты-без-состояния-чтобы-избежать-разделения","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"a02fda3a-6d8a-40b8-b12d-264c0f71dbe0","content":"Используйте последнюю версию Flutter","level":2,"link":"#используйте-последнюю-версию-flutter","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"a77def10-77e7-4064-aeb9-5d3614a01d74","content":"Минимизация размера приложения","level":2,"link":"#минимизация-размера-приложения","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"a6d10bcf-d24d-4e09-9474-0db719da92f8","content":"Нанять разработчика приложений Flutter","level":2,"link":"#нанять-разработчика-приложений-flutter","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"2fe66991-f937-49e7-b5fd-a823c225879c","content":"Использование библиотеки управления состояниями","level":2,"link":"#использование-библиотеки-управления-состояниями","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"ddaadffd-a542-4e5c-a468-ddaf6e2e70cf","content":"Ленивая загрузка","level":2,"link":"#ленивая-загрузка","disable":false,"isUpdated":false,"isGeneratedLink":true},{"key":"8257ee68-ec8b-49d6-b3ec-38a7224f84a0","content":"Итог","level":2,"link":"#итог","disable":false,"isUpdated":false,"isGeneratedLink":true}],"listStyle":"ul"} -->
<div class="wp-block-rank-math-toc-block" id="rank-math-toc"><h2>Оглавление</h2><nav><ul><li class=""><a href="#не-перестраивайте-виджеты">Не перестраивайте виджеты</a></li><li class=""><a href="#ключевое-слово-const-может-помочь-разделить-виджеты">Ключевое слово Const может помочь разделить виджеты</a></li><li class=""><a href="#async-await">Async/Await</a></li><li class=""><a href="#сведите-виджет-opacity-к-минимуму">Сведите виджет Opacity к минимуму</a></li><li class=""><a href="#16-мс-или-менее">16 мс или менее</a></li><li class=""><a href="#рендерить-только-видимые-виджеты">Рендерить только видимые виджеты</a></li><li class=""><a href="#избегайте-использования-list-view-для-длинных-списков">Избегайте использования ListView для длинных списков</a></li><li class=""><a href="#используйте-виджеты-без-состояния-чтобы-избежать-разделения">Используйте виджеты без состояния, чтобы избежать разделения</a></li><li class=""><a href="#используйте-последнюю-версию-flutter">Используйте последнюю версию Flutter</a></li><li class=""><a href="#минимизация-размера-приложения">Минимизация размера приложения</a></li><li class=""><a href="#нанять-разработчика-приложений-flutter">Нанять разработчика приложений Flutter</a></li><li class=""><a href="#использование-библиотеки-управления-состояниями">Использование библиотеки управления состояниями</a></li><li class=""><a href="#ленивая-загрузка">Ленивая загрузка</a></li><li class=""><a href="#итог">Итог</a></li></ul></nav></div>
<!-- /wp:rank-math/toc-block -->

<h2 class="wp-block-heading" id="не-перестраивайте-виджеты">Не перестраивайте виджеты</h2>

Слишком часто мы видим перестройку виджетов как типичный антипаттерн производительности. Каждое взаимодействие пользователя с виджетом приводит к обновлению всего представления. Это, в свою очередь, влияет на леса и фоновый виджет, что только замедляет полную загрузку приложения. Лучше ограничить процесс перестройки только тем, что необходимо обновить. Для перестройки необходимых частей можно использовать паттерн Bloc.

<h2 class="wp-block-heading" id="ключевое-слово-const-может-помочь-разделить-виджеты">Ключевое слово Const может помочь разделить виджеты</h2>

Указывая на то, что конкретная переменная имеет постоянное значение, ключевое слово Const не позволяет программисту изменить его во время компиляции. Это не только поможет использовать несколько виджетов без ущерба для производительности, но и поможет перестроить виджеты, требующие обновления. Другими словами, это значительно уменьшит размер функции сборки и виджетов.

<h2 class="wp-block-heading" id="async-await">Async/Await</h2>

При разработке приложения очень важно проверять, является ли код синхронным или асинхронным. Начать писать код асинхронно можно с помощью приложения Async/Await. Если вставить “await” после асинхронной функции, то следующие строки будут ожидать результатов работы Future, и операция будет выглядеть синхронной. Конечно, обновлять или отлаживать Async-код непросто.

<h2 class="wp-block-heading" id="сведите-виджет-opacity-к-минимуму">Сведите виджет Opacity к минимуму</h2>

Виджет Opacity заставляет виджет перестраиваться после каждого кадра, что может повлиять на производительность Flutter, особенно если вы работаете с анимацией. Вместо использования виджета Opacity лучше применять Opacity непосредственно к изображению, чтобы минимизировать использование ресурсов.

Используйте виджет Opacity по мере необходимости. Многие пользователи могут использовать виджет Opacity для скрытия определенного виджета, что характерно для других языков, например Objective-C. Например, можно обернуть виджет внутри виджета Opacity, чтобы скрыть его.

Даже если это работает, постоянное скрытие виджета на экране обходится недешево. Вероятно, дешевле будет перестроить виджет с помощью метода, не требующего виджета Text. Виджет Visibility лучше, чем Opacity, подходит для отображения виджета на экране, поскольку в нем нет дробной непрозрачности. Он либо виден, либо невидим.

<h2 class="wp-block-heading" id="16-мс-или-менее">16 мс или менее</h2>

Посмотрите на пропущенные кадры в вашем приложении и проверьте, какие из них не строятся и не рендерятся за 16 мс или меньше. Поскольку для сборки и рендеринга требуется отдельный поток, необходимо разделить 16 мс на два. Другими словами, изображение должно быть построено за 8 мс или менее и отрисовано за 8 мс или менее.

Порог в 16 мс используется скорее для повышения заряда батареи и контроля температуры устройства, так как не оказывает существенного влияния на визуальное изменение.

<h2 class="wp-block-heading" id="рендерить-только-видимые-виджеты">Рендерить только видимые виджеты</h2>

Когда имеется длинный горизонтальный или вертикальный список виджетов, необходимо контролировать, сколько виджетов одновременно отображается на экране. Это можно сделать с помощью конструктора ListView.builder, что является одним из лучших приемов Flutter.

Например, вы можете использовать ListView.builder, если планируете разработать временную шкалу из 50 постов. Если же использовать конструктор колонок или ListView, то велика вероятность того, что все посты будут созданы одновременно после запуска приложения.

<h2 class="wp-block-heading" id="избегайте-использования-list-view-для-длинных-списков">Избегайте использования ListView для длинных списков</h2>

И снова на помощь может прийти ListView.builder. Если вы не можете увидеть весь список на одной экранной странице, то лучше использовать ListView.builder, чем колонку.

Почему? Потому что только видимые на экране элементы занимают место в памяти, а если их нет на экране, то место в памяти останется свободным. Это очень эффективно для оптимизации памяти и повышения производительности.

<h2 class="wp-block-heading" id="используйте-виджеты-без-состояния-чтобы-избежать-разделения">Используйте виджеты без состояния, чтобы избежать разделения</h2>

Если метод построения имеет различные уровни вложенности, можно рассмотреть возможность разделения виджета на несколько методов. Это может сильно повлиять на производительность процессора, поскольку Flutter вынужден перестраивать все мелкие виджеты, включая статические, каждый раз, когда перестраивается основной виджет. Для поддержания эффективности работы процессора следует использовать виджеты без статических методов.

<h2 class="wp-block-heading" id="используйте-последнюю-версию-flutter">Используйте последнюю версию Flutter</h2>

Последняя версия всегда улучшена и наполнена новыми интересными функциями. Flutter - это фреймворк, который активно развивается и регулярно обновляется. Следить за последними версиями и внедрять их в свою разработку — значит оптимизировать производительность проекта.

<h2 class="wp-block-heading" id="минимизация-размера-приложения">Минимизация размера приложения</h2>

Использовать различные пакеты, скрипты и виджеты довольно просто. Однако хранение всех этих данных иногда занимает много памяти, что сказывается на общей производительности приложения.

Одна из лучших практик Flutter - использование решения Google для упаковки, которое позволяет компоновать различные приложения для Android. Использование пакета приложений имеет множество преимуществ, включая получение оригинального кода непосредственно из Play Store. Вы также можете обратиться в компанию по разработке мобильных приложений, чтобы эффективно завершить все это. Это подводит нас к следующему совету.

<h2 class="wp-block-heading" id="нанять-разработчика-приложений-flutter">Нанять разработчика приложений Flutter</h2>

Пожалуй, мы приберегли самое лучшее напоследок. Один из наиболее реальных способов повысить производительность Flutter - нанять разработчиков Flutter. Они работают небольшими эффективными группами, предоставляя решения для всех платформ, а это значит, что вам не придется тратить время и деньги на привлечение новой команды для каждой платформы.

Это также даст вам достаточно свободного времени, чтобы сосредоточиться на качестве и создавать нативные приложения с лучшим пользовательским опытом. Кроме того, поскольку вы работаете с одной командой, вы получаете большую гибкость и можете сразу же вносить изменения в пользовательский интерфейс и код.

<h2 class="wp-block-heading" id="использование-библиотеки-управления-состояниями">Использование библиотеки управления состояниями</h2>

Управление состояниями — обязательный фактор для разработки высокопроизводительных приложений на flutter. Централизуйте состояние вашего приложения, и вы увидите, как уменьшится количество перестроек, необходимых для обновления пользовательского интерфейса. Существует множество библиотек, таких как Bloc, Redux и Provider, со своим набором плюсов и минусов. Поэтому выберите ту, которая подходит для вашего проекта.

<h2 class="wp-block-heading" id="ленивая-загрузка">Ленивая загрузка</h2>

Ленивая загрузка может повысить общую производительность приложения на Flutter. Эта техника позволяет отложить загрузку ресурсов до того момента, когда они действительно потребуются. Это повышает общую скорость загрузки приложения.

<h2 class="wp-block-heading" id="итог">Итог</h2>

Итак, вот и все. Это десять лучших советов по улучшению производительности приложений на Flutter и лучшие практики. Эти советы помогут вам разрабатывать плавные, отзывчивые приложения с минимальным количеством заминок, ошибок и глючных кадров.

Конечно, для этого требуется определенный опыт, знания и инфраструктура, которые могут оказаться не под силу вашей текущей системе. Именно поэтому мы считаем необходимым привлекать к разработке приложений на Flutter надежную компанию, соответствующую вашим потребностям и бюджету.
