---
import { getEntry } from 'astro:content';
import { markdownify } from '@/lib/utils/textConverter';
import { Picture } from 'astro:assets';
import avatarPic from '../../assets/images/avatar-with-color-2.jpg';

const hero = await getEntry('sections', 'hero');

interface HeroBlock {
	heroBlock: {
		title: string;
		content: string;
		image: {
			alt: string;
		};
		button: {
			text: string;
			url: string;
		};
	};
}

const { heroBlock }: HeroBlock = hero.data;
const { style } = Astro.props;
const className = Astro.props.class;
// console.log(className);
---

<section class:list={['hero block', className]}>
	{
		heroBlock.image && (
			<div class="hero__avatar rounded-full bg-gray">
				<Picture
					class="h-full w-full rounded-full object-cover "
					src={avatarPic}
					width={112 * 3}
					height={112 * 3}
					alt={heroBlock.image.alt}
					loading="eager"
					formats={['avif', 'webp']}
					quality={60}
				/>
			</div>
		)
	}
	<div class="hero__content">
		{heroBlock.title && <h1 class="hero__title">{heroBlock.title}</h1>}
		{heroBlock.content && <p class="hero__text">{heroBlock.content}</p>}
	</div>

	<style>
		.hero {
			@apply grid items-center text-pretty bg-box fluid:gap-3 fluid:rounded-3xl fluid:p-8 lg:grid-cols-12 lg:fluid:px-12 lg:fluid:py-8 dark:bg-box-dark;
			&__avatar {
				@apply col-span-2 overflow-hidden rounded-full bg-box fluid:h-28 fluid:w-28;
			}

			&__content {
				@apply col-span-10;
			}

			&__title,
			&__text {
				@apply m-0 text-black fluid:text-3xl lg:fluid:text-3xl dark:text-white;
			}

			&__text {
				@apply text-gray-dark dark:text-gray;
			}
		}
	</style>
</section>
